2025-07-26 15:35:13,042 p=103462 u=master n=ansible | PLAY [🐳 Установка контейнерной поддержки] ********************************************************************************************************************************************
2025-07-26 15:35:13,052 p=103462 u=master n=ansible | TASK [📋 Информация о контейнеризации] ************************************************************************************************************************************************
2025-07-26 15:35:13,052 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:13 +0000 (0:00:00.012)       0:00:00.012 ********* 
2025-07-26 15:35:13,109 p=103462 u=master n=ansible | ok: [localhost] => 
  msg: "================================================================================\n\U0001F433 УСТАНОВКА КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n================================================================================\n\U0001F527 Компоненты: Enroot + Pyxis + NVIDIA Container Toolkit\n\U0001F3AF Целевые узлы: 4\n\U0001F3AE GPU узлы: 2\n\n\U0001F4CA Узлы для установки:\n\U0001F5A5️  Compute: cn01, cn02\n\U0001F511 Login:   sm02\n\U0001F39B️  Master:  sm01\n\n⏱️  Ожидаемое время: ~20-30 минут\n================================================================================"
2025-07-26 15:35:13,119 p=103462 u=master n=ansible | PLAY [🐳 Этап 1/3: Установка Enroot на все узлы] **************************************************************************************************************************************
2025-07-26 15:35:13,151 p=103462 u=master n=ansible | TASK [Gathering Facts] ****************************************************************************************************************************************************************
2025-07-26 15:35:13,151 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:13 +0000 (0:00:00.098)       0:00:00.110 ********* 
2025-07-26 15:35:15,597 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:35:15,673 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:35:15,680 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:15,695 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:35:15,735 p=103462 u=master n=ansible | TASK [common : [COMMON] Начало выполнения роли common] ********************************************************************************************************************************
2025-07-26 15:35:15,735 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:15 +0000 (0:00:02.584)       0:00:02.695 ********* 
2025-07-26 15:35:15,767 p=103462 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F527 Настройка базовых компонентов на sm01"
2025-07-26 15:35:15,781 p=103462 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F527 Настройка базовых компонентов на sm02"
2025-07-26 15:35:15,783 p=103462 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F527 Настройка базовых компонентов на cn01"
2025-07-26 15:35:15,797 p=103462 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F527 Настройка базовых компонентов на cn02"
2025-07-26 15:35:15,804 p=103462 u=master n=ansible | TASK [common : [COMMON] Обновление apt cache] *****************************************************************************************************************************************
2025-07-26 15:35:15,804 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:15 +0000 (0:00:00.068)       0:00:02.764 ********* 
2025-07-26 15:35:16,847 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:25,759 p=103462 u=master n=ansible | changed: [cn01]
2025-07-26 15:35:26,427 p=103462 u=master n=ansible | changed: [cn02]
2025-07-26 15:35:27,733 p=103462 u=master n=ansible | changed: [sm02]
2025-07-26 15:35:27,740 p=103462 u=master n=ansible | TASK [common : [COMMON] Установка базовых пакетов] ************************************************************************************************************************************
2025-07-26 15:35:27,740 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:27 +0000 (0:00:11.936)       0:00:14.700 ********* 
2025-07-26 15:35:28,778 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:35:28,893 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:35:28,972 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:35:38,847 p=103462 u=master n=ansible | changed: [sm01]
2025-07-26 15:35:38,855 p=103462 u=master n=ansible | TASK [common : [COMMON] Настройка timezone] *******************************************************************************************************************************************
2025-07-26 15:35:38,855 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:38 +0000 (0:00:11.114)       0:00:25.814 ********* 
2025-07-26 15:35:39,402 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:35:39,406 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:35:39,408 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:39,417 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:35:39,424 p=103462 u=master n=ansible | TASK [common : [COMMON] Создание пользователя slurm] **********************************************************************************************************************************
2025-07-26 15:35:39,424 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:39 +0000 (0:00:00.568)       0:00:26.383 ********* 
2025-07-26 15:35:39,970 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:35:39,971 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:35:39,974 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:40,047 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:35:40,054 p=103462 u=master n=ansible | TASK [common : [COMMON] Установка MUNGE] **********************************************************************************************************************************************
2025-07-26 15:35:40,054 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:40 +0000 (0:00:00.630)       0:00:27.014 ********* 
2025-07-26 15:35:41,145 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:41,158 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:35:41,164 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:35:41,175 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:35:41,209 p=103462 u=master n=ansible | TASK [common : [COMMON] Остановка MUNGE перед настройкой] *****************************************************************************************************************************
2025-07-26 15:35:41,209 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:41 +0000 (0:00:01.154)       0:00:28.168 ********* 
2025-07-26 15:35:43,092 p=103462 u=master n=ansible | changed: [cn02]
2025-07-26 15:35:43,095 p=103462 u=master n=ansible | changed: [sm02]
2025-07-26 15:35:43,140 p=103462 u=master n=ansible | changed: [cn01]
2025-07-26 15:35:43,210 p=103462 u=master n=ansible | changed: [sm01]
2025-07-26 15:35:43,218 p=103462 u=master n=ansible | TASK [common : [COMMON] Создание MUNGE ключа на master узле] **************************************************************************************************************************
2025-07-26 15:35:43,218 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:43 +0000 (0:00:02.009)       0:00:30.177 ********* 
2025-07-26 15:35:43,263 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:35:43,264 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:35:43,273 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:35:43,603 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:43,612 p=103462 u=master n=ansible | TASK [common : [COMMON] Настройка прав доступа MUNGE директорий] **********************************************************************************************************************
2025-07-26 15:35:43,613 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:43 +0000 (0:00:00.394)       0:00:30.572 ********* 
2025-07-26 15:35:44,044 p=103462 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:35:44,046 p=103462 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:35:44,047 p=103462 u=master n=ansible | ok: [sm02] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:35:44,051 p=103462 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:35:44,297 p=103462 u=master n=ansible | ok: [sm01] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:35:44,300 p=103462 u=master n=ansible | ok: [cn01] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:35:44,320 p=103462 u=master n=ansible | ok: [sm02] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:35:44,389 p=103462 u=master n=ansible | ok: [cn02] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:35:44,556 p=103462 u=master n=ansible | ok: [sm01] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:35:44,558 p=103462 u=master n=ansible | ok: [cn01] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:35:44,592 p=103462 u=master n=ansible | ok: [sm02] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:35:44,644 p=103462 u=master n=ansible | ok: [cn02] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:35:44,819 p=103462 u=master n=ansible | changed: [sm01] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 15:35:44,821 p=103462 u=master n=ansible | changed: [cn01] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 15:35:44,873 p=103462 u=master n=ansible | changed: [sm02] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 15:35:44,901 p=103462 u=master n=ansible | changed: [cn02] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 15:35:44,911 p=103462 u=master n=ansible | TASK [common : [COMMON] Получение MUNGE ключа с мастера] ******************************************************************************************************************************
2025-07-26 15:35:44,911 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:44 +0000 (0:00:01.298)       0:00:31.870 ********* 
2025-07-26 15:35:44,943 p=103462 u=master n=ansible | skipping: [sm01]
2025-07-26 15:35:45,312 p=103462 u=master n=ansible | ok: [sm02 -> sm01]
2025-07-26 15:35:45,313 p=103462 u=master n=ansible | ok: [cn01 -> sm01]
2025-07-26 15:35:45,313 p=103462 u=master n=ansible | ok: [cn02 -> sm01]
2025-07-26 15:35:45,321 p=103462 u=master n=ansible | TASK [common : [COMMON] Создание MUNGE ключа на остальных узлах] **********************************************************************************************************************
2025-07-26 15:35:45,321 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:45 +0000 (0:00:00.410)       0:00:32.281 ********* 
2025-07-26 15:35:45,356 p=103462 u=master n=ansible | skipping: [sm01]
2025-07-26 15:35:46,110 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:35:46,149 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:35:46,158 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:35:46,166 p=103462 u=master n=ansible | TASK [common : [COMMON] Настройка прав доступа на ключ MUNGE (мастер)] ****************************************************************************************************************
2025-07-26 15:35:46,166 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:46 +0000 (0:00:00.844)       0:00:33.125 ********* 
2025-07-26 15:35:46,212 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:35:46,213 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:35:46,225 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:35:46,439 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:46,446 p=103462 u=master n=ansible | TASK [common : [COMMON] Запуск и включение MUNGE] *************************************************************************************************************************************
2025-07-26 15:35:46,446 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:46 +0000 (0:00:00.280)       0:00:33.406 ********* 
2025-07-26 15:35:48,439 p=103462 u=master n=ansible | changed: [sm02]
2025-07-26 15:35:48,467 p=103462 u=master n=ansible | changed: [cn02]
2025-07-26 15:35:48,478 p=103462 u=master n=ansible | changed: [cn01]
2025-07-26 15:35:48,487 p=103462 u=master n=ansible | changed: [sm01]
2025-07-26 15:35:48,494 p=103462 u=master n=ansible | TASK [common : [COMMON] Проверка работы MUNGE] ****************************************************************************************************************************************
2025-07-26 15:35:48,494 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:48 +0000 (0:00:02.047)       0:00:35.453 ********* 
2025-07-26 15:35:48,780 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:35:48,789 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:35:48,818 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:35:49,771 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:49,780 p=103462 u=master n=ansible | TASK [common : [COMMON] Результат проверки MUNGE] *************************************************************************************************************************************
2025-07-26 15:35:49,780 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:49 +0000 (0:00:01.286)       0:00:36.739 ********* 
2025-07-26 15:35:49,816 p=103462 u=master n=ansible | ok: [sm01] => 
  msg: MUNGE работает корректно на sm01
2025-07-26 15:35:49,833 p=103462 u=master n=ansible | ok: [sm02] => 
  msg: MUNGE работает корректно на sm02
2025-07-26 15:35:49,835 p=103462 u=master n=ansible | ok: [cn01] => 
  msg: MUNGE работает корректно на cn01
2025-07-26 15:35:49,851 p=103462 u=master n=ansible | ok: [cn02] => 
  msg: MUNGE работает корректно на cn02
2025-07-26 15:35:49,858 p=103462 u=master n=ansible | TASK [common : [COMMON] Установка HWLOC] **********************************************************************************************************************************************
2025-07-26 15:35:49,859 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:49 +0000 (0:00:00.078)       0:00:36.818 ********* 
2025-07-26 15:35:50,880 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:35:50,933 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:50,938 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:35:51,001 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:35:51,009 p=103462 u=master n=ansible | TASK [common : [COMMON] Проверка HWLOC] ***********************************************************************************************************************************************
2025-07-26 15:35:51,009 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:51 +0000 (0:00:01.150)       0:00:37.969 ********* 
2025-07-26 15:35:51,292 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:51,307 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:35:51,308 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:35:51,338 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:35:51,345 p=103462 u=master n=ansible | TASK [common : [COMMON] Версия HWLOC] *************************************************************************************************************************************************
2025-07-26 15:35:51,346 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:51 +0000 (0:00:00.336)       0:00:38.305 ********* 
2025-07-26 15:35:51,378 p=103462 u=master n=ansible | ok: [sm01] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 15:35:51,394 p=103462 u=master n=ansible | ok: [sm02] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 15:35:51,396 p=103462 u=master n=ansible | ok: [cn01] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 15:35:51,411 p=103462 u=master n=ansible | ok: [cn02] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 15:35:51,418 p=103462 u=master n=ansible | TASK [common : [COMMON] Установка NFS server на master] *******************************************************************************************************************************
2025-07-26 15:35:51,418 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:51 +0000 (0:00:00.072)       0:00:38.377 ********* 
2025-07-26 15:35:51,468 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:35:51,469 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:35:51,481 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:35:52,384 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:52,392 p=103462 u=master n=ansible | TASK [common : [COMMON] Создание директорий для экспорта NFS] *************************************************************************************************************************
2025-07-26 15:35:52,392 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:52 +0000 (0:00:00.973)       0:00:39.351 ********* 
2025-07-26 15:35:52,431 p=103462 u=master n=ansible | skipping: [sm02] => (item=/home) 
2025-07-26 15:35:52,432 p=103462 u=master n=ansible | skipping: [sm02] => (item=/sw) 
2025-07-26 15:35:52,441 p=103462 u=master n=ansible | skipping: [cn01] => (item=/home) 
2025-07-26 15:35:52,444 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:35:52,444 p=103462 u=master n=ansible | skipping: [cn01] => (item=/sw) 
2025-07-26 15:35:52,446 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:35:52,455 p=103462 u=master n=ansible | skipping: [cn02] => (item=/home) 
2025-07-26 15:35:52,458 p=103462 u=master n=ansible | skipping: [cn02] => (item=/sw) 
2025-07-26 15:35:52,458 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:35:52,663 p=103462 u=master n=ansible | ok: [sm01] => (item=/home)
2025-07-26 15:35:52,912 p=103462 u=master n=ansible | ok: [sm01] => (item=/sw)
2025-07-26 15:35:52,921 p=103462 u=master n=ansible | TASK [common : [COMMON] Очистка старых экспортов] *************************************************************************************************************************************
2025-07-26 15:35:52,921 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:52 +0000 (0:00:00.529)       0:00:39.880 ********* 
2025-07-26 15:35:52,963 p=103462 u=master n=ansible | skipping: [sm02] => (item=/home) 
2025-07-26 15:35:52,965 p=103462 u=master n=ansible | skipping: [sm02] => (item=/sw) 
2025-07-26 15:35:52,971 p=103462 u=master n=ansible | skipping: [cn01] => (item=/home) 
2025-07-26 15:35:52,971 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:35:52,972 p=103462 u=master n=ansible | skipping: [cn01] => (item=/sw) 
2025-07-26 15:35:52,973 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:35:52,982 p=103462 u=master n=ansible | skipping: [cn02] => (item=/home) 
2025-07-26 15:35:52,985 p=103462 u=master n=ansible | skipping: [cn02] => (item=/sw) 
2025-07-26 15:35:52,986 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:35:53,311 p=103462 u=master n=ansible | changed: [sm01] => (item=/home)
2025-07-26 15:35:53,552 p=103462 u=master n=ansible | changed: [sm01] => (item=/sw)
2025-07-26 15:35:53,561 p=103462 u=master n=ansible | TASK [common : [COMMON] Настройка экспорта NFS (автоопределение IP)] ******************************************************************************************************************
2025-07-26 15:35:53,562 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:53 +0000 (0:00:00.640)       0:00:40.521 ********* 
2025-07-26 15:35:53,655 p=103462 u=master n=ansible | skipping: [sm02] => (item={'path': '/home', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:35:53,657 p=103462 u=master n=ansible | skipping: [sm02] => (item={'path': '/home', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:35:53,660 p=103462 u=master n=ansible | skipping: [sm02] => (item={'path': '/home', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:35:53,663 p=103462 u=master n=ansible | skipping: [sm02] => (item={'path': '/sw', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:35:53,666 p=103462 u=master n=ansible | skipping: [sm02] => (item={'path': '/sw', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:35:53,667 p=103462 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:35:53,668 p=103462 u=master n=ansible | skipping: [sm02] => (item={'path': '/sw', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:35:53,669 p=103462 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:35:53,670 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:35:53,674 p=103462 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:35:53,677 p=103462 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:35:53,679 p=103462 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:35:53,682 p=103462 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:35:53,683 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:35:53,689 p=103462 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:35:53,692 p=103462 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:35:53,695 p=103462 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:35:53,697 p=103462 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:35:53,700 p=103462 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:35:53,703 p=103462 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:35:53,704 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:35:53,952 p=103462 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': '10.20.90.212'})
2025-07-26 15:35:54,194 p=103462 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': '10.20.90.204'})
2025-07-26 15:35:54,436 p=103462 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': '10.20.90.215'})
2025-07-26 15:35:54,682 p=103462 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': '10.20.90.212'})
2025-07-26 15:35:54,923 p=103462 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': '10.20.90.204'})
2025-07-26 15:35:55,165 p=103462 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': '10.20.90.215'})
2025-07-26 15:35:55,177 p=103462 u=master n=ansible | TASK [common : [COMMON] Запуск и включение NFS server] ********************************************************************************************************************************
2025-07-26 15:35:55,177 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:55 +0000 (0:00:01.615)       0:00:42.137 ********* 
2025-07-26 15:35:55,213 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:35:55,230 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:35:55,242 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:35:55,660 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:55,667 p=103462 u=master n=ansible | TASK [common : [COMMON] Принудительная перезагрузка экспортов NFS] ********************************************************************************************************************
2025-07-26 15:35:55,667 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:55 +0000 (0:00:00.490)       0:00:42.627 ********* 
2025-07-26 15:35:55,714 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:35:55,715 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:35:55,726 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:35:55,930 p=103462 u=master n=ansible | changed: [sm01]
2025-07-26 15:35:55,938 p=103462 u=master n=ansible | TASK [common : [COMMON] Проверка активных экспортов] **********************************************************************************************************************************
2025-07-26 15:35:55,938 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:55 +0000 (0:00:00.270)       0:00:42.898 ********* 
2025-07-26 15:35:55,989 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:35:55,991 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:35:56,001 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:35:56,200 p=103462 u=master n=ansible | changed: [sm01]
2025-07-26 15:35:56,207 p=103462 u=master n=ansible | TASK [common : [COMMON] Показать активные экспорты] ***********************************************************************************************************************************
2025-07-26 15:35:56,207 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:56 +0000 (0:00:00.269)       0:00:43.167 ********* 
2025-07-26 15:35:56,240 p=103462 u=master n=ansible | ok: [sm01] => 
  nfs_exports_check.stdout_lines:
  - "/home         \t10.20.90.212(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/home         \t10.20.90.204(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/home         \t10.20.90.215(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \t10.20.90.212(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \t10.20.90.204(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \t10.20.90.215(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
2025-07-26 15:35:56,254 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:35:56,255 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:35:56,267 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:35:56,274 p=103462 u=master n=ansible | TASK [common : [COMMON] Установка NFS client] *****************************************************************************************************************************************
2025-07-26 15:35:56,274 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:56 +0000 (0:00:00.066)       0:00:43.233 ********* 
2025-07-26 15:35:56,306 p=103462 u=master n=ansible | skipping: [sm01]
2025-07-26 15:35:57,282 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:35:57,303 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:35:57,345 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:35:57,353 p=103462 u=master n=ansible | TASK [common : [COMMON] Создание точек монтирования NFS] ******************************************************************************************************************************
2025-07-26 15:35:57,353 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:57 +0000 (0:00:01.078)       0:00:44.312 ********* 
2025-07-26 15:35:57,373 p=103462 u=master n=ansible | skipping: [sm01] => (item=/sw) 
2025-07-26 15:35:57,378 p=103462 u=master n=ansible | skipping: [sm01]
2025-07-26 15:35:57,657 p=103462 u=master n=ansible | ok: [sm02] => (item=/sw)
2025-07-26 15:35:57,666 p=103462 u=master n=ansible | ok: [cn01] => (item=/sw)
2025-07-26 15:35:57,707 p=103462 u=master n=ansible | ok: [cn02] => (item=/sw)
2025-07-26 15:35:57,715 p=103462 u=master n=ansible | TASK [common : [COMMON] Монтирование NFS shares (автоопределение сервера)] ************************************************************************************************************
2025-07-26 15:35:57,715 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:57 +0000 (0:00:00.362)       0:00:44.674 ********* 
2025-07-26 15:35:57,740 p=103462 u=master n=ansible | skipping: [sm01] => (item={'path': '/home', 'src': '/home'}) 
2025-07-26 15:35:57,741 p=103462 u=master n=ansible | skipping: [sm01] => (item={'path': '/sw', 'src': '/sw'}) 
2025-07-26 15:35:57,749 p=103462 u=master n=ansible | skipping: [sm01]
2025-07-26 15:35:58,141 p=103462 u=master n=ansible | ok: [sm02] => (item={'path': '/home', 'src': '/home'})
2025-07-26 15:35:58,142 p=103462 u=master n=ansible | ok: [cn01] => (item={'path': '/home', 'src': '/home'})
2025-07-26 15:35:58,147 p=103462 u=master n=ansible | ok: [cn02] => (item={'path': '/home', 'src': '/home'})
2025-07-26 15:35:58,400 p=103462 u=master n=ansible | ok: [cn01] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 15:35:58,402 p=103462 u=master n=ansible | ok: [sm02] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 15:35:58,407 p=103462 u=master n=ansible | ok: [cn02] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 15:35:58,416 p=103462 u=master n=ansible | TASK [common : [COMMON] Установка MariaDB] ********************************************************************************************************************************************
2025-07-26 15:35:58,416 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:58 +0000 (0:00:00.701)       0:00:45.376 ********* 
2025-07-26 15:35:58,465 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:35:58,466 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:35:58,476 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:35:59,371 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:35:59,379 p=103462 u=master n=ansible | TASK [common : [COMMON] Установка python3-pymysql для Ansible mysql модулей] **********************************************************************************************************
2025-07-26 15:35:59,379 p=103462 u=master n=ansible | Saturday 26 July 2025  15:35:59 +0000 (0:00:00.962)       0:00:46.338 ********* 
2025-07-26 15:35:59,433 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:35:59,434 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:35:59,446 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:00,335 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:36:00,342 p=103462 u=master n=ansible | TASK [common : [COMMON] Создание базовых директорий Slurm] ****************************************************************************************************************************
2025-07-26 15:36:00,342 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:00 +0000 (0:00:00.963)       0:00:47.302 ********* 
2025-07-26 15:36:00,645 p=103462 u=master n=ansible | ok: [sm02] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:00,654 p=103462 u=master n=ansible | ok: [sm01] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:00,657 p=103462 u=master n=ansible | ok: [cn01] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:00,719 p=103462 u=master n=ansible | ok: [cn02] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:00,914 p=103462 u=master n=ansible | ok: [sm02] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:00,942 p=103462 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:00,946 p=103462 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:00,985 p=103462 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:01,182 p=103462 u=master n=ansible | ok: [sm02] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:01,195 p=103462 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:01,210 p=103462 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:01,246 p=103462 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:01,442 p=103462 u=master n=ansible | ok: [sm02] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:01,456 p=103462 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:01,470 p=103462 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:01,510 p=103462 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:01,716 p=103462 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 15:36:01,721 p=103462 u=master n=ansible | ok: [sm02] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 15:36:01,758 p=103462 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 15:36:01,795 p=103462 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 15:36:01,980 p=103462 u=master n=ansible | ok: [sm01] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:01,981 p=103462 u=master n=ansible | ok: [sm02] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:02,017 p=103462 u=master n=ansible | ok: [cn01] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:02,055 p=103462 u=master n=ansible | ok: [cn02] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:36:02,064 p=103462 u=master n=ansible | TASK [common : [COMMON] Роль common выполнена успешно] ********************************************************************************************************************************
2025-07-26 15:36:02,064 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:02 +0000 (0:00:01.722)       0:00:49.024 ********* 
2025-07-26 15:36:02,103 p=103462 u=master n=ansible | ok: [sm01] => 
  msg: ✅ Узел sm01 готов для установки Slurm
2025-07-26 15:36:02,119 p=103462 u=master n=ansible | ok: [sm02] => 
  msg: ✅ Узел sm02 готов для установки Slurm
2025-07-26 15:36:02,120 p=103462 u=master n=ansible | ok: [cn01] => 
  msg: ✅ Узел cn01 готов для установки Slurm
2025-07-26 15:36:02,134 p=103462 u=master n=ansible | ok: [cn02] => 
  msg: ✅ Узел cn02 готов для установки Slurm
2025-07-26 15:36:02,172 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Начало сборки Slurm] ********************************************************************************************************************************
2025-07-26 15:36:02,172 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:02 +0000 (0:00:00.107)       0:00:49.131 ********* 
2025-07-26 15:36:02,204 p=103462 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на sm01"
2025-07-26 15:36:02,219 p=103462 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на sm02"
2025-07-26 15:36:02,222 p=103462 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на cn01"
2025-07-26 15:36:02,236 p=103462 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на cn02"
2025-07-26 15:36:02,243 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка дополнительных зависимостей для сборки] ***************************************************************************************************
2025-07-26 15:36:02,243 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:02 +0000 (0:00:00.071)       0:00:49.203 ********* 
2025-07-26 15:36:02,280 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:36:02,334 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:36:02,347 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:16,535 p=103462 u=master n=ansible | changed: [sm01]
2025-07-26 15:36:16,542 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание временной директории для сборки] ***********************************************************************************************************
2025-07-26 15:36:16,543 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:16 +0000 (0:00:14.299)       0:01:03.502 ********* 
2025-07-26 15:36:16,590 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:36:16,592 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:36:16,602 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:16,816 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:36:16,824 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка существования исходников] ******************************************************************************************************************
2025-07-26 15:36:16,824 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:16 +0000 (0:00:00.281)       0:01:03.783 ********* 
2025-07-26 15:36:16,871 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:36:16,872 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:36:16,881 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:17,127 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:36:17,137 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Скачивание исходников Slurm 25.05.1] ****************************************************************************************************************
2025-07-26 15:36:17,137 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:17 +0000 (0:00:00.313)       0:01:04.097 ********* 
2025-07-26 15:36:17,169 p=103462 u=master n=ansible | skipping: [sm01]
2025-07-26 15:36:17,187 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:36:17,188 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:36:17,199 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:17,206 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Извлечение исходников Slurm] ************************************************************************************************************************
2025-07-26 15:36:17,206 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:17 +0000 (0:00:00.068)       0:01:04.165 ********* 
2025-07-26 15:36:17,252 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:36:17,252 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:36:17,263 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:17,294 p=103462 u=master n=ansible | skipping: [sm01]
2025-07-26 15:36:17,302 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Конфигурация сборки Slurm с JWT поддержкой] *********************************************************************************************************
2025-07-26 15:36:17,302 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:17 +0000 (0:00:00.095)       0:01:04.261 ********* 
2025-07-26 15:36:17,346 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:36:17,347 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:36:17,359 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:17,557 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:36:17,564 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результат конфигурации] *****************************************************************************************************************************
2025-07-26 15:36:17,565 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:17 +0000 (0:00:00.262)       0:01:04.524 ********* 
2025-07-26 15:36:17,596 p=103462 u=master n=ansible | skipping: [sm01]
2025-07-26 15:36:17,614 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:36:17,615 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:36:17,626 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:17,633 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Компиляция Slurm (это займет время...)] *************************************************************************************************************
2025-07-26 15:36:17,633 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:17 +0000 (0:00:00.068)       0:01:04.593 ********* 
2025-07-26 15:36:17,678 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:36:17,679 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:36:17,690 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:17,890 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:36:17,897 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка Slurm на master] **************************************************************************************************************************
2025-07-26 15:36:17,898 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:17 +0000 (0:00:00.264)       0:01:04.857 ********* 
2025-07-26 15:36:17,943 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:36:17,944 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:36:17,954 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:18,155 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:36:18,162 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание директории Slurm на всех узлах] ************************************************************************************************************
2025-07-26 15:36:18,162 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:18 +0000 (0:00:00.264)       0:01:05.122 ********* 
2025-07-26 15:36:18,437 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:36:18,454 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:36:18,461 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:36:18,492 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:36:18,499 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Исправление прав доступа к /sw на NFS сервере] ******************************************************************************************************
2025-07-26 15:36:18,499 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:18 +0000 (0:00:00.336)       0:01:05.459 ********* 
2025-07-26 15:36:18,547 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:36:18,547 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:36:18,558 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:18,770 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:36:18,777 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] ПРОСТОЕ копирование через NFS (С ДЕТАЛЬНЫМ ЛОГИРОВАНИЕМ)] *******************************************************************************************
2025-07-26 15:36:18,777 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:18 +0000 (0:00:00.277)       0:01:05.736 ********* 
2025-07-26 15:36:18,822 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:36:18,823 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:36:18,833 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:20,214 p=103462 u=master n=ansible | changed: [sm01]
2025-07-26 15:36:20,221 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Копирование Slurm на все узлы из NFS] ***************************************************************************************************************
2025-07-26 15:36:20,221 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:20 +0000 (0:00:01.443)       0:01:07.180 ********* 
2025-07-26 15:36:20,253 p=103462 u=master n=ansible | skipping: [sm01]
2025-07-26 15:36:38,550 p=103462 u=master n=ansible | changed: [cn01]
2025-07-26 15:36:40,125 p=103462 u=master n=ansible | changed: [sm02]
2025-07-26 15:36:40,384 p=103462 u=master n=ansible | changed: [cn02]
2025-07-26 15:36:40,392 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание символических ссылок для пользовательских команд Slurm] ************************************************************************************
2025-07-26 15:36:40,392 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:40 +0000 (0:00:20.170)       0:01:27.351 ********* 
2025-07-26 15:36:40,685 p=103462 u=master n=ansible | ok: [sm01] => (item=sinfo)
2025-07-26 15:36:40,736 p=103462 u=master n=ansible | ok: [cn01] => (item=sinfo)
2025-07-26 15:36:40,738 p=103462 u=master n=ansible | ok: [sm02] => (item=sinfo)
2025-07-26 15:36:40,743 p=103462 u=master n=ansible | ok: [cn02] => (item=sinfo)
2025-07-26 15:36:40,956 p=103462 u=master n=ansible | ok: [sm01] => (item=squeue)
2025-07-26 15:36:40,998 p=103462 u=master n=ansible | ok: [sm02] => (item=squeue)
2025-07-26 15:36:41,013 p=103462 u=master n=ansible | ok: [cn01] => (item=squeue)
2025-07-26 15:36:41,039 p=103462 u=master n=ansible | ok: [cn02] => (item=squeue)
2025-07-26 15:36:41,211 p=103462 u=master n=ansible | ok: [sm01] => (item=scancel)
2025-07-26 15:36:41,269 p=103462 u=master n=ansible | ok: [sm02] => (item=scancel)
2025-07-26 15:36:41,308 p=103462 u=master n=ansible | ok: [cn01] => (item=scancel)
2025-07-26 15:36:41,309 p=103462 u=master n=ansible | ok: [cn02] => (item=scancel)
2025-07-26 15:36:41,478 p=103462 u=master n=ansible | ok: [sm01] => (item=sbatch)
2025-07-26 15:36:41,531 p=103462 u=master n=ansible | ok: [sm02] => (item=sbatch)
2025-07-26 15:36:41,577 p=103462 u=master n=ansible | ok: [cn02] => (item=sbatch)
2025-07-26 15:36:41,626 p=103462 u=master n=ansible | ok: [cn01] => (item=sbatch)
2025-07-26 15:36:41,740 p=103462 u=master n=ansible | ok: [sm01] => (item=salloc)
2025-07-26 15:36:41,803 p=103462 u=master n=ansible | ok: [sm02] => (item=salloc)
2025-07-26 15:36:41,857 p=103462 u=master n=ansible | ok: [cn02] => (item=salloc)
2025-07-26 15:36:41,885 p=103462 u=master n=ansible | ok: [cn01] => (item=salloc)
2025-07-26 15:36:42,012 p=103462 u=master n=ansible | ok: [sm01] => (item=srun)
2025-07-26 15:36:42,060 p=103462 u=master n=ansible | ok: [sm02] => (item=srun)
2025-07-26 15:36:42,133 p=103462 u=master n=ansible | ok: [cn02] => (item=srun)
2025-07-26 15:36:42,162 p=103462 u=master n=ansible | ok: [cn01] => (item=srun)
2025-07-26 15:36:42,319 p=103462 u=master n=ansible | ok: [sm01] => (item=sacct)
2025-07-26 15:36:42,320 p=103462 u=master n=ansible | ok: [sm02] => (item=sacct)
2025-07-26 15:36:42,399 p=103462 u=master n=ansible | ok: [cn02] => (item=sacct)
2025-07-26 15:36:42,413 p=103462 u=master n=ansible | ok: [cn01] => (item=sacct)
2025-07-26 15:36:42,577 p=103462 u=master n=ansible | ok: [sm01] => (item=scontrol)
2025-07-26 15:36:42,581 p=103462 u=master n=ansible | ok: [sm02] => (item=scontrol)
2025-07-26 15:36:42,674 p=103462 u=master n=ansible | ok: [cn01] => (item=scontrol)
2025-07-26 15:36:42,694 p=103462 u=master n=ansible | ok: [cn02] => (item=scontrol)
2025-07-26 15:36:42,837 p=103462 u=master n=ansible | ok: [sm02] => (item=sprio)
2025-07-26 15:36:42,843 p=103462 u=master n=ansible | ok: [sm01] => (item=sprio)
2025-07-26 15:36:42,925 p=103462 u=master n=ansible | ok: [cn01] => (item=sprio)
2025-07-26 15:36:42,952 p=103462 u=master n=ansible | ok: [cn02] => (item=sprio)
2025-07-26 15:36:43,101 p=103462 u=master n=ansible | ok: [sm02] => (item=smap)
2025-07-26 15:36:43,108 p=103462 u=master n=ansible | ok: [sm01] => (item=smap)
2025-07-26 15:36:43,172 p=103462 u=master n=ansible | ok: [cn01] => (item=smap)
2025-07-26 15:36:43,206 p=103462 u=master n=ansible | ok: [cn02] => (item=smap)
2025-07-26 15:36:43,357 p=103462 u=master n=ansible | ok: [sm02] => (item=sdiag)
2025-07-26 15:36:43,373 p=103462 u=master n=ansible | ok: [sm01] => (item=sdiag)
2025-07-26 15:36:43,423 p=103462 u=master n=ansible | ok: [cn01] => (item=sdiag)
2025-07-26 15:36:43,462 p=103462 u=master n=ansible | ok: [cn02] => (item=sdiag)
2025-07-26 15:36:43,615 p=103462 u=master n=ansible | ok: [sm02] => (item=sstat)
2025-07-26 15:36:43,641 p=103462 u=master n=ansible | ok: [sm01] => (item=sstat)
2025-07-26 15:36:43,670 p=103462 u=master n=ansible | ok: [cn01] => (item=sstat)
2025-07-26 15:36:43,801 p=103462 u=master n=ansible | ok: [cn02] => (item=sstat)
2025-07-26 15:36:43,872 p=103462 u=master n=ansible | ok: [sm02] => (item=sreport)
2025-07-26 15:36:43,905 p=103462 u=master n=ansible | ok: [sm01] => (item=sreport)
2025-07-26 15:36:43,945 p=103462 u=master n=ansible | ok: [cn01] => (item=sreport)
2025-07-26 15:36:44,083 p=103462 u=master n=ansible | ok: [cn02] => (item=sreport)
2025-07-26 15:36:44,129 p=103462 u=master n=ansible | ok: [sm02] => (item=sacctmgr)
2025-07-26 15:36:44,180 p=103462 u=master n=ansible | ok: [sm01] => (item=sacctmgr)
2025-07-26 15:36:44,195 p=103462 u=master n=ansible | ok: [cn01] => (item=sacctmgr)
2025-07-26 15:36:44,349 p=103462 u=master n=ansible | ok: [cn02] => (item=sacctmgr)
2025-07-26 15:36:44,393 p=103462 u=master n=ansible | ok: [sm02] => (item=sattach)
2025-07-26 15:36:44,444 p=103462 u=master n=ansible | ok: [sm01] => (item=sattach)
2025-07-26 15:36:44,447 p=103462 u=master n=ansible | ok: [cn01] => (item=sattach)
2025-07-26 15:36:44,611 p=103462 u=master n=ansible | ok: [cn02] => (item=sattach)
2025-07-26 15:36:44,654 p=103462 u=master n=ansible | ok: [sm02] => (item=sbcast)
2025-07-26 15:36:44,696 p=103462 u=master n=ansible | ok: [cn01] => (item=sbcast)
2025-07-26 15:36:44,701 p=103462 u=master n=ansible | ok: [sm01] => (item=sbcast)
2025-07-26 15:36:44,873 p=103462 u=master n=ansible | ok: [cn02] => (item=sbcast)
2025-07-26 15:36:44,914 p=103462 u=master n=ansible | ok: [sm02] => (item=sshare)
2025-07-26 15:36:44,948 p=103462 u=master n=ansible | ok: [cn01] => (item=sshare)
2025-07-26 15:36:44,966 p=103462 u=master n=ansible | ok: [sm01] => (item=sshare)
2025-07-26 15:36:45,129 p=103462 u=master n=ansible | ok: [cn02] => (item=sshare)
2025-07-26 15:36:45,171 p=103462 u=master n=ansible | changed: [sm02] => (item=sview)
2025-07-26 15:36:45,176 p=103462 u=master n=ansible | [WARNING]: Cannot set fs attributes on a non-existent symlink target. follow should be set to False to avoid this.

2025-07-26 15:36:45,197 p=103462 u=master n=ansible | ok: [cn01] => (item=sview)
2025-07-26 15:36:45,230 p=103462 u=master n=ansible | ok: [sm01] => (item=sview)
2025-07-26 15:36:45,386 p=103462 u=master n=ansible | ok: [cn02] => (item=sview)
2025-07-26 15:36:45,401 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание символических ссылок для системных демонов Slurm] ******************************************************************************************
2025-07-26 15:36:45,402 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:45 +0000 (0:00:05.009)       0:01:32.361 ********* 
2025-07-26 15:36:45,694 p=103462 u=master n=ansible | ok: [sm01] => (item=slurmctld)
2025-07-26 15:36:45,704 p=103462 u=master n=ansible | ok: [cn01] => (item=slurmctld)
2025-07-26 15:36:45,721 p=103462 u=master n=ansible | ok: [cn02] => (item=slurmctld)
2025-07-26 15:36:45,955 p=103462 u=master n=ansible | ok: [sm01] => (item=slurmd)
2025-07-26 15:36:45,958 p=103462 u=master n=ansible | ok: [cn01] => (item=slurmd)
2025-07-26 15:36:45,981 p=103462 u=master n=ansible | ok: [cn02] => (item=slurmd)
2025-07-26 15:36:46,138 p=103462 u=master n=ansible | changed: [sm02] => (item=slurmctld)
2025-07-26 15:36:46,214 p=103462 u=master n=ansible | ok: [cn01] => (item=slurmdbd)
2025-07-26 15:36:46,219 p=103462 u=master n=ansible | ok: [sm01] => (item=slurmdbd)
2025-07-26 15:36:46,235 p=103462 u=master n=ansible | ok: [cn02] => (item=slurmdbd)
2025-07-26 15:36:46,399 p=103462 u=master n=ansible | changed: [sm02] => (item=slurmd)
2025-07-26 15:36:46,470 p=103462 u=master n=ansible | ok: [cn01] => (item=slurmrestd)
2025-07-26 15:36:46,481 p=103462 u=master n=ansible | ok: [sm01] => (item=slurmrestd)
2025-07-26 15:36:46,489 p=103462 u=master n=ansible | ok: [cn02] => (item=slurmrestd)
2025-07-26 15:36:46,668 p=103462 u=master n=ansible | changed: [sm02] => (item=slurmdbd)
2025-07-26 15:36:46,724 p=103462 u=master n=ansible | ok: [cn01] => (item=slurmstepd)
2025-07-26 15:36:46,742 p=103462 u=master n=ansible | ok: [sm01] => (item=slurmstepd)
2025-07-26 15:36:46,750 p=103462 u=master n=ansible | ok: [cn02] => (item=slurmstepd)
2025-07-26 15:36:46,920 p=103462 u=master n=ansible | changed: [sm02] => (item=slurmrestd)
2025-07-26 15:36:47,173 p=103462 u=master n=ansible | changed: [sm02] => (item=slurmstepd)
2025-07-26 15:36:47,182 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Обновление библиотечного кеша] **********************************************************************************************************************
2025-07-26 15:36:47,182 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:47 +0000 (0:00:01.780)       0:01:34.142 ********* 
2025-07-26 15:36:47,513 p=103462 u=master n=ansible | changed: [sm02]
2025-07-26 15:36:47,521 p=103462 u=master n=ansible | changed: [cn01]
2025-07-26 15:36:47,688 p=103462 u=master n=ansible | changed: [cn02]
2025-07-26 15:36:47,698 p=103462 u=master n=ansible | changed: [sm01]
2025-07-26 15:36:47,706 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка версии Slurm (без подключения к демону)] ***************************************************************************************************
2025-07-26 15:36:47,706 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:47 +0000 (0:00:00.523)       0:01:34.666 ********* 
2025-07-26 15:36:47,979 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:36:48,003 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:36:48,012 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:36:48,036 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:36:48,043 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки JWT] *****************************************************************************************************************************
2025-07-26 15:36:48,043 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:48 +0000 (0:00:00.337)       0:01:35.003 ********* 
2025-07-26 15:36:48,316 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:36:48,331 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:36:48,339 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:36:48,357 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:36:48,365 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки GPU/NVIDIA] **********************************************************************************************************************
2025-07-26 15:36:48,365 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:48 +0000 (0:00:00.321)       0:01:35.324 ********* 
2025-07-26 15:36:48,652 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:36:48,660 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:36:48,663 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:36:48,686 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:36:48,693 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки MySQL] ***************************************************************************************************************************
2025-07-26 15:36:48,693 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:48 +0000 (0:00:00.328)       0:01:35.652 ********* 
2025-07-26 15:36:48,964 p=103462 u=master n=ansible | ok: [sm01]
2025-07-26 15:36:48,987 p=103462 u=master n=ansible | ok: [sm02]
2025-07-26 15:36:48,996 p=103462 u=master n=ansible | ok: [cn01]
2025-07-26 15:36:49,021 p=103462 u=master n=ansible | ok: [cn02]
2025-07-26 15:36:49,028 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результаты проверки] ********************************************************************************************************************************
2025-07-26 15:36:49,028 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:49 +0000 (0:00:00.334)       0:01:35.987 ********* 
2025-07-26 15:36:49,060 p=103462 u=master n=ansible | ok: [sm01] => 
  msg: "✅ Slurm успешно установлен на sm01\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 15:36:49,076 p=103462 u=master n=ansible | ok: [sm02] => 
  msg: "✅ Slurm успешно установлен на sm02\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 15:36:49,080 p=103462 u=master n=ansible | ok: [cn01] => 
  msg: "✅ Slurm успешно установлен на cn01\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 15:36:49,093 p=103462 u=master n=ansible | ok: [cn02] => 
  msg: "✅ Slurm успешно установлен на cn02\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 15:36:49,100 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Сборка завершена успешно] ***************************************************************************************************************************
2025-07-26 15:36:49,100 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:49 +0000 (0:00:00.072)       0:01:36.060 ********* 
2025-07-26 15:36:49,133 p=103462 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на sm01"
2025-07-26 15:36:49,148 p=103462 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на sm02"
2025-07-26 15:36:49,151 p=103462 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на cn01"
2025-07-26 15:36:49,167 p=103462 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на cn02"
2025-07-26 15:36:49,173 p=103462 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Очистка временных файлов из NFS] ********************************************************************************************************************
2025-07-26 15:36:49,174 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:49 +0000 (0:00:00.073)       0:01:36.133 ********* 
2025-07-26 15:36:49,211 p=103462 u=master n=ansible | skipping: [sm02]
2025-07-26 15:36:49,226 p=103462 u=master n=ansible | skipping: [cn01]
2025-07-26 15:36:49,239 p=103462 u=master n=ansible | skipping: [cn02]
2025-07-26 15:36:49,679 p=103462 u=master n=ansible | changed: [sm01]
2025-07-26 15:36:49,706 p=103462 u=master n=ansible | TASK [containers : [CONTAINERS] Начало установки Enroot + Pyxis] **********************************************************************************************************************
2025-07-26 15:36:49,706 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:49 +0000 (0:00:00.532)       0:01:36.665 ********* 
2025-07-26 15:36:49,755 p=103462 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F680 Установка контейнерной поддержки на sm01\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 15:36:49,764 p=103462 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F680 Установка контейнерной поддержки на sm02\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 15:36:49,783 p=103462 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F680 Установка контейнерной поддержки на cn01\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 15:36:49,801 p=103462 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F680 Установка контейнерной поддержки на cn02\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 15:36:49,808 p=103462 u=master n=ansible | TASK [containers : [CONTAINERS] Установка системных зависимостей] *********************************************************************************************************************
2025-07-26 15:36:49,808 p=103462 u=master n=ansible | Saturday 26 July 2025  15:36:49 +0000 (0:00:00.101)       0:01:36.767 ********* 
2025-07-26 15:37:03,136 p=103462 u=master n=ansible | changed: [cn01]
2025-07-26 15:37:04,270 p=103462 u=master n=ansible | changed: [sm02]
2025-07-26 15:37:04,598 p=103462 u=master n=ansible | changed: [sm01]
2025-07-26 15:37:04,738 p=103462 u=master n=ansible | changed: [cn02]
2025-07-26 15:37:04,746 p=103462 u=master n=ansible | TASK [containers : [CONTAINERS] Создание пользователя enroot] *************************************************************************************************************************
2025-07-26 15:37:04,746 p=103462 u=master n=ansible | Saturday 26 July 2025  15:37:04 +0000 (0:00:14.937)       0:01:51.705 ********* 
2025-07-26 15:37:05,077 p=103462 u=master n=ansible | fatal: [sm01]: FAILED! => changed=false 
  msg: Group enroot does not exist
2025-07-26 15:37:05,078 p=103462 u=master n=ansible | fatal: [sm02]: FAILED! => changed=false 
  msg: Group enroot does not exist
2025-07-26 15:37:05,094 p=103462 u=master n=ansible | fatal: [cn01]: FAILED! => changed=false 
  msg: Group enroot does not exist
2025-07-26 15:37:05,120 p=103462 u=master n=ansible | fatal: [cn02]: FAILED! => changed=false 
  msg: Group enroot does not exist
2025-07-26 15:37:05,122 p=103462 u=master n=ansible | PLAY RECAP ****************************************************************************************************************************************************************************
2025-07-26 15:37:05,123 p=103462 u=master n=ansible | cn01                       : ok=36   changed=7    unreachable=0    failed=1    skipped=24   rescued=0    ignored=0   
2025-07-26 15:37:05,123 p=103462 u=master n=ansible | cn02                       : ok=36   changed=7    unreachable=0    failed=1    skipped=24   rescued=0    ignored=0   
2025-07-26 15:37:05,123 p=103462 u=master n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-26 15:37:05,123 p=103462 u=master n=ansible | sm01                       : ok=51   changed=13   unreachable=0    failed=1    skipped=9    rescued=0    ignored=0   
2025-07-26 15:37:05,123 p=103462 u=master n=ansible | sm02                       : ok=36   changed=9    unreachable=0    failed=1    skipped=24   rescued=0    ignored=0   
2025-07-26 15:37:05,123 p=103462 u=master n=ansible | Playbook run took 0 days, 0 hours, 1 minutes, 52 seconds
2025-07-26 15:37:05,123 p=103462 u=master n=ansible | Saturday 26 July 2025  15:37:05 +0000 (0:00:00.377)       0:01:52.083 ********* 
2025-07-26 15:37:05,123 p=103462 u=master n=ansible | =============================================================================== 
2025-07-26 15:37:05,124 p=103462 u=master n=ansible | slurm_build : [SLURM_BUILD] Копирование Slurm на все узлы из NFS -------------------------------------------------------------------------------------------------------------- 20.17s
2025-07-26 15:37:05,124 p=103462 u=master n=ansible | containers : [CONTAINERS] Установка системных зависимостей -------------------------------------------------------------------------------------------------------------------- 14.94s
2025-07-26 15:37:05,124 p=103462 u=master n=ansible | slurm_build : [SLURM_BUILD] Установка дополнительных зависимостей для сборки -------------------------------------------------------------------------------------------------- 14.30s
2025-07-26 15:37:05,124 p=103462 u=master n=ansible | common : [COMMON] Обновление apt cache ---------------------------------------------------------------------------------------------------------------------------------------- 11.94s
2025-07-26 15:37:05,124 p=103462 u=master n=ansible | common : [COMMON] Установка базовых пакетов ----------------------------------------------------------------------------------------------------------------------------------- 11.11s
2025-07-26 15:37:05,124 p=103462 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание символических ссылок для пользовательских команд Slurm ------------------------------------------------------------------------------------ 5.01s
2025-07-26 15:37:05,124 p=103462 u=master n=ansible | Gathering Facts ---------------------------------------------------------------------------------------------------------------------------------------------------------------- 2.58s
2025-07-26 15:37:05,124 p=103462 u=master n=ansible | common : [COMMON] Запуск и включение MUNGE ------------------------------------------------------------------------------------------------------------------------------------- 2.05s
2025-07-26 15:37:05,125 p=103462 u=master n=ansible | common : [COMMON] Остановка MUNGE перед настройкой ----------------------------------------------------------------------------------------------------------------------------- 2.01s
2025-07-26 15:37:05,125 p=103462 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание символических ссылок для системных демонов Slurm ------------------------------------------------------------------------------------------ 1.78s
2025-07-26 15:37:05,125 p=103462 u=master n=ansible | common : [COMMON] Создание базовых директорий Slurm ---------------------------------------------------------------------------------------------------------------------------- 1.72s
2025-07-26 15:37:05,125 p=103462 u=master n=ansible | common : [COMMON] Настройка экспорта NFS (автоопределение IP) ------------------------------------------------------------------------------------------------------------------ 1.62s
2025-07-26 15:37:05,125 p=103462 u=master n=ansible | slurm_build : [SLURM_BUILD] ПРОСТОЕ копирование через NFS (С ДЕТАЛЬНЫМ ЛОГИРОВАНИЕМ) ------------------------------------------------------------------------------------------- 1.44s
2025-07-26 15:37:05,125 p=103462 u=master n=ansible | common : [COMMON] Настройка прав доступа MUNGE директорий ---------------------------------------------------------------------------------------------------------------------- 1.30s
2025-07-26 15:37:05,125 p=103462 u=master n=ansible | common : [COMMON] Проверка работы MUNGE ---------------------------------------------------------------------------------------------------------------------------------------- 1.29s
2025-07-26 15:37:05,125 p=103462 u=master n=ansible | common : [COMMON] Установка MUNGE ---------------------------------------------------------------------------------------------------------------------------------------------- 1.15s
2025-07-26 15:37:05,125 p=103462 u=master n=ansible | common : [COMMON] Установка HWLOC ---------------------------------------------------------------------------------------------------------------------------------------------- 1.15s
2025-07-26 15:37:05,125 p=103462 u=master n=ansible | common : [COMMON] Установка NFS client ----------------------------------------------------------------------------------------------------------------------------------------- 1.08s
2025-07-26 15:37:05,125 p=103462 u=master n=ansible | common : [COMMON] Установка NFS server на master ------------------------------------------------------------------------------------------------------------------------------- 0.97s
2025-07-26 15:37:05,126 p=103462 u=master n=ansible | common : [COMMON] Установка python3-pymysql для Ansible mysql модулей ---------------------------------------------------------------------------------------------------------- 0.96s
2025-07-26 15:49:18,069 p=104638 u=master n=ansible | PLAY [🐳 Установка контейнерной поддержки] ********************************************************************************************************************************************
2025-07-26 15:49:18,078 p=104638 u=master n=ansible | TASK [📋 Информация о контейнеризации] ************************************************************************************************************************************************
2025-07-26 15:49:18,079 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:18 +0000 (0:00:00.011)       0:00:00.011 ********* 
2025-07-26 15:49:18,135 p=104638 u=master n=ansible | ok: [localhost] => 
  msg: "================================================================================\n\U0001F433 УСТАНОВКА КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n================================================================================\n\U0001F527 Компоненты: Enroot + Pyxis + NVIDIA Container Toolkit\n\U0001F3AF Целевые узлы: 4\n\U0001F3AE GPU узлы: 2\n\n\U0001F4CA Узлы для установки:\n\U0001F5A5️  Compute: cn01, cn02\n\U0001F511 Login:   sm02\n\U0001F39B️  Master:  sm01\n\n⏱️  Ожидаемое время: ~20-30 минут\n================================================================================"
2025-07-26 15:49:18,145 p=104638 u=master n=ansible | PLAY [🐳 Этап 1/3: Установка Enroot на все узлы] **************************************************************************************************************************************
2025-07-26 15:49:18,227 p=104638 u=master n=ansible | TASK [common : [COMMON] Начало выполнения роли common] ********************************************************************************************************************************
2025-07-26 15:49:18,227 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:18 +0000 (0:00:00.148)       0:00:00.160 ********* 
2025-07-26 15:49:18,262 p=104638 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F527 Настройка базовых компонентов на sm01"
2025-07-26 15:49:18,279 p=104638 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F527 Настройка базовых компонентов на sm02"
2025-07-26 15:49:18,280 p=104638 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F527 Настройка базовых компонентов на cn01"
2025-07-26 15:49:18,293 p=104638 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F527 Настройка базовых компонентов на cn02"
2025-07-26 15:49:18,302 p=104638 u=master n=ansible | TASK [common : [COMMON] Обновление apt cache] *****************************************************************************************************************************************
2025-07-26 15:49:18,302 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:18 +0000 (0:00:00.074)       0:00:00.235 ********* 
2025-07-26 15:49:20,192 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:20,239 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:49:20,310 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:49:20,340 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:49:20,349 p=104638 u=master n=ansible | TASK [common : [COMMON] Установка базовых пакетов] ************************************************************************************************************************************
2025-07-26 15:49:20,349 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:20 +0000 (0:00:02.047)       0:00:02.282 ********* 
2025-07-26 15:49:21,535 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:49:21,607 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:49:21,608 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:49:30,846 p=104638 u=master n=ansible | changed: [sm01]
2025-07-26 15:49:30,855 p=104638 u=master n=ansible | TASK [common : [COMMON] Настройка timezone] *******************************************************************************************************************************************
2025-07-26 15:49:30,855 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:30 +0000 (0:00:10.506)       0:00:12.788 ********* 
2025-07-26 15:49:31,385 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:49:31,390 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:31,394 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:49:31,412 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:49:31,421 p=104638 u=master n=ansible | TASK [common : [COMMON] Создание пользователя slurm] **********************************************************************************************************************************
2025-07-26 15:49:31,421 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:31 +0000 (0:00:00.566)       0:00:13.354 ********* 
2025-07-26 15:49:31,942 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:49:31,944 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:31,954 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:49:31,961 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:49:31,971 p=104638 u=master n=ansible | TASK [common : [COMMON] Установка MUNGE] **********************************************************************************************************************************************
2025-07-26 15:49:31,971 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:31 +0000 (0:00:00.549)       0:00:13.904 ********* 
2025-07-26 15:49:33,055 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:33,064 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:49:33,065 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:49:33,143 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:49:33,152 p=104638 u=master n=ansible | TASK [common : [COMMON] Остановка MUNGE перед настройкой] *****************************************************************************************************************************
2025-07-26 15:49:33,152 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:33 +0000 (0:00:01.180)       0:00:15.085 ********* 
2025-07-26 15:49:35,070 p=104638 u=master n=ansible | changed: [cn02]
2025-07-26 15:49:35,087 p=104638 u=master n=ansible | changed: [sm01]
2025-07-26 15:49:35,124 p=104638 u=master n=ansible | changed: [cn01]
2025-07-26 15:49:35,149 p=104638 u=master n=ansible | changed: [sm02]
2025-07-26 15:49:35,158 p=104638 u=master n=ansible | TASK [common : [COMMON] Создание MUNGE ключа на master узле] **************************************************************************************************************************
2025-07-26 15:49:35,158 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:35 +0000 (0:00:02.006)       0:00:17.091 ********* 
2025-07-26 15:49:35,196 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:35,213 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:35,225 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:49:35,544 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:35,557 p=104638 u=master n=ansible | TASK [common : [COMMON] Настройка прав доступа MUNGE директорий] **********************************************************************************************************************
2025-07-26 15:49:35,557 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:35 +0000 (0:00:00.399)       0:00:17.490 ********* 
2025-07-26 15:49:35,978 p=104638 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:49:35,980 p=104638 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:49:35,984 p=104638 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:49:35,988 p=104638 u=master n=ansible | ok: [sm02] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:49:36,239 p=104638 u=master n=ansible | ok: [sm01] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:49:36,241 p=104638 u=master n=ansible | ok: [cn01] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:49:36,254 p=104638 u=master n=ansible | ok: [cn02] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:49:36,336 p=104638 u=master n=ansible | ok: [sm02] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:49:36,506 p=104638 u=master n=ansible | ok: [sm01] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:49:36,512 p=104638 u=master n=ansible | ok: [cn01] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:49:36,516 p=104638 u=master n=ansible | ok: [cn02] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:49:36,600 p=104638 u=master n=ansible | ok: [sm02] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:49:36,773 p=104638 u=master n=ansible | changed: [sm01] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 15:49:36,780 p=104638 u=master n=ansible | changed: [cn02] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 15:49:36,789 p=104638 u=master n=ansible | changed: [cn01] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 15:49:36,859 p=104638 u=master n=ansible | changed: [sm02] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 15:49:36,870 p=104638 u=master n=ansible | TASK [common : [COMMON] Получение MUNGE ключа с мастера] ******************************************************************************************************************************
2025-07-26 15:49:36,870 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:36 +0000 (0:00:01.312)       0:00:18.803 ********* 
2025-07-26 15:49:36,907 p=104638 u=master n=ansible | skipping: [sm01]
2025-07-26 15:49:37,270 p=104638 u=master n=ansible | ok: [cn02 -> sm01]
2025-07-26 15:49:37,271 p=104638 u=master n=ansible | ok: [sm02 -> sm01]
2025-07-26 15:49:37,278 p=104638 u=master n=ansible | ok: [cn01 -> sm01]
2025-07-26 15:49:37,289 p=104638 u=master n=ansible | TASK [common : [COMMON] Создание MUNGE ключа на остальных узлах] **********************************************************************************************************************
2025-07-26 15:49:37,289 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:37 +0000 (0:00:00.419)       0:00:19.222 ********* 
2025-07-26 15:49:37,311 p=104638 u=master n=ansible | skipping: [sm01]
2025-07-26 15:49:38,228 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:49:38,259 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:49:38,465 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:49:38,474 p=104638 u=master n=ansible | TASK [common : [COMMON] Настройка прав доступа на ключ MUNGE (мастер)] ****************************************************************************************************************
2025-07-26 15:49:38,474 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:38 +0000 (0:00:01.184)       0:00:20.407 ********* 
2025-07-26 15:49:38,511 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:38,528 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:38,541 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:49:38,751 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:38,760 p=104638 u=master n=ansible | TASK [common : [COMMON] Запуск и включение MUNGE] *************************************************************************************************************************************
2025-07-26 15:49:38,760 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:38 +0000 (0:00:00.286)       0:00:20.693 ********* 
2025-07-26 15:49:40,745 p=104638 u=master n=ansible | changed: [cn01]
2025-07-26 15:49:40,806 p=104638 u=master n=ansible | changed: [sm01]
2025-07-26 15:49:40,827 p=104638 u=master n=ansible | changed: [sm02]
2025-07-26 15:49:40,989 p=104638 u=master n=ansible | changed: [cn02]
2025-07-26 15:49:40,998 p=104638 u=master n=ansible | TASK [common : [COMMON] Проверка работы MUNGE] ****************************************************************************************************************************************
2025-07-26 15:49:40,998 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:40 +0000 (0:00:02.238)       0:00:22.931 ********* 
2025-07-26 15:49:41,274 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:41,292 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:49:41,314 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:49:41,348 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:49:41,356 p=104638 u=master n=ansible | TASK [common : [COMMON] Результат проверки MUNGE] *************************************************************************************************************************************
2025-07-26 15:49:41,357 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:41 +0000 (0:00:00.358)       0:00:23.289 ********* 
2025-07-26 15:49:41,394 p=104638 u=master n=ansible | ok: [sm01] => 
  msg: MUNGE работает корректно на sm01
2025-07-26 15:49:41,410 p=104638 u=master n=ansible | ok: [sm02] => 
  msg: MUNGE работает корректно на sm02
2025-07-26 15:49:41,413 p=104638 u=master n=ansible | ok: [cn01] => 
  msg: MUNGE работает корректно на cn01
2025-07-26 15:49:41,428 p=104638 u=master n=ansible | ok: [cn02] => 
  msg: MUNGE работает корректно на cn02
2025-07-26 15:49:41,437 p=104638 u=master n=ansible | TASK [common : [COMMON] Установка HWLOC] **********************************************************************************************************************************************
2025-07-26 15:49:41,437 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:41 +0000 (0:00:00.080)       0:00:23.370 ********* 
2025-07-26 15:49:42,526 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:49:42,589 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:42,644 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:49:42,688 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:49:42,697 p=104638 u=master n=ansible | TASK [common : [COMMON] Проверка HWLOC] ***********************************************************************************************************************************************
2025-07-26 15:49:42,697 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:42 +0000 (0:00:01.260)       0:00:24.630 ********* 
2025-07-26 15:49:42,979 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:42,983 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:49:43,001 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:49:43,067 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:49:43,076 p=104638 u=master n=ansible | TASK [common : [COMMON] Версия HWLOC] *************************************************************************************************************************************************
2025-07-26 15:49:43,076 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:43 +0000 (0:00:00.379)       0:00:25.009 ********* 
2025-07-26 15:49:43,114 p=104638 u=master n=ansible | ok: [sm01] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 15:49:43,130 p=104638 u=master n=ansible | ok: [sm02] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 15:49:43,133 p=104638 u=master n=ansible | ok: [cn01] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 15:49:43,148 p=104638 u=master n=ansible | ok: [cn02] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 15:49:43,156 p=104638 u=master n=ansible | TASK [common : [COMMON] Установка NFS server на master] *******************************************************************************************************************************
2025-07-26 15:49:43,156 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:43 +0000 (0:00:00.080)       0:00:25.089 ********* 
2025-07-26 15:49:43,216 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:43,217 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:43,230 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:49:44,185 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:44,194 p=104638 u=master n=ansible | TASK [common : [COMMON] Создание директорий для экспорта NFS] *************************************************************************************************************************
2025-07-26 15:49:44,194 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:44 +0000 (0:00:01.037)       0:00:26.127 ********* 
2025-07-26 15:49:44,228 p=104638 u=master n=ansible | skipping: [sm02] => (item=/home) 
2025-07-26 15:49:44,234 p=104638 u=master n=ansible | skipping: [sm02] => (item=/sw) 
2025-07-26 15:49:44,248 p=104638 u=master n=ansible | skipping: [cn01] => (item=/home) 
2025-07-26 15:49:44,252 p=104638 u=master n=ansible | skipping: [cn01] => (item=/sw) 
2025-07-26 15:49:44,255 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:44,255 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:44,266 p=104638 u=master n=ansible | skipping: [cn02] => (item=/home) 
2025-07-26 15:49:44,269 p=104638 u=master n=ansible | skipping: [cn02] => (item=/sw) 
2025-07-26 15:49:44,271 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:49:44,471 p=104638 u=master n=ansible | ok: [sm01] => (item=/home)
2025-07-26 15:49:44,728 p=104638 u=master n=ansible | ok: [sm01] => (item=/sw)
2025-07-26 15:49:44,739 p=104638 u=master n=ansible | TASK [common : [COMMON] Очистка старых экспортов] *************************************************************************************************************************************
2025-07-26 15:49:44,739 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:44 +0000 (0:00:00.545)       0:00:26.672 ********* 
2025-07-26 15:49:44,780 p=104638 u=master n=ansible | skipping: [sm02] => (item=/home) 
2025-07-26 15:49:44,790 p=104638 u=master n=ansible | skipping: [sm02] => (item=/sw) 
2025-07-26 15:49:44,794 p=104638 u=master n=ansible | skipping: [cn01] => (item=/home) 
2025-07-26 15:49:44,796 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:44,798 p=104638 u=master n=ansible | skipping: [cn01] => (item=/sw) 
2025-07-26 15:49:44,799 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:44,811 p=104638 u=master n=ansible | skipping: [cn02] => (item=/home) 
2025-07-26 15:49:44,814 p=104638 u=master n=ansible | skipping: [cn02] => (item=/sw) 
2025-07-26 15:49:44,814 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:49:45,137 p=104638 u=master n=ansible | changed: [sm01] => (item=/home)
2025-07-26 15:49:45,385 p=104638 u=master n=ansible | changed: [sm01] => (item=/sw)
2025-07-26 15:49:45,397 p=104638 u=master n=ansible | TASK [common : [COMMON] Настройка экспорта NFS (автоопределение IP)] ******************************************************************************************************************
2025-07-26 15:49:45,398 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:45 +0000 (0:00:00.658)       0:00:27.330 ********* 
2025-07-26 15:49:45,499 p=104638 u=master n=ansible | skipping: [sm02] => (item={'path': '/home', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:49:45,500 p=104638 u=master n=ansible | skipping: [sm02] => (item={'path': '/home', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:49:45,502 p=104638 u=master n=ansible | skipping: [sm02] => (item={'path': '/home', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:49:45,505 p=104638 u=master n=ansible | skipping: [sm02] => (item={'path': '/sw', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:49:45,511 p=104638 u=master n=ansible | skipping: [sm02] => (item={'path': '/sw', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:49:45,512 p=104638 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:49:45,513 p=104638 u=master n=ansible | skipping: [sm02] => (item={'path': '/sw', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:49:45,517 p=104638 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:49:45,518 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:45,518 p=104638 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:49:45,520 p=104638 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:49:45,523 p=104638 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:49:45,526 p=104638 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:49:45,527 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:45,535 p=104638 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:49:45,537 p=104638 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:49:45,540 p=104638 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:49:45,543 p=104638 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:49:45,546 p=104638 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:49:45,548 p=104638 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:49:45,549 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:49:45,732 p=104638 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': '10.20.90.212'})
2025-07-26 15:49:45,982 p=104638 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': '10.20.90.204'})
2025-07-26 15:49:46,225 p=104638 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': '10.20.90.215'})
2025-07-26 15:49:46,466 p=104638 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': '10.20.90.212'})
2025-07-26 15:49:46,715 p=104638 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': '10.20.90.204'})
2025-07-26 15:49:46,957 p=104638 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': '10.20.90.215'})
2025-07-26 15:49:46,970 p=104638 u=master n=ansible | TASK [common : [COMMON] Запуск и включение NFS server] ********************************************************************************************************************************
2025-07-26 15:49:46,971 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:46 +0000 (0:00:01.572)       0:00:28.903 ********* 
2025-07-26 15:49:47,014 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:47,032 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:47,045 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:49:47,469 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:47,479 p=104638 u=master n=ansible | TASK [common : [COMMON] Принудительная перезагрузка экспортов NFS] ********************************************************************************************************************
2025-07-26 15:49:47,479 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:47 +0000 (0:00:00.508)       0:00:29.412 ********* 
2025-07-26 15:49:47,517 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:47,534 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:47,547 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:49:47,750 p=104638 u=master n=ansible | changed: [sm01]
2025-07-26 15:49:47,760 p=104638 u=master n=ansible | TASK [common : [COMMON] Проверка активных экспортов] **********************************************************************************************************************************
2025-07-26 15:49:47,760 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:47 +0000 (0:00:00.281)       0:00:29.693 ********* 
2025-07-26 15:49:47,808 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:47,827 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:47,839 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:49:48,040 p=104638 u=master n=ansible | changed: [sm01]
2025-07-26 15:49:48,049 p=104638 u=master n=ansible | TASK [common : [COMMON] Показать активные экспорты] ***********************************************************************************************************************************
2025-07-26 15:49:48,049 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:48 +0000 (0:00:00.288)       0:00:29.982 ********* 
2025-07-26 15:49:48,086 p=104638 u=master n=ansible | ok: [sm01] => 
  nfs_exports_check.stdout_lines:
  - "/home         \t10.20.90.212(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/home         \t10.20.90.204(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/home         \t10.20.90.215(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \t10.20.90.212(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \t10.20.90.204(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \t10.20.90.215(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
2025-07-26 15:49:48,101 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:48,102 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:48,113 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:49:48,122 p=104638 u=master n=ansible | TASK [common : [COMMON] Установка NFS client] *****************************************************************************************************************************************
2025-07-26 15:49:48,122 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:48 +0000 (0:00:00.072)       0:00:30.055 ********* 
2025-07-26 15:49:48,159 p=104638 u=master n=ansible | skipping: [sm01]
2025-07-26 15:49:49,188 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:49:49,246 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:49:49,315 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:49:49,323 p=104638 u=master n=ansible | TASK [common : [COMMON] Создание точек монтирования NFS] ******************************************************************************************************************************
2025-07-26 15:49:49,324 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:49 +0000 (0:00:01.201)       0:00:31.256 ********* 
2025-07-26 15:49:49,346 p=104638 u=master n=ansible | skipping: [sm01] => (item=/sw) 
2025-07-26 15:49:49,366 p=104638 u=master n=ansible | skipping: [sm01]
2025-07-26 15:49:49,630 p=104638 u=master n=ansible | ok: [sm02] => (item=/sw)
2025-07-26 15:49:49,648 p=104638 u=master n=ansible | ok: [cn01] => (item=/sw)
2025-07-26 15:49:49,663 p=104638 u=master n=ansible | ok: [cn02] => (item=/sw)
2025-07-26 15:49:49,674 p=104638 u=master n=ansible | TASK [common : [COMMON] Монтирование NFS shares (автоопределение сервера)] ************************************************************************************************************
2025-07-26 15:49:49,674 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:49 +0000 (0:00:00.350)       0:00:31.607 ********* 
2025-07-26 15:49:49,705 p=104638 u=master n=ansible | skipping: [sm01] => (item={'path': '/home', 'src': '/home'}) 
2025-07-26 15:49:49,706 p=104638 u=master n=ansible | skipping: [sm01] => (item={'path': '/sw', 'src': '/sw'}) 
2025-07-26 15:49:49,715 p=104638 u=master n=ansible | skipping: [sm01]
2025-07-26 15:49:50,106 p=104638 u=master n=ansible | ok: [sm02] => (item={'path': '/home', 'src': '/home'})
2025-07-26 15:49:50,108 p=104638 u=master n=ansible | ok: [cn02] => (item={'path': '/home', 'src': '/home'})
2025-07-26 15:49:50,110 p=104638 u=master n=ansible | ok: [cn01] => (item={'path': '/home', 'src': '/home'})
2025-07-26 15:49:50,365 p=104638 u=master n=ansible | ok: [cn02] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 15:49:50,371 p=104638 u=master n=ansible | ok: [sm02] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 15:49:50,375 p=104638 u=master n=ansible | ok: [cn01] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 15:49:50,387 p=104638 u=master n=ansible | TASK [common : [COMMON] Установка MariaDB] ********************************************************************************************************************************************
2025-07-26 15:49:50,387 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:50 +0000 (0:00:00.713)       0:00:32.320 ********* 
2025-07-26 15:49:50,424 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:50,441 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:50,454 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:49:51,445 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:51,455 p=104638 u=master n=ansible | TASK [common : [COMMON] Установка python3-pymysql для Ansible mysql модулей] **********************************************************************************************************
2025-07-26 15:49:51,455 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:51 +0000 (0:00:01.067)       0:00:33.388 ********* 
2025-07-26 15:49:51,496 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:51,513 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:51,526 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:49:52,494 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:49:52,503 p=104638 u=master n=ansible | TASK [common : [COMMON] Создание базовых директорий Slurm] ****************************************************************************************************************************
2025-07-26 15:49:52,503 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:52 +0000 (0:00:01.048)       0:00:34.436 ********* 
2025-07-26 15:49:52,791 p=104638 u=master n=ansible | ok: [sm01] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:52,821 p=104638 u=master n=ansible | ok: [sm02] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:52,896 p=104638 u=master n=ansible | ok: [cn02] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:52,954 p=104638 u=master n=ansible | ok: [cn01] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,046 p=104638 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,093 p=104638 u=master n=ansible | ok: [sm02] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,159 p=104638 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,215 p=104638 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,312 p=104638 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,349 p=104638 u=master n=ansible | ok: [sm02] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,427 p=104638 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,476 p=104638 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,570 p=104638 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,612 p=104638 u=master n=ansible | ok: [sm02] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,694 p=104638 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,746 p=104638 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:53,864 p=104638 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 15:49:53,873 p=104638 u=master n=ansible | ok: [sm02] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 15:49:53,979 p=104638 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 15:49:54,007 p=104638 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 15:49:54,121 p=104638 u=master n=ansible | ok: [sm01] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:54,133 p=104638 u=master n=ansible | ok: [sm02] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:54,254 p=104638 u=master n=ansible | ok: [cn02] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:54,279 p=104638 u=master n=ansible | ok: [cn01] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:49:54,290 p=104638 u=master n=ansible | TASK [common : [COMMON] Роль common выполнена успешно] ********************************************************************************************************************************
2025-07-26 15:49:54,290 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:54 +0000 (0:00:01.786)       0:00:36.223 ********* 
2025-07-26 15:49:54,328 p=104638 u=master n=ansible | ok: [sm01] => 
  msg: ✅ Узел sm01 готов для установки Slurm
2025-07-26 15:49:54,343 p=104638 u=master n=ansible | ok: [sm02] => 
  msg: ✅ Узел sm02 готов для установки Slurm
2025-07-26 15:49:54,345 p=104638 u=master n=ansible | ok: [cn01] => 
  msg: ✅ Узел cn01 готов для установки Slurm
2025-07-26 15:49:54,362 p=104638 u=master n=ansible | ok: [cn02] => 
  msg: ✅ Узел cn02 готов для установки Slurm
2025-07-26 15:49:54,407 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Начало сборки Slurm] ********************************************************************************************************************************
2025-07-26 15:49:54,407 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:54 +0000 (0:00:00.117)       0:00:36.340 ********* 
2025-07-26 15:49:54,448 p=104638 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на sm01"
2025-07-26 15:49:54,464 p=104638 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на sm02"
2025-07-26 15:49:54,465 p=104638 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на cn01"
2025-07-26 15:49:54,479 p=104638 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на cn02"
2025-07-26 15:49:54,487 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка дополнительных зависимостей для сборки] ***************************************************************************************************
2025-07-26 15:49:54,487 p=104638 u=master n=ansible | Saturday 26 July 2025  15:49:54 +0000 (0:00:00.080)       0:00:36.420 ********* 
2025-07-26 15:49:54,521 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:49:54,540 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:49:54,552 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:50:05,340 p=104638 u=master n=ansible | changed: [sm01]
2025-07-26 15:50:05,349 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание временной директории для сборки] ***********************************************************************************************************
2025-07-26 15:50:05,349 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:05 +0000 (0:00:10.862)       0:00:47.282 ********* 
2025-07-26 15:50:05,400 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:50:05,401 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:50:05,413 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:50:05,628 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:50:05,637 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка существования исходников] ******************************************************************************************************************
2025-07-26 15:50:05,637 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:05 +0000 (0:00:00.287)       0:00:47.570 ********* 
2025-07-26 15:50:05,693 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:50:05,694 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:50:05,705 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:50:05,937 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:50:05,949 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Скачивание исходников Slurm 25.05.1] ****************************************************************************************************************
2025-07-26 15:50:05,950 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:05 +0000 (0:00:00.312)       0:00:47.882 ********* 
2025-07-26 15:50:05,989 p=104638 u=master n=ansible | skipping: [sm01]
2025-07-26 15:50:06,006 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:50:06,007 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:50:06,019 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:50:06,028 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Извлечение исходников Slurm] ************************************************************************************************************************
2025-07-26 15:50:06,029 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:06 +0000 (0:00:00.079)       0:00:47.961 ********* 
2025-07-26 15:50:06,082 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:50:06,083 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:50:06,094 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:50:06,125 p=104638 u=master n=ansible | skipping: [sm01]
2025-07-26 15:50:06,134 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Конфигурация сборки Slurm с JWT поддержкой] *********************************************************************************************************
2025-07-26 15:50:06,134 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:06 +0000 (0:00:00.105)       0:00:48.067 ********* 
2025-07-26 15:50:06,185 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:50:06,186 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:50:06,196 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:50:06,388 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:50:06,397 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результат конфигурации] *****************************************************************************************************************************
2025-07-26 15:50:06,397 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:06 +0000 (0:00:00.263)       0:00:48.330 ********* 
2025-07-26 15:50:06,422 p=104638 u=master n=ansible | skipping: [sm01]
2025-07-26 15:50:06,439 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:50:06,456 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:50:06,469 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:50:06,478 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Компиляция Slurm (это займет время...)] *************************************************************************************************************
2025-07-26 15:50:06,478 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:06 +0000 (0:00:00.080)       0:00:48.411 ********* 
2025-07-26 15:50:06,515 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:50:06,532 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:50:06,544 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:50:06,736 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:50:06,745 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка Slurm на master] **************************************************************************************************************************
2025-07-26 15:50:06,745 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:06 +0000 (0:00:00.266)       0:00:48.678 ********* 
2025-07-26 15:50:06,795 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:50:06,796 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:50:06,806 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:50:06,999 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:50:07,010 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание директории Slurm на всех узлах] ************************************************************************************************************
2025-07-26 15:50:07,010 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:07 +0000 (0:00:00.265)       0:00:48.943 ********* 
2025-07-26 15:50:07,288 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:50:07,308 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:50:07,322 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:50:07,332 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:50:07,341 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Исправление прав доступа к /sw на NFS сервере] ******************************************************************************************************
2025-07-26 15:50:07,341 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:07 +0000 (0:00:00.330)       0:00:49.274 ********* 
2025-07-26 15:50:07,382 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:50:07,400 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:50:07,413 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:50:07,611 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:50:07,621 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] ПРОСТОЕ копирование через NFS (С ДЕТАЛЬНЫМ ЛОГИРОВАНИЕМ)] *******************************************************************************************
2025-07-26 15:50:07,621 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:07 +0000 (0:00:00.280)       0:00:49.554 ********* 
2025-07-26 15:50:07,659 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:50:07,726 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:50:07,738 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:50:08,687 p=104638 u=master n=ansible | changed: [sm01]
2025-07-26 15:50:08,696 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Копирование Slurm на все узлы из NFS] ***************************************************************************************************************
2025-07-26 15:50:08,696 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:08 +0000 (0:00:01.074)       0:00:50.629 ********* 
2025-07-26 15:50:08,718 p=104638 u=master n=ansible | skipping: [sm01]
2025-07-26 15:50:26,610 p=104638 u=master n=ansible | changed: [cn01]
2025-07-26 15:50:27,956 p=104638 u=master n=ansible | changed: [sm02]
2025-07-26 15:50:28,968 p=104638 u=master n=ansible | changed: [cn02]
2025-07-26 15:50:28,977 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание символических ссылок для пользовательских команд Slurm] ************************************************************************************
2025-07-26 15:50:28,978 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:28 +0000 (0:00:20.281)       0:01:10.910 ********* 
2025-07-26 15:50:29,270 p=104638 u=master n=ansible | ok: [sm01] => (item=sinfo)
2025-07-26 15:50:29,296 p=104638 u=master n=ansible | ok: [sm02] => (item=sinfo)
2025-07-26 15:50:29,308 p=104638 u=master n=ansible | ok: [cn02] => (item=sinfo)
2025-07-26 15:50:29,362 p=104638 u=master n=ansible | ok: [cn01] => (item=sinfo)
2025-07-26 15:50:29,535 p=104638 u=master n=ansible | ok: [sm01] => (item=squeue)
2025-07-26 15:50:29,551 p=104638 u=master n=ansible | ok: [sm02] => (item=squeue)
2025-07-26 15:50:29,563 p=104638 u=master n=ansible | ok: [cn02] => (item=squeue)
2025-07-26 15:50:29,647 p=104638 u=master n=ansible | ok: [cn01] => (item=squeue)
2025-07-26 15:50:29,802 p=104638 u=master n=ansible | ok: [sm01] => (item=scancel)
2025-07-26 15:50:29,803 p=104638 u=master n=ansible | ok: [sm02] => (item=scancel)
2025-07-26 15:50:29,849 p=104638 u=master n=ansible | ok: [cn02] => (item=scancel)
2025-07-26 15:50:29,909 p=104638 u=master n=ansible | ok: [cn01] => (item=scancel)
2025-07-26 15:50:30,056 p=104638 u=master n=ansible | ok: [sm02] => (item=sbatch)
2025-07-26 15:50:30,064 p=104638 u=master n=ansible | ok: [sm01] => (item=sbatch)
2025-07-26 15:50:30,124 p=104638 u=master n=ansible | ok: [cn02] => (item=sbatch)
2025-07-26 15:50:30,172 p=104638 u=master n=ansible | ok: [cn01] => (item=sbatch)
2025-07-26 15:50:30,330 p=104638 u=master n=ansible | ok: [sm01] => (item=salloc)
2025-07-26 15:50:30,337 p=104638 u=master n=ansible | ok: [sm02] => (item=salloc)
2025-07-26 15:50:30,388 p=104638 u=master n=ansible | ok: [cn02] => (item=salloc)
2025-07-26 15:50:30,433 p=104638 u=master n=ansible | ok: [cn01] => (item=salloc)
2025-07-26 15:50:30,601 p=104638 u=master n=ansible | ok: [sm01] => (item=srun)
2025-07-26 15:50:30,625 p=104638 u=master n=ansible | ok: [sm02] => (item=srun)
2025-07-26 15:50:30,645 p=104638 u=master n=ansible | ok: [cn02] => (item=srun)
2025-07-26 15:50:30,703 p=104638 u=master n=ansible | ok: [cn01] => (item=srun)
2025-07-26 15:50:30,861 p=104638 u=master n=ansible | ok: [sm01] => (item=sacct)
2025-07-26 15:50:30,883 p=104638 u=master n=ansible | ok: [sm02] => (item=sacct)
2025-07-26 15:50:30,913 p=104638 u=master n=ansible | ok: [cn02] => (item=sacct)
2025-07-26 15:50:30,971 p=104638 u=master n=ansible | ok: [cn01] => (item=sacct)
2025-07-26 15:50:31,135 p=104638 u=master n=ansible | ok: [sm01] => (item=scontrol)
2025-07-26 15:50:31,140 p=104638 u=master n=ansible | ok: [sm02] => (item=scontrol)
2025-07-26 15:50:31,197 p=104638 u=master n=ansible | ok: [cn02] => (item=scontrol)
2025-07-26 15:50:31,235 p=104638 u=master n=ansible | ok: [cn01] => (item=scontrol)
2025-07-26 15:50:31,398 p=104638 u=master n=ansible | ok: [sm01] => (item=sprio)
2025-07-26 15:50:31,401 p=104638 u=master n=ansible | ok: [sm02] => (item=sprio)
2025-07-26 15:50:31,460 p=104638 u=master n=ansible | ok: [cn02] => (item=sprio)
2025-07-26 15:50:31,504 p=104638 u=master n=ansible | ok: [cn01] => (item=sprio)
2025-07-26 15:50:31,654 p=104638 u=master n=ansible | ok: [sm01] => (item=smap)
2025-07-26 15:50:31,676 p=104638 u=master n=ansible | ok: [sm02] => (item=smap)
2025-07-26 15:50:31,713 p=104638 u=master n=ansible | ok: [cn02] => (item=smap)
2025-07-26 15:50:31,793 p=104638 u=master n=ansible | ok: [cn01] => (item=smap)
2025-07-26 15:50:31,912 p=104638 u=master n=ansible | ok: [sm01] => (item=sdiag)
2025-07-26 15:50:31,941 p=104638 u=master n=ansible | ok: [sm02] => (item=sdiag)
2025-07-26 15:50:31,970 p=104638 u=master n=ansible | ok: [cn02] => (item=sdiag)
2025-07-26 15:50:32,051 p=104638 u=master n=ansible | ok: [cn01] => (item=sdiag)
2025-07-26 15:50:32,172 p=104638 u=master n=ansible | ok: [sm01] => (item=sstat)
2025-07-26 15:50:32,227 p=104638 u=master n=ansible | ok: [sm02] => (item=sstat)
2025-07-26 15:50:32,249 p=104638 u=master n=ansible | ok: [cn02] => (item=sstat)
2025-07-26 15:50:32,316 p=104638 u=master n=ansible | ok: [cn01] => (item=sstat)
2025-07-26 15:50:32,432 p=104638 u=master n=ansible | ok: [sm01] => (item=sreport)
2025-07-26 15:50:32,498 p=104638 u=master n=ansible | ok: [sm02] => (item=sreport)
2025-07-26 15:50:32,526 p=104638 u=master n=ansible | ok: [cn02] => (item=sreport)
2025-07-26 15:50:32,575 p=104638 u=master n=ansible | ok: [cn01] => (item=sreport)
2025-07-26 15:50:32,700 p=104638 u=master n=ansible | ok: [sm01] => (item=sacctmgr)
2025-07-26 15:50:32,779 p=104638 u=master n=ansible | ok: [sm02] => (item=sacctmgr)
2025-07-26 15:50:32,780 p=104638 u=master n=ansible | ok: [cn02] => (item=sacctmgr)
2025-07-26 15:50:32,871 p=104638 u=master n=ansible | ok: [cn01] => (item=sacctmgr)
2025-07-26 15:50:32,960 p=104638 u=master n=ansible | ok: [sm01] => (item=sattach)
2025-07-26 15:50:33,036 p=104638 u=master n=ansible | ok: [sm02] => (item=sattach)
2025-07-26 15:50:33,126 p=104638 u=master n=ansible | ok: [cn02] => (item=sattach)
2025-07-26 15:50:33,130 p=104638 u=master n=ansible | ok: [cn01] => (item=sattach)
2025-07-26 15:50:33,221 p=104638 u=master n=ansible | ok: [sm01] => (item=sbcast)
2025-07-26 15:50:33,294 p=104638 u=master n=ansible | ok: [sm02] => (item=sbcast)
2025-07-26 15:50:33,383 p=104638 u=master n=ansible | ok: [cn02] => (item=sbcast)
2025-07-26 15:50:33,398 p=104638 u=master n=ansible | ok: [cn01] => (item=sbcast)
2025-07-26 15:50:33,489 p=104638 u=master n=ansible | ok: [sm01] => (item=sshare)
2025-07-26 15:50:33,549 p=104638 u=master n=ansible | ok: [sm02] => (item=sshare)
2025-07-26 15:50:33,640 p=104638 u=master n=ansible | ok: [cn02] => (item=sshare)
2025-07-26 15:50:33,653 p=104638 u=master n=ansible | ok: [cn01] => (item=sshare)
2025-07-26 15:50:33,755 p=104638 u=master n=ansible | ok: [sm01] => (item=sview)
2025-07-26 15:50:33,761 p=104638 u=master n=ansible | [WARNING]: Cannot set fs attributes on a non-existent symlink target. follow should be set to False to avoid this.

2025-07-26 15:50:33,831 p=104638 u=master n=ansible | ok: [sm02] => (item=sview)
2025-07-26 15:50:33,898 p=104638 u=master n=ansible | ok: [cn02] => (item=sview)
2025-07-26 15:50:33,919 p=104638 u=master n=ansible | ok: [cn01] => (item=sview)
2025-07-26 15:50:33,936 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание символических ссылок для системных демонов Slurm] ******************************************************************************************
2025-07-26 15:50:33,936 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:33 +0000 (0:00:04.958)       0:01:15.869 ********* 
2025-07-26 15:50:34,221 p=104638 u=master n=ansible | ok: [sm01] => (item=slurmctld)
2025-07-26 15:50:34,239 p=104638 u=master n=ansible | ok: [sm02] => (item=slurmctld)
2025-07-26 15:50:34,267 p=104638 u=master n=ansible | ok: [cn01] => (item=slurmctld)
2025-07-26 15:50:34,281 p=104638 u=master n=ansible | ok: [cn02] => (item=slurmctld)
2025-07-26 15:50:34,481 p=104638 u=master n=ansible | ok: [sm01] => (item=slurmd)
2025-07-26 15:50:34,494 p=104638 u=master n=ansible | ok: [sm02] => (item=slurmd)
2025-07-26 15:50:34,530 p=104638 u=master n=ansible | ok: [cn01] => (item=slurmd)
2025-07-26 15:50:34,544 p=104638 u=master n=ansible | ok: [cn02] => (item=slurmd)
2025-07-26 15:50:34,744 p=104638 u=master n=ansible | ok: [sm01] => (item=slurmdbd)
2025-07-26 15:50:34,750 p=104638 u=master n=ansible | ok: [sm02] => (item=slurmdbd)
2025-07-26 15:50:34,797 p=104638 u=master n=ansible | ok: [cn01] => (item=slurmdbd)
2025-07-26 15:50:34,802 p=104638 u=master n=ansible | ok: [cn02] => (item=slurmdbd)
2025-07-26 15:50:35,003 p=104638 u=master n=ansible | ok: [sm01] => (item=slurmrestd)
2025-07-26 15:50:35,006 p=104638 u=master n=ansible | ok: [sm02] => (item=slurmrestd)
2025-07-26 15:50:35,050 p=104638 u=master n=ansible | ok: [cn01] => (item=slurmrestd)
2025-07-26 15:50:35,056 p=104638 u=master n=ansible | ok: [cn02] => (item=slurmrestd)
2025-07-26 15:50:35,263 p=104638 u=master n=ansible | ok: [sm01] => (item=slurmstepd)
2025-07-26 15:50:35,269 p=104638 u=master n=ansible | ok: [sm02] => (item=slurmstepd)
2025-07-26 15:50:35,309 p=104638 u=master n=ansible | ok: [cn01] => (item=slurmstepd)
2025-07-26 15:50:35,310 p=104638 u=master n=ansible | ok: [cn02] => (item=slurmstepd)
2025-07-26 15:50:35,324 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Обновление библиотечного кеша] **********************************************************************************************************************
2025-07-26 15:50:35,325 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:35 +0000 (0:00:01.388)       0:01:17.257 ********* 
2025-07-26 15:50:35,782 p=104638 u=master n=ansible | changed: [cn02]
2025-07-26 15:50:35,803 p=104638 u=master n=ansible | changed: [sm02]
2025-07-26 15:50:36,454 p=104638 u=master n=ansible | changed: [cn01]
2025-07-26 15:50:38,565 p=104638 u=master n=ansible | changed: [sm01]
2025-07-26 15:50:38,575 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка версии Slurm (без подключения к демону)] ***************************************************************************************************
2025-07-26 15:50:38,575 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:38 +0000 (0:00:03.250)       0:01:20.508 ********* 
2025-07-26 15:50:38,865 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:50:38,870 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:50:38,889 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:50:38,903 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:50:38,911 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки JWT] *****************************************************************************************************************************
2025-07-26 15:50:38,912 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:38 +0000 (0:00:00.336)       0:01:20.844 ********* 
2025-07-26 15:50:39,187 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:50:39,197 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:50:39,216 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:50:39,233 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:50:39,242 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки GPU/NVIDIA] **********************************************************************************************************************
2025-07-26 15:50:39,242 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:39 +0000 (0:00:00.330)       0:01:21.175 ********* 
2025-07-26 15:50:39,533 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:50:39,539 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:50:39,559 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:50:39,575 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:50:39,586 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки MySQL] ***************************************************************************************************************************
2025-07-26 15:50:39,586 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:39 +0000 (0:00:00.344)       0:01:21.519 ********* 
2025-07-26 15:50:39,866 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:50:39,875 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:50:39,887 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:50:39,903 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:50:39,912 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результаты проверки] ********************************************************************************************************************************
2025-07-26 15:50:39,912 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:39 +0000 (0:00:00.326)       0:01:21.845 ********* 
2025-07-26 15:50:39,954 p=104638 u=master n=ansible | ok: [sm01] => 
  msg: "✅ Slurm успешно установлен на sm01\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 15:50:39,972 p=104638 u=master n=ansible | ok: [sm02] => 
  msg: "✅ Slurm успешно установлен на sm02\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 15:50:39,973 p=104638 u=master n=ansible | ok: [cn01] => 
  msg: "✅ Slurm успешно установлен на cn01\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 15:50:39,988 p=104638 u=master n=ansible | ok: [cn02] => 
  msg: "✅ Slurm успешно установлен на cn02\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 15:50:39,998 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Сборка завершена успешно] ***************************************************************************************************************************
2025-07-26 15:50:39,998 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:39 +0000 (0:00:00.085)       0:01:21.931 ********* 
2025-07-26 15:50:40,036 p=104638 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на sm01"
2025-07-26 15:50:40,055 p=104638 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на sm02"
2025-07-26 15:50:40,056 p=104638 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на cn01"
2025-07-26 15:50:40,071 p=104638 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на cn02"
2025-07-26 15:50:40,080 p=104638 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Очистка временных файлов из NFS] ********************************************************************************************************************
2025-07-26 15:50:40,080 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:40 +0000 (0:00:00.081)       0:01:22.013 ********* 
2025-07-26 15:50:40,116 p=104638 u=master n=ansible | skipping: [sm02]
2025-07-26 15:50:40,132 p=104638 u=master n=ansible | skipping: [cn01]
2025-07-26 15:50:40,145 p=104638 u=master n=ansible | skipping: [cn02]
2025-07-26 15:50:40,685 p=104638 u=master n=ansible | changed: [sm01]
2025-07-26 15:50:40,720 p=104638 u=master n=ansible | TASK [containers : [CONTAINERS] Начало установки Enroot + Pyxis] **********************************************************************************************************************
2025-07-26 15:50:40,720 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:40 +0000 (0:00:00.639)       0:01:22.652 ********* 
2025-07-26 15:50:40,783 p=104638 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F680 Установка контейнерной поддержки на sm01\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 15:50:40,786 p=104638 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F680 Установка контейнерной поддержки на sm02\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 15:50:40,825 p=104638 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F680 Установка контейнерной поддержки на cn01\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 15:50:40,836 p=104638 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F680 Установка контейнерной поддержки на cn02\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 15:50:40,845 p=104638 u=master n=ansible | TASK [containers : [CONTAINERS] Установка системных зависимостей] *********************************************************************************************************************
2025-07-26 15:50:40,845 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:40 +0000 (0:00:00.125)       0:01:22.778 ********* 
2025-07-26 15:50:42,947 p=104638 u=master n=ansible | ok: [sm02]
2025-07-26 15:50:43,085 p=104638 u=master n=ansible | ok: [cn01]
2025-07-26 15:50:43,086 p=104638 u=master n=ansible | ok: [sm01]
2025-07-26 15:50:43,095 p=104638 u=master n=ansible | ok: [cn02]
2025-07-26 15:50:43,137 p=104638 u=master n=ansible | TASK [containers : [CONTAINERS] Создание группы enroot] *******************************************************************************************************************************
2025-07-26 15:50:43,138 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:43 +0000 (0:00:02.292)       0:01:25.070 ********* 
2025-07-26 15:50:43,161 p=104638 u=master n=ansible | fatal: [sm01]: FAILED! => 
  msg: |-
    The task includes an option with an undefined variable. The error was: 'enroot_gid' is undefined. 'enroot_gid' is undefined
  
    The error appears to be in '/home/master/22Jul/slurm-hpc-cluster/roles/containers/tasks/main.yml': line 27, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
  
    - name: "[CONTAINERS] Создание группы enroot"
      ^ here
2025-07-26 15:50:43,178 p=104638 u=master n=ansible | fatal: [sm02]: FAILED! => 
  msg: |-
    The task includes an option with an undefined variable. The error was: 'enroot_gid' is undefined. 'enroot_gid' is undefined
  
    The error appears to be in '/home/master/22Jul/slurm-hpc-cluster/roles/containers/tasks/main.yml': line 27, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
  
    - name: "[CONTAINERS] Создание группы enroot"
      ^ here
2025-07-26 15:50:43,195 p=104638 u=master n=ansible | fatal: [cn01]: FAILED! => 
  msg: |-
    The task includes an option with an undefined variable. The error was: 'enroot_gid' is undefined. 'enroot_gid' is undefined
  
    The error appears to be in '/home/master/22Jul/slurm-hpc-cluster/roles/containers/tasks/main.yml': line 27, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
  
    - name: "[CONTAINERS] Создание группы enroot"
      ^ here
2025-07-26 15:50:43,207 p=104638 u=master n=ansible | fatal: [cn02]: FAILED! => 
  msg: |-
    The task includes an option with an undefined variable. The error was: 'enroot_gid' is undefined. 'enroot_gid' is undefined
  
    The error appears to be in '/home/master/22Jul/slurm-hpc-cluster/roles/containers/tasks/main.yml': line 27, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
  
    - name: "[CONTAINERS] Создание группы enroot"
      ^ here
2025-07-26 15:50:43,208 p=104638 u=master n=ansible | PLAY RECAP ****************************************************************************************************************************************************************************
2025-07-26 15:50:43,208 p=104638 u=master n=ansible | cn01                       : ok=35   changed=5    unreachable=0    failed=1    skipped=24   rescued=0    ignored=0   
2025-07-26 15:50:43,209 p=104638 u=master n=ansible | cn02                       : ok=35   changed=5    unreachable=0    failed=1    skipped=24   rescued=0    ignored=0   
2025-07-26 15:50:43,209 p=104638 u=master n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-26 15:50:43,209 p=104638 u=master n=ansible | sm01                       : ok=50   changed=12   unreachable=0    failed=1    skipped=9    rescued=0    ignored=0   
2025-07-26 15:50:43,209 p=104638 u=master n=ansible | sm02                       : ok=35   changed=5    unreachable=0    failed=1    skipped=24   rescued=0    ignored=0   
2025-07-26 15:50:43,209 p=104638 u=master n=ansible | Playbook run took 0 days, 0 hours, 1 minutes, 25 seconds
2025-07-26 15:50:43,209 p=104638 u=master n=ansible | Saturday 26 July 2025  15:50:43 +0000 (0:00:00.071)       0:01:25.142 ********* 
2025-07-26 15:50:43,209 p=104638 u=master n=ansible | =============================================================================== 
2025-07-26 15:50:43,210 p=104638 u=master n=ansible | slurm_build : [SLURM_BUILD] Копирование Slurm на все узлы из NFS -------------------------------------------------------------------------------------------------------------- 20.28s
2025-07-26 15:50:43,210 p=104638 u=master n=ansible | slurm_build : [SLURM_BUILD] Установка дополнительных зависимостей для сборки -------------------------------------------------------------------------------------------------- 10.86s
2025-07-26 15:50:43,210 p=104638 u=master n=ansible | common : [COMMON] Установка базовых пакетов ----------------------------------------------------------------------------------------------------------------------------------- 10.51s
2025-07-26 15:50:43,210 p=104638 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание символических ссылок для пользовательских команд Slurm ------------------------------------------------------------------------------------ 4.96s
2025-07-26 15:50:43,210 p=104638 u=master n=ansible | slurm_build : [SLURM_BUILD] Обновление библиотечного кеша ---------------------------------------------------------------------------------------------------------------------- 3.25s
2025-07-26 15:50:43,210 p=104638 u=master n=ansible | containers : [CONTAINERS] Установка системных зависимостей --------------------------------------------------------------------------------------------------------------------- 2.29s
2025-07-26 15:50:43,210 p=104638 u=master n=ansible | common : [COMMON] Запуск и включение MUNGE ------------------------------------------------------------------------------------------------------------------------------------- 2.24s
2025-07-26 15:50:43,210 p=104638 u=master n=ansible | common : [COMMON] Обновление apt cache ----------------------------------------------------------------------------------------------------------------------------------------- 2.05s
2025-07-26 15:50:43,211 p=104638 u=master n=ansible | common : [COMMON] Остановка MUNGE перед настройкой ----------------------------------------------------------------------------------------------------------------------------- 2.01s
2025-07-26 15:50:43,211 p=104638 u=master n=ansible | common : [COMMON] Создание базовых директорий Slurm ---------------------------------------------------------------------------------------------------------------------------- 1.79s
2025-07-26 15:50:43,211 p=104638 u=master n=ansible | common : [COMMON] Настройка экспорта NFS (автоопределение IP) ------------------------------------------------------------------------------------------------------------------ 1.57s
2025-07-26 15:50:43,211 p=104638 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание символических ссылок для системных демонов Slurm ------------------------------------------------------------------------------------------ 1.39s
2025-07-26 15:50:43,211 p=104638 u=master n=ansible | common : [COMMON] Настройка прав доступа MUNGE директорий ---------------------------------------------------------------------------------------------------------------------- 1.31s
2025-07-26 15:50:43,211 p=104638 u=master n=ansible | common : [COMMON] Установка HWLOC ---------------------------------------------------------------------------------------------------------------------------------------------- 1.26s
2025-07-26 15:50:43,211 p=104638 u=master n=ansible | common : [COMMON] Установка NFS client ----------------------------------------------------------------------------------------------------------------------------------------- 1.20s
2025-07-26 15:50:43,211 p=104638 u=master n=ansible | common : [COMMON] Создание MUNGE ключа на остальных узлах ---------------------------------------------------------------------------------------------------------------------- 1.18s
2025-07-26 15:50:43,211 p=104638 u=master n=ansible | common : [COMMON] Установка MUNGE ---------------------------------------------------------------------------------------------------------------------------------------------- 1.18s
2025-07-26 15:50:43,211 p=104638 u=master n=ansible | slurm_build : [SLURM_BUILD] ПРОСТОЕ копирование через NFS (С ДЕТАЛЬНЫМ ЛОГИРОВАНИЕМ) ------------------------------------------------------------------------------------------- 1.08s
2025-07-26 15:50:43,211 p=104638 u=master n=ansible | common : [COMMON] Установка MariaDB -------------------------------------------------------------------------------------------------------------------------------------------- 1.07s
2025-07-26 15:50:43,212 p=104638 u=master n=ansible | common : [COMMON] Установка python3-pymysql для Ansible mysql модулей ---------------------------------------------------------------------------------------------------------- 1.05s
2025-07-26 15:57:56,612 p=105669 u=master n=ansible | PLAY [🐳 Установка контейнерной поддержки] ********************************************************************************************************************************************
2025-07-26 15:57:56,621 p=105669 u=master n=ansible | TASK [📋 Информация о контейнеризации] ************************************************************************************************************************************************
2025-07-26 15:57:56,621 p=105669 u=master n=ansible | Saturday 26 July 2025  15:57:56 +0000 (0:00:00.011)       0:00:00.011 ********* 
2025-07-26 15:57:56,680 p=105669 u=master n=ansible | ok: [localhost] => 
  msg: "================================================================================\n\U0001F433 УСТАНОВКА КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n================================================================================\n\U0001F527 Компоненты: Enroot + Pyxis + NVIDIA Container Toolkit\n\U0001F3AF Целевые узлы: 4\n\U0001F3AE GPU узлы: 2\n\n\U0001F4CA Узлы для установки:\n\U0001F5A5️  Compute: cn01, cn02\n\U0001F511 Login:   sm02\n\U0001F39B️  Master:  sm01\n\n⏱️  Ожидаемое время: ~20-30 минут\n================================================================================"
2025-07-26 15:57:56,689 p=105669 u=master n=ansible | PLAY [🐳 Этап 1/3: Установка Enroot на все узлы] **************************************************************************************************************************************
2025-07-26 15:57:56,771 p=105669 u=master n=ansible | TASK [common : [COMMON] Начало выполнения роли common] ********************************************************************************************************************************
2025-07-26 15:57:56,771 p=105669 u=master n=ansible | Saturday 26 July 2025  15:57:56 +0000 (0:00:00.149)       0:00:00.161 ********* 
2025-07-26 15:57:56,806 p=105669 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F527 Настройка базовых компонентов на sm01"
2025-07-26 15:57:56,823 p=105669 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F527 Настройка базовых компонентов на sm02"
2025-07-26 15:57:56,825 p=105669 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F527 Настройка базовых компонентов на cn01"
2025-07-26 15:57:56,839 p=105669 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F527 Настройка базовых компонентов на cn02"
2025-07-26 15:57:56,849 p=105669 u=master n=ansible | TASK [common : [COMMON] Обновление apt cache] *****************************************************************************************************************************************
2025-07-26 15:57:56,849 p=105669 u=master n=ansible | Saturday 26 July 2025  15:57:56 +0000 (0:00:00.077)       0:00:00.239 ********* 
2025-07-26 15:57:58,759 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:57:58,824 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:57:58,847 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:57:58,849 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:57:58,858 p=105669 u=master n=ansible | TASK [common : [COMMON] Установка базовых пакетов] ************************************************************************************************************************************
2025-07-26 15:57:58,858 p=105669 u=master n=ansible | Saturday 26 July 2025  15:57:58 +0000 (0:00:02.009)       0:00:02.248 ********* 
2025-07-26 15:57:59,920 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:58:00,000 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:58:00,036 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:58:14,757 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:58:14,767 p=105669 u=master n=ansible | TASK [common : [COMMON] Настройка timezone] *******************************************************************************************************************************************
2025-07-26 15:58:14,767 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:14 +0000 (0:00:15.909)       0:00:18.157 ********* 
2025-07-26 15:58:15,278 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:58:15,280 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:58:15,282 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:15,283 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:58:15,292 p=105669 u=master n=ansible | TASK [common : [COMMON] Создание пользователя slurm] **********************************************************************************************************************************
2025-07-26 15:58:15,292 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:15 +0000 (0:00:00.524)       0:00:18.682 ********* 
2025-07-26 15:58:15,804 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:15,806 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:58:15,806 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:58:15,812 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:58:15,822 p=105669 u=master n=ansible | TASK [common : [COMMON] Установка MUNGE] **********************************************************************************************************************************************
2025-07-26 15:58:15,822 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:15 +0000 (0:00:00.530)       0:00:19.212 ********* 
2025-07-26 15:58:16,789 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:58:16,887 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:58:16,894 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:16,915 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:58:16,923 p=105669 u=master n=ansible | TASK [common : [COMMON] Остановка MUNGE перед настройкой] *****************************************************************************************************************************
2025-07-26 15:58:16,923 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:16 +0000 (0:00:01.100)       0:00:20.313 ********* 
2025-07-26 15:58:18,819 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:58:18,822 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:58:18,828 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:58:18,920 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:58:18,929 p=105669 u=master n=ansible | TASK [common : [COMMON] Создание MUNGE ключа на master узле] **************************************************************************************************************************
2025-07-26 15:58:18,929 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:18 +0000 (0:00:02.005)       0:00:22.319 ********* 
2025-07-26 15:58:18,986 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:18,987 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:18,997 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:19,302 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:19,311 p=105669 u=master n=ansible | TASK [common : [COMMON] Настройка прав доступа MUNGE директорий] **********************************************************************************************************************
2025-07-26 15:58:19,311 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:19 +0000 (0:00:00.381)       0:00:22.701 ********* 
2025-07-26 15:58:19,727 p=105669 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:58:19,728 p=105669 u=master n=ansible | ok: [sm02] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:58:19,741 p=105669 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:58:19,747 p=105669 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:58:19,996 p=105669 u=master n=ansible | ok: [sm01] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:58:20,013 p=105669 u=master n=ansible | ok: [sm02] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:58:20,043 p=105669 u=master n=ansible | ok: [cn01] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:58:20,225 p=105669 u=master n=ansible | ok: [cn02] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:58:20,255 p=105669 u=master n=ansible | ok: [sm01] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:58:20,273 p=105669 u=master n=ansible | ok: [sm02] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:58:20,301 p=105669 u=master n=ansible | ok: [cn01] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:58:20,483 p=105669 u=master n=ansible | ok: [cn02] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 15:58:20,519 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 15:58:20,529 p=105669 u=master n=ansible | changed: [sm02] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 15:58:20,568 p=105669 u=master n=ansible | changed: [cn01] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 15:58:20,737 p=105669 u=master n=ansible | changed: [cn02] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 15:58:20,747 p=105669 u=master n=ansible | TASK [common : [COMMON] Получение MUNGE ключа с мастера] ******************************************************************************************************************************
2025-07-26 15:58:20,748 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:20 +0000 (0:00:01.436)       0:00:24.138 ********* 
2025-07-26 15:58:20,785 p=105669 u=master n=ansible | skipping: [sm01]
2025-07-26 15:58:21,159 p=105669 u=master n=ansible | ok: [cn01 -> sm01]
2025-07-26 15:58:21,160 p=105669 u=master n=ansible | ok: [cn02 -> sm01]
2025-07-26 15:58:21,162 p=105669 u=master n=ansible | ok: [sm02 -> sm01]
2025-07-26 15:58:21,172 p=105669 u=master n=ansible | TASK [common : [COMMON] Создание MUNGE ключа на остальных узлах] **********************************************************************************************************************
2025-07-26 15:58:21,172 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:21 +0000 (0:00:00.424)       0:00:24.562 ********* 
2025-07-26 15:58:21,193 p=105669 u=master n=ansible | skipping: [sm01]
2025-07-26 15:58:22,542 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:58:22,563 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:58:22,564 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:58:22,575 p=105669 u=master n=ansible | TASK [common : [COMMON] Настройка прав доступа на ключ MUNGE (мастер)] ****************************************************************************************************************
2025-07-26 15:58:22,575 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:22 +0000 (0:00:01.402)       0:00:25.965 ********* 
2025-07-26 15:58:22,619 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:22,638 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:22,651 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:22,857 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:22,866 p=105669 u=master n=ansible | TASK [common : [COMMON] Запуск и включение MUNGE] *************************************************************************************************************************************
2025-07-26 15:58:22,866 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:22 +0000 (0:00:00.291)       0:00:26.256 ********* 
2025-07-26 15:58:24,824 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:58:24,859 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:58:24,922 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:58:24,933 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:58:24,942 p=105669 u=master n=ansible | TASK [common : [COMMON] Проверка работы MUNGE] ****************************************************************************************************************************************
2025-07-26 15:58:24,942 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:24 +0000 (0:00:02.075)       0:00:28.332 ********* 
2025-07-26 15:58:25,218 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:25,261 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:58:25,263 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:58:25,312 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:58:25,321 p=105669 u=master n=ansible | TASK [common : [COMMON] Результат проверки MUNGE] *************************************************************************************************************************************
2025-07-26 15:58:25,322 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:25 +0000 (0:00:00.379)       0:00:28.712 ********* 
2025-07-26 15:58:25,362 p=105669 u=master n=ansible | ok: [sm01] => 
  msg: MUNGE работает корректно на sm01
2025-07-26 15:58:25,379 p=105669 u=master n=ansible | ok: [sm02] => 
  msg: MUNGE работает корректно на sm02
2025-07-26 15:58:25,381 p=105669 u=master n=ansible | ok: [cn01] => 
  msg: MUNGE работает корректно на cn01
2025-07-26 15:58:25,397 p=105669 u=master n=ansible | ok: [cn02] => 
  msg: MUNGE работает корректно на cn02
2025-07-26 15:58:25,405 p=105669 u=master n=ansible | TASK [common : [COMMON] Установка HWLOC] **********************************************************************************************************************************************
2025-07-26 15:58:25,405 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:25 +0000 (0:00:00.083)       0:00:28.795 ********* 
2025-07-26 15:58:26,393 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:58:26,474 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:58:26,496 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:26,505 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:58:26,513 p=105669 u=master n=ansible | TASK [common : [COMMON] Проверка HWLOC] ***********************************************************************************************************************************************
2025-07-26 15:58:26,514 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:26 +0000 (0:00:01.108)       0:00:29.904 ********* 
2025-07-26 15:58:26,790 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:26,809 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:58:26,814 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:58:26,894 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:58:26,903 p=105669 u=master n=ansible | TASK [common : [COMMON] Версия HWLOC] *************************************************************************************************************************************************
2025-07-26 15:58:26,903 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:26 +0000 (0:00:00.389)       0:00:30.293 ********* 
2025-07-26 15:58:26,942 p=105669 u=master n=ansible | ok: [sm01] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 15:58:26,959 p=105669 u=master n=ansible | ok: [sm02] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 15:58:26,960 p=105669 u=master n=ansible | ok: [cn01] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 15:58:26,974 p=105669 u=master n=ansible | ok: [cn02] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 15:58:26,983 p=105669 u=master n=ansible | TASK [common : [COMMON] Установка NFS server на master] *******************************************************************************************************************************
2025-07-26 15:58:26,983 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:26 +0000 (0:00:00.079)       0:00:30.373 ********* 
2025-07-26 15:58:27,023 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:27,040 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:27,054 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:27,960 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:27,968 p=105669 u=master n=ansible | TASK [common : [COMMON] Создание директорий для экспорта NFS] *************************************************************************************************************************
2025-07-26 15:58:27,969 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:27 +0000 (0:00:00.985)       0:00:31.359 ********* 
2025-07-26 15:58:28,004 p=105669 u=master n=ansible | skipping: [sm02] => (item=/home) 
2025-07-26 15:58:28,017 p=105669 u=master n=ansible | skipping: [sm02] => (item=/sw) 
2025-07-26 15:58:28,024 p=105669 u=master n=ansible | skipping: [cn01] => (item=/home) 
2025-07-26 15:58:28,028 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:28,031 p=105669 u=master n=ansible | skipping: [cn01] => (item=/sw) 
2025-07-26 15:58:28,032 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:28,041 p=105669 u=master n=ansible | skipping: [cn02] => (item=/home) 
2025-07-26 15:58:28,044 p=105669 u=master n=ansible | skipping: [cn02] => (item=/sw) 
2025-07-26 15:58:28,045 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:28,241 p=105669 u=master n=ansible | ok: [sm01] => (item=/home)
2025-07-26 15:58:28,490 p=105669 u=master n=ansible | ok: [sm01] => (item=/sw)
2025-07-26 15:58:28,500 p=105669 u=master n=ansible | TASK [common : [COMMON] Очистка старых экспортов] *************************************************************************************************************************************
2025-07-26 15:58:28,500 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:28 +0000 (0:00:00.531)       0:00:31.890 ********* 
2025-07-26 15:58:28,544 p=105669 u=master n=ansible | skipping: [sm02] => (item=/home) 
2025-07-26 15:58:28,545 p=105669 u=master n=ansible | skipping: [sm02] => (item=/sw) 
2025-07-26 15:58:28,552 p=105669 u=master n=ansible | skipping: [cn01] => (item=/home) 
2025-07-26 15:58:28,554 p=105669 u=master n=ansible | skipping: [cn01] => (item=/sw) 
2025-07-26 15:58:28,558 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:28,559 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:28,572 p=105669 u=master n=ansible | skipping: [cn02] => (item=/home) 
2025-07-26 15:58:28,575 p=105669 u=master n=ansible | skipping: [cn02] => (item=/sw) 
2025-07-26 15:58:28,575 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:28,896 p=105669 u=master n=ansible | changed: [sm01] => (item=/home)
2025-07-26 15:58:29,138 p=105669 u=master n=ansible | changed: [sm01] => (item=/sw)
2025-07-26 15:58:29,149 p=105669 u=master n=ansible | TASK [common : [COMMON] Настройка экспорта NFS (автоопределение IP)] ******************************************************************************************************************
2025-07-26 15:58:29,149 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:29 +0000 (0:00:00.648)       0:00:32.539 ********* 
2025-07-26 15:58:29,262 p=105669 u=master n=ansible | skipping: [sm02] => (item={'path': '/home', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:58:29,264 p=105669 u=master n=ansible | skipping: [sm02] => (item={'path': '/home', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:58:29,267 p=105669 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:58:29,268 p=105669 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:58:29,269 p=105669 u=master n=ansible | skipping: [sm02] => (item={'path': '/home', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:58:29,270 p=105669 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:58:29,270 p=105669 u=master n=ansible | skipping: [sm02] => (item={'path': '/sw', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:58:29,272 p=105669 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:58:29,273 p=105669 u=master n=ansible | skipping: [sm02] => (item={'path': '/sw', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:58:29,275 p=105669 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:58:29,277 p=105669 u=master n=ansible | skipping: [sm02] => (item={'path': '/sw', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:58:29,278 p=105669 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:58:29,279 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:29,280 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:29,289 p=105669 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:58:29,292 p=105669 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:58:29,294 p=105669 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:58:29,297 p=105669 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': '10.20.90.212'}) 
2025-07-26 15:58:29,300 p=105669 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': '10.20.90.204'}) 
2025-07-26 15:58:29,302 p=105669 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': '10.20.90.215'}) 
2025-07-26 15:58:29,303 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:29,728 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': '10.20.90.212'})
2025-07-26 15:58:29,973 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': '10.20.90.204'})
2025-07-26 15:58:30,216 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': '10.20.90.215'})
2025-07-26 15:58:30,457 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': '10.20.90.212'})
2025-07-26 15:58:30,697 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': '10.20.90.204'})
2025-07-26 15:58:30,940 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': '10.20.90.215'})
2025-07-26 15:58:30,954 p=105669 u=master n=ansible | TASK [common : [COMMON] Запуск и включение NFS server] ********************************************************************************************************************************
2025-07-26 15:58:30,954 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:30 +0000 (0:00:01.805)       0:00:34.344 ********* 
2025-07-26 15:58:30,992 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:31,009 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:31,020 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:31,445 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:31,454 p=105669 u=master n=ansible | TASK [common : [COMMON] Принудительная перезагрузка экспортов NFS] ********************************************************************************************************************
2025-07-26 15:58:31,454 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:31 +0000 (0:00:00.499)       0:00:34.844 ********* 
2025-07-26 15:58:31,491 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:31,508 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:31,520 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:31,728 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:58:31,737 p=105669 u=master n=ansible | TASK [common : [COMMON] Проверка активных экспортов] **********************************************************************************************************************************
2025-07-26 15:58:31,737 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:31 +0000 (0:00:00.282)       0:00:35.127 ********* 
2025-07-26 15:58:31,793 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:31,794 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:31,806 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:32,004 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:58:32,013 p=105669 u=master n=ansible | TASK [common : [COMMON] Показать активные экспорты] ***********************************************************************************************************************************
2025-07-26 15:58:32,013 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:32 +0000 (0:00:00.276)       0:00:35.403 ********* 
2025-07-26 15:58:32,054 p=105669 u=master n=ansible | ok: [sm01] => 
  nfs_exports_check.stdout_lines:
  - "/home         \t10.20.90.212(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/home         \t10.20.90.204(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/home         \t10.20.90.215(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \t10.20.90.212(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \t10.20.90.204(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \t10.20.90.215(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
2025-07-26 15:58:32,069 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:32,070 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:32,081 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:32,089 p=105669 u=master n=ansible | TASK [common : [COMMON] Установка NFS client] *****************************************************************************************************************************************
2025-07-26 15:58:32,090 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:32 +0000 (0:00:00.076)       0:00:35.480 ********* 
2025-07-26 15:58:32,111 p=105669 u=master n=ansible | skipping: [sm01]
2025-07-26 15:58:33,087 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:58:33,138 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:58:33,152 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:58:33,160 p=105669 u=master n=ansible | TASK [common : [COMMON] Создание точек монтирования NFS] ******************************************************************************************************************************
2025-07-26 15:58:33,161 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:33 +0000 (0:00:01.070)       0:00:36.551 ********* 
2025-07-26 15:58:33,190 p=105669 u=master n=ansible | skipping: [sm01] => (item=/sw) 
2025-07-26 15:58:33,201 p=105669 u=master n=ansible | skipping: [sm01]
2025-07-26 15:58:33,457 p=105669 u=master n=ansible | ok: [sm02] => (item=/sw)
2025-07-26 15:58:33,472 p=105669 u=master n=ansible | ok: [cn01] => (item=/sw)
2025-07-26 15:58:33,495 p=105669 u=master n=ansible | ok: [cn02] => (item=/sw)
2025-07-26 15:58:33,505 p=105669 u=master n=ansible | TASK [common : [COMMON] Монтирование NFS shares (автоопределение сервера)] ************************************************************************************************************
2025-07-26 15:58:33,505 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:33 +0000 (0:00:00.344)       0:00:36.895 ********* 
2025-07-26 15:58:33,535 p=105669 u=master n=ansible | skipping: [sm01] => (item={'path': '/home', 'src': '/home'}) 
2025-07-26 15:58:33,536 p=105669 u=master n=ansible | skipping: [sm01] => (item={'path': '/sw', 'src': '/sw'}) 
2025-07-26 15:58:33,544 p=105669 u=master n=ansible | skipping: [sm01]
2025-07-26 15:58:33,929 p=105669 u=master n=ansible | ok: [cn01] => (item={'path': '/home', 'src': '/home'})
2025-07-26 15:58:33,930 p=105669 u=master n=ansible | ok: [sm02] => (item={'path': '/home', 'src': '/home'})
2025-07-26 15:58:33,944 p=105669 u=master n=ansible | ok: [cn02] => (item={'path': '/home', 'src': '/home'})
2025-07-26 15:58:34,178 p=105669 u=master n=ansible | ok: [cn01] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 15:58:34,183 p=105669 u=master n=ansible | ok: [sm02] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 15:58:34,204 p=105669 u=master n=ansible | ok: [cn02] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 15:58:34,214 p=105669 u=master n=ansible | TASK [common : [COMMON] Установка MariaDB] ********************************************************************************************************************************************
2025-07-26 15:58:34,214 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:34 +0000 (0:00:00.709)       0:00:37.604 ********* 
2025-07-26 15:58:34,253 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:34,269 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:34,282 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:35,208 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:35,217 p=105669 u=master n=ansible | TASK [common : [COMMON] Установка python3-pymysql для Ansible mysql модулей] **********************************************************************************************************
2025-07-26 15:58:35,217 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:35 +0000 (0:00:01.003)       0:00:38.607 ********* 
2025-07-26 15:58:35,277 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:35,277 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:35,290 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:36,208 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:36,217 p=105669 u=master n=ansible | TASK [common : [COMMON] Создание базовых директорий Slurm] ****************************************************************************************************************************
2025-07-26 15:58:36,217 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:36 +0000 (0:00:00.999)       0:00:39.607 ********* 
2025-07-26 15:58:36,504 p=105669 u=master n=ansible | ok: [sm01] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:36,512 p=105669 u=master n=ansible | ok: [sm02] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:36,530 p=105669 u=master n=ansible | ok: [cn01] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:36,610 p=105669 u=master n=ansible | ok: [cn02] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:36,767 p=105669 u=master n=ansible | ok: [sm02] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:36,770 p=105669 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:36,855 p=105669 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:36,874 p=105669 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,022 p=105669 u=master n=ansible | ok: [sm02] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,028 p=105669 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,108 p=105669 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,132 p=105669 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,278 p=105669 u=master n=ansible | ok: [sm02] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,285 p=105669 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,419 p=105669 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,453 p=105669 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,544 p=105669 u=master n=ansible | ok: [sm02] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 15:58:37,545 p=105669 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 15:58:37,674 p=105669 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 15:58:37,713 p=105669 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 15:58:37,799 p=105669 u=master n=ansible | ok: [sm02] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,805 p=105669 u=master n=ansible | ok: [sm01] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,928 p=105669 u=master n=ansible | ok: [cn01] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,971 p=105669 u=master n=ansible | ok: [cn02] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 15:58:37,982 p=105669 u=master n=ansible | TASK [common : [COMMON] Роль common выполнена успешно] ********************************************************************************************************************************
2025-07-26 15:58:37,982 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:37 +0000 (0:00:01.765)       0:00:41.372 ********* 
2025-07-26 15:58:38,021 p=105669 u=master n=ansible | ok: [sm01] => 
  msg: ✅ Узел sm01 готов для установки Slurm
2025-07-26 15:58:38,038 p=105669 u=master n=ansible | ok: [sm02] => 
  msg: ✅ Узел sm02 готов для установки Slurm
2025-07-26 15:58:38,040 p=105669 u=master n=ansible | ok: [cn01] => 
  msg: ✅ Узел cn01 готов для установки Slurm
2025-07-26 15:58:38,054 p=105669 u=master n=ansible | ok: [cn02] => 
  msg: ✅ Узел cn02 готов для установки Slurm
2025-07-26 15:58:38,098 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Начало сборки Slurm] ********************************************************************************************************************************
2025-07-26 15:58:38,098 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:38 +0000 (0:00:00.116)       0:00:41.488 ********* 
2025-07-26 15:58:38,138 p=105669 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на sm01"
2025-07-26 15:58:38,155 p=105669 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на sm02"
2025-07-26 15:58:38,157 p=105669 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на cn01"
2025-07-26 15:58:38,172 p=105669 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на cn02"
2025-07-26 15:58:38,180 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка дополнительных зависимостей для сборки] ***************************************************************************************************
2025-07-26 15:58:38,181 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:38 +0000 (0:00:00.082)       0:00:41.571 ********* 
2025-07-26 15:58:38,219 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:38,235 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:38,248 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:52,590 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:58:52,600 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание временной директории для сборки] ***********************************************************************************************************
2025-07-26 15:58:52,600 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:52 +0000 (0:00:14.419)       0:00:55.990 ********* 
2025-07-26 15:58:52,637 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:52,653 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:52,668 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:52,876 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:52,888 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка существования исходников] ******************************************************************************************************************
2025-07-26 15:58:52,888 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:52 +0000 (0:00:00.288)       0:00:56.278 ********* 
2025-07-26 15:58:52,926 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:52,943 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:52,955 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:53,198 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:53,210 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Скачивание исходников Slurm 25.05.1] ****************************************************************************************************************
2025-07-26 15:58:53,210 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:53 +0000 (0:00:00.321)       0:00:56.600 ********* 
2025-07-26 15:58:53,233 p=105669 u=master n=ansible | skipping: [sm01]
2025-07-26 15:58:53,249 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:53,265 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:53,276 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:53,288 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Извлечение исходников Slurm] ************************************************************************************************************************
2025-07-26 15:58:53,288 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:53 +0000 (0:00:00.077)       0:00:56.678 ********* 
2025-07-26 15:58:53,343 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:53,344 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:53,354 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:53,381 p=105669 u=master n=ansible | skipping: [sm01]
2025-07-26 15:58:53,391 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Конфигурация сборки Slurm с JWT поддержкой] *********************************************************************************************************
2025-07-26 15:58:53,391 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:53 +0000 (0:00:00.102)       0:00:56.781 ********* 
2025-07-26 15:58:53,428 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:53,445 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:53,456 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:53,650 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:53,661 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результат конфигурации] *****************************************************************************************************************************
2025-07-26 15:58:53,661 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:53 +0000 (0:00:00.270)       0:00:57.051 ********* 
2025-07-26 15:58:53,682 p=105669 u=master n=ansible | skipping: [sm01]
2025-07-26 15:58:53,697 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:53,713 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:53,724 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:53,732 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Компиляция Slurm (это займет время...)] *************************************************************************************************************
2025-07-26 15:58:53,733 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:53 +0000 (0:00:00.071)       0:00:57.123 ********* 
2025-07-26 15:58:53,770 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:53,787 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:53,799 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:53,988 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:53,997 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка Slurm на master] **************************************************************************************************************************
2025-07-26 15:58:53,997 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:53 +0000 (0:00:00.264)       0:00:57.387 ********* 
2025-07-26 15:58:54,034 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:54,052 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:54,065 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:54,257 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:54,266 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание директории Slurm на всех узлах] ************************************************************************************************************
2025-07-26 15:58:54,266 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:54 +0000 (0:00:00.269)       0:00:57.656 ********* 
2025-07-26 15:58:54,539 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:54,554 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:58:54,575 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:58:54,600 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:58:54,608 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Исправление прав доступа к /sw на NFS сервере] ******************************************************************************************************
2025-07-26 15:58:54,608 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:54 +0000 (0:00:00.341)       0:00:57.998 ********* 
2025-07-26 15:58:54,647 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:54,663 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:54,676 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:54,878 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:58:54,887 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] ПРОСТОЕ копирование через NFS (С ДЕТАЛЬНЫМ ЛОГИРОВАНИЕМ)] *******************************************************************************************
2025-07-26 15:58:54,887 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:54 +0000 (0:00:00.279)       0:00:58.277 ********* 
2025-07-26 15:58:54,926 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:58:54,987 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:58:54,998 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:58:56,319 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:58:56,328 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Копирование Slurm на все узлы из NFS] ***************************************************************************************************************
2025-07-26 15:58:56,329 p=105669 u=master n=ansible | Saturday 26 July 2025  15:58:56 +0000 (0:00:01.441)       0:00:59.719 ********* 
2025-07-26 15:58:56,351 p=105669 u=master n=ansible | skipping: [sm01]
2025-07-26 15:59:13,068 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:59:13,912 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:14,622 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:14,633 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание символических ссылок для пользовательских команд Slurm] ************************************************************************************
2025-07-26 15:59:14,633 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:14 +0000 (0:00:18.304)       0:01:18.023 ********* 
2025-07-26 15:59:14,917 p=105669 u=master n=ansible | ok: [sm01] => (item=sinfo)
2025-07-26 15:59:14,929 p=105669 u=master n=ansible | ok: [sm02] => (item=sinfo)
2025-07-26 15:59:14,964 p=105669 u=master n=ansible | ok: [cn02] => (item=sinfo)
2025-07-26 15:59:14,984 p=105669 u=master n=ansible | ok: [cn01] => (item=sinfo)
2025-07-26 15:59:15,176 p=105669 u=master n=ansible | ok: [sm01] => (item=squeue)
2025-07-26 15:59:15,277 p=105669 u=master n=ansible | ok: [cn02] => (item=squeue)
2025-07-26 15:59:15,293 p=105669 u=master n=ansible | ok: [cn01] => (item=squeue)
2025-07-26 15:59:15,323 p=105669 u=master n=ansible | ok: [sm02] => (item=squeue)
2025-07-26 15:59:15,443 p=105669 u=master n=ansible | ok: [sm01] => (item=scancel)
2025-07-26 15:59:15,548 p=105669 u=master n=ansible | ok: [cn02] => (item=scancel)
2025-07-26 15:59:15,548 p=105669 u=master n=ansible | ok: [cn01] => (item=scancel)
2025-07-26 15:59:15,580 p=105669 u=master n=ansible | ok: [sm02] => (item=scancel)
2025-07-26 15:59:15,700 p=105669 u=master n=ansible | ok: [sm01] => (item=sbatch)
2025-07-26 15:59:15,799 p=105669 u=master n=ansible | ok: [cn02] => (item=sbatch)
2025-07-26 15:59:15,849 p=105669 u=master n=ansible | ok: [cn01] => (item=sbatch)
2025-07-26 15:59:15,850 p=105669 u=master n=ansible | ok: [sm02] => (item=sbatch)
2025-07-26 15:59:15,958 p=105669 u=master n=ansible | ok: [sm01] => (item=salloc)
2025-07-26 15:59:16,053 p=105669 u=master n=ansible | ok: [cn02] => (item=salloc)
2025-07-26 15:59:16,103 p=105669 u=master n=ansible | ok: [cn01] => (item=salloc)
2025-07-26 15:59:16,118 p=105669 u=master n=ansible | ok: [sm02] => (item=salloc)
2025-07-26 15:59:16,217 p=105669 u=master n=ansible | ok: [sm01] => (item=srun)
2025-07-26 15:59:16,311 p=105669 u=master n=ansible | ok: [cn02] => (item=srun)
2025-07-26 15:59:16,374 p=105669 u=master n=ansible | ok: [sm02] => (item=srun)
2025-07-26 15:59:16,397 p=105669 u=master n=ansible | ok: [cn01] => (item=srun)
2025-07-26 15:59:16,471 p=105669 u=master n=ansible | ok: [sm01] => (item=sacct)
2025-07-26 15:59:16,607 p=105669 u=master n=ansible | ok: [cn02] => (item=sacct)
2025-07-26 15:59:16,630 p=105669 u=master n=ansible | ok: [sm02] => (item=sacct)
2025-07-26 15:59:16,684 p=105669 u=master n=ansible | ok: [cn01] => (item=sacct)
2025-07-26 15:59:16,737 p=105669 u=master n=ansible | ok: [sm01] => (item=scontrol)
2025-07-26 15:59:16,873 p=105669 u=master n=ansible | ok: [cn02] => (item=scontrol)
2025-07-26 15:59:16,879 p=105669 u=master n=ansible | ok: [sm02] => (item=scontrol)
2025-07-26 15:59:16,950 p=105669 u=master n=ansible | ok: [cn01] => (item=scontrol)
2025-07-26 15:59:16,993 p=105669 u=master n=ansible | ok: [sm01] => (item=sprio)
2025-07-26 15:59:17,128 p=105669 u=master n=ansible | ok: [sm02] => (item=sprio)
2025-07-26 15:59:17,136 p=105669 u=master n=ansible | ok: [cn02] => (item=sprio)
2025-07-26 15:59:17,224 p=105669 u=master n=ansible | ok: [cn01] => (item=sprio)
2025-07-26 15:59:17,248 p=105669 u=master n=ansible | ok: [sm01] => (item=smap)
2025-07-26 15:59:17,380 p=105669 u=master n=ansible | ok: [sm02] => (item=smap)
2025-07-26 15:59:17,413 p=105669 u=master n=ansible | ok: [cn02] => (item=smap)
2025-07-26 15:59:17,477 p=105669 u=master n=ansible | ok: [cn01] => (item=smap)
2025-07-26 15:59:17,506 p=105669 u=master n=ansible | ok: [sm01] => (item=sdiag)
2025-07-26 15:59:17,640 p=105669 u=master n=ansible | ok: [sm02] => (item=sdiag)
2025-07-26 15:59:17,687 p=105669 u=master n=ansible | ok: [cn02] => (item=sdiag)
2025-07-26 15:59:17,732 p=105669 u=master n=ansible | ok: [cn01] => (item=sdiag)
2025-07-26 15:59:17,789 p=105669 u=master n=ansible | ok: [sm01] => (item=sstat)
2025-07-26 15:59:17,918 p=105669 u=master n=ansible | ok: [sm02] => (item=sstat)
2025-07-26 15:59:17,950 p=105669 u=master n=ansible | ok: [cn02] => (item=sstat)
2025-07-26 15:59:17,989 p=105669 u=master n=ansible | ok: [cn01] => (item=sstat)
2025-07-26 15:59:18,049 p=105669 u=master n=ansible | ok: [sm01] => (item=sreport)
2025-07-26 15:59:18,207 p=105669 u=master n=ansible | ok: [sm02] => (item=sreport)
2025-07-26 15:59:18,209 p=105669 u=master n=ansible | ok: [cn02] => (item=sreport)
2025-07-26 15:59:18,257 p=105669 u=master n=ansible | ok: [cn01] => (item=sreport)
2025-07-26 15:59:18,304 p=105669 u=master n=ansible | ok: [sm01] => (item=sacctmgr)
2025-07-26 15:59:18,492 p=105669 u=master n=ansible | ok: [sm02] => (item=sacctmgr)
2025-07-26 15:59:18,503 p=105669 u=master n=ansible | ok: [cn02] => (item=sacctmgr)
2025-07-26 15:59:18,522 p=105669 u=master n=ansible | ok: [cn01] => (item=sacctmgr)
2025-07-26 15:59:18,580 p=105669 u=master n=ansible | ok: [sm01] => (item=sattach)
2025-07-26 15:59:18,760 p=105669 u=master n=ansible | ok: [sm02] => (item=sattach)
2025-07-26 15:59:18,761 p=105669 u=master n=ansible | ok: [cn02] => (item=sattach)
2025-07-26 15:59:18,782 p=105669 u=master n=ansible | ok: [cn01] => (item=sattach)
2025-07-26 15:59:18,847 p=105669 u=master n=ansible | ok: [sm01] => (item=sbcast)
2025-07-26 15:59:19,017 p=105669 u=master n=ansible | ok: [sm02] => (item=sbcast)
2025-07-26 15:59:19,018 p=105669 u=master n=ansible | ok: [cn02] => (item=sbcast)
2025-07-26 15:59:19,056 p=105669 u=master n=ansible | ok: [cn01] => (item=sbcast)
2025-07-26 15:59:19,104 p=105669 u=master n=ansible | ok: [sm01] => (item=sshare)
2025-07-26 15:59:19,269 p=105669 u=master n=ansible | ok: [sm02] => (item=sshare)
2025-07-26 15:59:19,273 p=105669 u=master n=ansible | ok: [cn02] => (item=sshare)
2025-07-26 15:59:19,315 p=105669 u=master n=ansible | ok: [cn01] => (item=sshare)
2025-07-26 15:59:19,359 p=105669 u=master n=ansible | ok: [sm01] => (item=sview)
2025-07-26 15:59:19,364 p=105669 u=master n=ansible | [WARNING]: Cannot set fs attributes on a non-existent symlink target. follow should be set to False to avoid this.

2025-07-26 15:59:19,532 p=105669 u=master n=ansible | ok: [sm02] => (item=sview)
2025-07-26 15:59:19,559 p=105669 u=master n=ansible | ok: [cn02] => (item=sview)
2025-07-26 15:59:19,585 p=105669 u=master n=ansible | ok: [cn01] => (item=sview)
2025-07-26 15:59:19,600 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание символических ссылок для системных демонов Slurm] ******************************************************************************************
2025-07-26 15:59:19,600 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:19 +0000 (0:00:04.966)       0:01:22.990 ********* 
2025-07-26 15:59:19,902 p=105669 u=master n=ansible | ok: [sm02] => (item=slurmctld)
2025-07-26 15:59:19,934 p=105669 u=master n=ansible | ok: [cn02] => (item=slurmctld)
2025-07-26 15:59:19,945 p=105669 u=master n=ansible | ok: [sm01] => (item=slurmctld)
2025-07-26 15:59:20,052 p=105669 u=master n=ansible | ok: [cn01] => (item=slurmctld)
2025-07-26 15:59:20,182 p=105669 u=master n=ansible | ok: [sm02] => (item=slurmd)
2025-07-26 15:59:20,200 p=105669 u=master n=ansible | ok: [cn02] => (item=slurmd)
2025-07-26 15:59:20,205 p=105669 u=master n=ansible | ok: [sm01] => (item=slurmd)
2025-07-26 15:59:20,313 p=105669 u=master n=ansible | ok: [cn01] => (item=slurmd)
2025-07-26 15:59:20,465 p=105669 u=master n=ansible | ok: [sm01] => (item=slurmdbd)
2025-07-26 15:59:20,466 p=105669 u=master n=ansible | ok: [cn02] => (item=slurmdbd)
2025-07-26 15:59:20,480 p=105669 u=master n=ansible | ok: [sm02] => (item=slurmdbd)
2025-07-26 15:59:20,582 p=105669 u=master n=ansible | ok: [cn01] => (item=slurmdbd)
2025-07-26 15:59:20,719 p=105669 u=master n=ansible | ok: [cn02] => (item=slurmrestd)
2025-07-26 15:59:20,724 p=105669 u=master n=ansible | ok: [sm01] => (item=slurmrestd)
2025-07-26 15:59:20,735 p=105669 u=master n=ansible | ok: [sm02] => (item=slurmrestd)
2025-07-26 15:59:20,842 p=105669 u=master n=ansible | ok: [cn01] => (item=slurmrestd)
2025-07-26 15:59:20,980 p=105669 u=master n=ansible | ok: [sm01] => (item=slurmstepd)
2025-07-26 15:59:20,983 p=105669 u=master n=ansible | ok: [cn02] => (item=slurmstepd)
2025-07-26 15:59:20,994 p=105669 u=master n=ansible | ok: [sm02] => (item=slurmstepd)
2025-07-26 15:59:21,097 p=105669 u=master n=ansible | ok: [cn01] => (item=slurmstepd)
2025-07-26 15:59:21,109 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Обновление библиотечного кеша] **********************************************************************************************************************
2025-07-26 15:59:21,109 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:21 +0000 (0:00:01.509)       0:01:24.499 ********* 
2025-07-26 15:59:21,624 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:21,715 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:21,754 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:59:23,865 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:23,877 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка версии Slurm (без подключения к демону)] ***************************************************************************************************
2025-07-26 15:59:23,877 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:23 +0000 (0:00:02.767)       0:01:27.267 ********* 
2025-07-26 15:59:24,158 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:59:24,181 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:59:24,199 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:59:24,206 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:59:24,214 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки JWT] *****************************************************************************************************************************
2025-07-26 15:59:24,214 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:24 +0000 (0:00:00.337)       0:01:27.604 ********* 
2025-07-26 15:59:24,485 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:59:24,502 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:59:24,518 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:59:24,543 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:59:24,551 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки GPU/NVIDIA] **********************************************************************************************************************
2025-07-26 15:59:24,551 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:24 +0000 (0:00:00.337)       0:01:27.941 ********* 
2025-07-26 15:59:24,841 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:59:24,844 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:59:24,863 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:59:24,882 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:59:24,893 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки MySQL] ***************************************************************************************************************************
2025-07-26 15:59:24,893 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:24 +0000 (0:00:00.341)       0:01:28.283 ********* 
2025-07-26 15:59:25,172 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:59:25,177 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:59:25,198 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:59:25,218 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:59:25,227 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результаты проверки] ********************************************************************************************************************************
2025-07-26 15:59:25,227 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:25 +0000 (0:00:00.334)       0:01:28.617 ********* 
2025-07-26 15:59:25,270 p=105669 u=master n=ansible | ok: [sm01] => 
  msg: "✅ Slurm успешно установлен на sm01\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 15:59:25,298 p=105669 u=master n=ansible | ok: [sm02] => 
  msg: "✅ Slurm успешно установлен на sm02\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 15:59:25,299 p=105669 u=master n=ansible | ok: [cn01] => 
  msg: "✅ Slurm успешно установлен на cn01\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 15:59:25,313 p=105669 u=master n=ansible | ok: [cn02] => 
  msg: "✅ Slurm успешно установлен на cn02\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 15:59:25,322 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Сборка завершена успешно] ***************************************************************************************************************************
2025-07-26 15:59:25,322 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:25 +0000 (0:00:00.094)       0:01:28.712 ********* 
2025-07-26 15:59:25,371 p=105669 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на sm01"
2025-07-26 15:59:25,391 p=105669 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на sm02"
2025-07-26 15:59:25,392 p=105669 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на cn01"
2025-07-26 15:59:25,408 p=105669 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на cn02"
2025-07-26 15:59:25,417 p=105669 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Очистка временных файлов из NFS] ********************************************************************************************************************
2025-07-26 15:59:25,417 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:25 +0000 (0:00:00.094)       0:01:28.807 ********* 
2025-07-26 15:59:25,469 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:59:25,470 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:59:25,483 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 15:59:26,282 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:26,317 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Начало установки Enroot + Pyxis] **********************************************************************************************************************
2025-07-26 15:59:26,317 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:26 +0000 (0:00:00.900)       0:01:29.707 ********* 
2025-07-26 15:59:26,380 p=105669 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F680 Установка контейнерной поддержки на sm01\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 15:59:26,389 p=105669 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F680 Установка контейнерной поддержки на sm02\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 15:59:26,407 p=105669 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F680 Установка контейнерной поддержки на cn01\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 15:59:26,422 p=105669 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F680 Установка контейнерной поддержки на cn02\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 15:59:26,430 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Установка системных зависимостей] *********************************************************************************************************************
2025-07-26 15:59:26,430 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:26 +0000 (0:00:00.113)       0:01:29.820 ********* 
2025-07-26 15:59:28,414 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:59:28,469 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:59:28,536 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:59:28,673 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:59:28,716 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Создание базовых директорий] **************************************************************************************************************************
2025-07-26 15:59:28,716 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:28 +0000 (0:00:02.285)       0:01:32.106 ********* 
2025-07-26 15:59:29,030 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/etc/enroot'})
2025-07-26 15:59:29,064 p=105669 u=master n=ansible | changed: [sm02] => (item={'path': '/etc/enroot'})
2025-07-26 15:59:29,078 p=105669 u=master n=ansible | changed: [cn01] => (item={'path': '/etc/enroot'})
2025-07-26 15:59:29,084 p=105669 u=master n=ansible | changed: [cn02] => (item={'path': '/etc/enroot'})
2025-07-26 15:59:29,288 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/var/lib/enroot'})
2025-07-26 15:59:29,321 p=105669 u=master n=ansible | changed: [sm02] => (item={'path': '/var/lib/enroot'})
2025-07-26 15:59:29,344 p=105669 u=master n=ansible | changed: [cn01] => (item={'path': '/var/lib/enroot'})
2025-07-26 15:59:29,346 p=105669 u=master n=ansible | changed: [cn02] => (item={'path': '/var/lib/enroot'})
2025-07-26 15:59:29,547 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/var/cache/enroot'})
2025-07-26 15:59:29,579 p=105669 u=master n=ansible | changed: [sm02] => (item={'path': '/var/cache/enroot'})
2025-07-26 15:59:29,602 p=105669 u=master n=ansible | changed: [cn01] => (item={'path': '/var/cache/enroot'})
2025-07-26 15:59:29,609 p=105669 u=master n=ansible | changed: [cn02] => (item={'path': '/var/cache/enroot'})
2025-07-26 15:59:29,810 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/run/enroot', 'mode': '0755'})
2025-07-26 15:59:29,838 p=105669 u=master n=ansible | changed: [sm02] => (item={'path': '/run/enroot', 'mode': '0755'})
2025-07-26 15:59:29,865 p=105669 u=master n=ansible | changed: [cn01] => (item={'path': '/run/enroot', 'mode': '0755'})
2025-07-26 15:59:29,870 p=105669 u=master n=ansible | changed: [cn02] => (item={'path': '/run/enroot', 'mode': '0755'})
2025-07-26 15:59:30,074 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/etc/slurm/prolog.d'})
2025-07-26 15:59:30,096 p=105669 u=master n=ansible | changed: [sm02] => (item={'path': '/etc/slurm/prolog.d'})
2025-07-26 15:59:30,125 p=105669 u=master n=ansible | changed: [cn01] => (item={'path': '/etc/slurm/prolog.d'})
2025-07-26 15:59:30,132 p=105669 u=master n=ansible | changed: [cn02] => (item={'path': '/etc/slurm/prolog.d'})
2025-07-26 15:59:30,332 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/etc/slurm/epilog.d'})
2025-07-26 15:59:30,349 p=105669 u=master n=ansible | changed: [sm02] => (item={'path': '/etc/slurm/epilog.d'})
2025-07-26 15:59:30,387 p=105669 u=master n=ansible | changed: [cn01] => (item={'path': '/etc/slurm/epilog.d'})
2025-07-26 15:59:30,391 p=105669 u=master n=ansible | changed: [cn02] => (item={'path': '/etc/slurm/epilog.d'})
2025-07-26 15:59:30,590 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/tmp/containers-build'})
2025-07-26 15:59:30,610 p=105669 u=master n=ansible | changed: [sm02] => (item={'path': '/tmp/containers-build'})
2025-07-26 15:59:30,650 p=105669 u=master n=ansible | changed: [cn01] => (item={'path': '/tmp/containers-build'})
2025-07-26 15:59:30,655 p=105669 u=master n=ansible | changed: [cn02] => (item={'path': '/tmp/containers-build'})
2025-07-26 15:59:30,848 p=105669 u=master n=ansible | changed: [sm01] => (item={'path': '/etc/enroot/hooks.d'})
2025-07-26 15:59:30,864 p=105669 u=master n=ansible | changed: [sm02] => (item={'path': '/etc/enroot/hooks.d'})
2025-07-26 15:59:30,909 p=105669 u=master n=ansible | changed: [cn01] => (item={'path': '/etc/enroot/hooks.d'})
2025-07-26 15:59:30,913 p=105669 u=master n=ansible | changed: [cn02] => (item={'path': '/etc/enroot/hooks.d'})
2025-07-26 15:59:30,925 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Увеличение размера tmpfs для /run (для больших образов)] **********************************************************************************************
2025-07-26 15:59:30,926 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:30 +0000 (0:00:02.209)       0:01:34.316 ********* 
2025-07-26 15:59:31,239 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:31,253 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:59:31,275 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:31,288 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:31,296 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Проверка существования Enroot] ************************************************************************************************************************
2025-07-26 15:59:31,297 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:31 +0000 (0:00:00.370)       0:01:34.687 ********* 
2025-07-26 15:59:31,555 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:59:31,565 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:59:31,594 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:59:31,605 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:59:31,615 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Скачивание Enroot 3.5.0] ******************************************************************************************************************************
2025-07-26 15:59:31,615 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:31 +0000 (0:00:00.318)       0:01:35.005 ********* 
2025-07-26 15:59:32,814 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:59:32,816 p=105669 u=master n=ansible | [WARNING]: Module remote_tmp /root/.ansible/tmp did not exist and was created with a mode of 0700, this may cause issues when running as another user. To avoid this, create the
remote_tmp dir with the correct permissions manually

2025-07-26 15:59:32,816 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:32,816 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:32,817 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:32,827 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Установка Enroot из DEB пакета] ***********************************************************************************************************************
2025-07-26 15:59:32,827 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:32 +0000 (0:00:01.212)       0:01:36.217 ********* 
2025-07-26 15:59:44,208 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:59:44,406 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:44,843 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:45,677 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:45,686 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Создание конфигурации Enroot] *************************************************************************************************************************
2025-07-26 15:59:45,686 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:45 +0000 (0:00:12.858)       0:01:49.076 ********* 
2025-07-26 15:59:46,690 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:46,935 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:59:46,971 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:47,088 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:47,097 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Проверка существования Pyxis] *************************************************************************************************************************
2025-07-26 15:59:47,097 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:47 +0000 (0:00:01.410)       0:01:50.487 ********* 
2025-07-26 15:59:47,358 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:59:47,392 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:59:47,396 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:59:47,417 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:59:47,427 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Скачивание исходников Pyxis 0.20.0] *******************************************************************************************************************
2025-07-26 15:59:47,427 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:47 +0000 (0:00:00.330)       0:01:50.817 ********* 
2025-07-26 15:59:48,579 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:48,589 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:59:48,590 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:48,719 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:48,730 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Извлечение исходников Pyxis] **************************************************************************************************************************
2025-07-26 15:59:48,730 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:48 +0000 (0:00:01.302)       0:01:52.120 ********* 
2025-07-26 15:59:49,705 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:49,707 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:59:49,708 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:49,712 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:49,721 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Компиляция Pyxis] *************************************************************************************************************************************
2025-07-26 15:59:49,721 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:49 +0000 (0:00:00.991)       0:01:53.111 ********* 
2025-07-26 15:59:51,441 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:52,220 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:59:52,640 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:52,723 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:52,732 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Установка Slurm PMI hook] *****************************************************************************************************************************
2025-07-26 15:59:52,733 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:52 +0000 (0:00:03.011)       0:01:56.123 ********* 
2025-07-26 15:59:52,753 p=105669 u=master n=ansible | skipping: [sm01]
2025-07-26 15:59:52,770 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:59:53,041 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:53,067 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:53,076 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Установка Slurm PyTorch hook] *************************************************************************************************************************
2025-07-26 15:59:53,076 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:53 +0000 (0:00:00.343)       0:01:56.466 ********* 
2025-07-26 15:59:53,097 p=105669 u=master n=ansible | skipping: [sm01]
2025-07-26 15:59:53,113 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:59:53,389 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:53,395 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:53,406 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Создание plugstack.conf для SPANK плагина] ************************************************************************************************************
2025-07-26 15:59:53,407 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:53 +0000 (0:00:00.330)       0:01:56.797 ********* 
2025-07-26 15:59:54,060 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:54,289 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:59:54,293 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:54,294 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:54,302 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Создание Prolog скрипта] ******************************************************************************************************************************
2025-07-26 15:59:54,302 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:54 +0000 (0:00:00.895)       0:01:57.692 ********* 
2025-07-26 15:59:54,979 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:55,138 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:55,138 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:59:55,178 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:55,188 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Создание Epilog скрипта] ******************************************************************************************************************************
2025-07-26 15:59:55,188 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:55 +0000 (0:00:00.885)       0:01:58.578 ********* 
2025-07-26 15:59:55,809 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:56,148 p=105669 u=master n=ansible | changed: [sm02]
2025-07-26 15:59:56,285 p=105669 u=master n=ansible | changed: [cn01]
2025-07-26 15:59:56,314 p=105669 u=master n=ansible | changed: [cn02]
2025-07-26 15:59:56,358 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Проверка версии Enroot] *******************************************************************************************************************************
2025-07-26 15:59:56,358 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:56 +0000 (0:00:01.170)       0:01:59.748 ********* 
2025-07-26 15:59:56,673 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:59:56,703 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:59:56,715 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:59:56,797 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:59:56,807 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Проверка SPANK плагина Pyxis] *************************************************************************************************************************
2025-07-26 15:59:56,807 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:56 +0000 (0:00:00.448)       0:02:00.197 ********* 
2025-07-26 15:59:57,082 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:59:57,128 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:59:57,138 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:59:57,144 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:59:57,153 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Тест базовой функциональности Enroot] *****************************************************************************************************************
2025-07-26 15:59:57,153 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:57 +0000 (0:00:00.346)       0:02:00.543 ********* 
2025-07-26 15:59:57,519 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:59:57,525 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:59:57,540 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:59:57,551 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:59:57,560 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Проверка GPU поддержки (если доступны)] ***************************************************************************************************************
2025-07-26 15:59:57,560 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:57 +0000 (0:00:00.407)       0:02:00.950 ********* 
2025-07-26 15:59:57,830 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 15:59:57,851 p=105669 u=master n=ansible | ok: [sm02]
2025-07-26 15:59:57,864 p=105669 u=master n=ansible | ok: [cn01]
2025-07-26 15:59:57,876 p=105669 u=master n=ansible | ok: [cn02]
2025-07-26 15:59:57,887 p=105669 u=master n=ansible | TASK [containers : [CONTAINERS] Результат установки контейнерной поддержки] ***********************************************************************************************************
2025-07-26 15:59:57,887 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:57 +0000 (0:00:00.327)       0:02:01.277 ********* 
2025-07-26 15:59:57,952 p=105669 u=master n=ansible | ok: [sm01] => 
  msg: "✅ Контейнерная поддержка установлена на sm01!\n\n\U0001F4E6 Компоненты:\n\U0001F527 Enroot: 3.5.0\n\U0001F50C Pyxis SPANK: установлен\n\n\U0001F3AE GPU поддержка: включена\n\U0001F4CA GPU обнаружено: 0 шт.\n\n\U0001F5C2️ Монтируемые директории:\n\U0001F4C1 /home:/home\n\U0001F4C1 /sw:/sw\n\U0001F4C1 /opt/slurm:/opt/slurm:ro\n\n\U0001F527 Конфигурация:\n\U0001F4DD Enroot: /etc/enroot/enroot.conf\n\U0001F50C SPANK: /etc/slurm/plugstack.conf\n\U0001F4DC Prolog: включен\n\U0001F4DC Epilog: включен\n\n\U0001F680 Готов к запуску контейнерных задач!"
2025-07-26 15:59:57,961 p=105669 u=master n=ansible | ok: [sm02] => 
  msg: "✅ Контейнерная поддержка установлена на sm02!\n\n\U0001F4E6 Компоненты:\n\U0001F527 Enroot: 3.5.0\n\U0001F50C Pyxis SPANK: установлен\n\n\U0001F3AE GPU поддержка: включена\n\U0001F4CA GPU обнаружено: 0 шт.\n\n\U0001F5C2️ Монтируемые директории:\n\U0001F4C1 /home:/home\n\U0001F4C1 /sw:/sw\n\U0001F4C1 /opt/slurm:/opt/slurm:ro\n\n\U0001F527 Конфигурация:\n\U0001F4DD Enroot: /etc/enroot/enroot.conf\n\U0001F50C SPANK: /etc/slurm/plugstack.conf\n\U0001F4DC Prolog: включен\n\U0001F4DC Epilog: включен\n\n\U0001F680 Готов к запуску контейнерных задач!"
2025-07-26 15:59:57,978 p=105669 u=master n=ansible | ok: [cn01] => 
  msg: "✅ Контейнерная поддержка установлена на cn01!\n\n\U0001F4E6 Компоненты:\n\U0001F527 Enroot: 3.5.0\n\U0001F50C Pyxis SPANK: установлен\n\n\U0001F3AE GPU поддержка: включена\n\U0001F4CA GPU обнаружено: 0 шт.\n\n\U0001F5C2️ Монтируемые директории:\n\U0001F4C1 /home:/home\n\U0001F4C1 /sw:/sw\n\U0001F4C1 /opt/slurm:/opt/slurm:ro\n\n\U0001F527 Конфигурация:\n\U0001F4DD Enroot: /etc/enroot/enroot.conf\n\U0001F50C SPANK: /etc/slurm/plugstack.conf\n\U0001F4DC Prolog: включен\n\U0001F4DC Epilog: включен\n\n\U0001F680 Готов к запуску контейнерных задач!"
2025-07-26 15:59:57,997 p=105669 u=master n=ansible | ok: [cn02] => 
  msg: "✅ Контейнерная поддержка установлена на cn02!\n\n\U0001F4E6 Компоненты:\n\U0001F527 Enroot: 3.5.0\n\U0001F50C Pyxis SPANK: установлен\n\n\U0001F3AE GPU поддержка: включена\n\U0001F4CA GPU обнаружено: 0 шт.\n\n\U0001F5C2️ Монтируемые директории:\n\U0001F4C1 /home:/home\n\U0001F4C1 /sw:/sw\n\U0001F4C1 /opt/slurm:/opt/slurm:ro\n\n\U0001F527 Конфигурация:\n\U0001F4DD Enroot: /etc/enroot/enroot.conf\n\U0001F50C SPANK: /etc/slurm/plugstack.conf\n\U0001F4DC Prolog: включен\n\U0001F4DC Epilog: включен\n\n\U0001F680 Готов к запуску контейнерных задач!"
2025-07-26 15:59:58,030 p=105669 u=master n=ansible | TASK [📋 Информация об узле] **********************************************************************************************************************************************************
2025-07-26 15:59:58,030 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:58 +0000 (0:00:00.143)       0:02:01.420 ********* 
2025-07-26 15:59:58,087 p=105669 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F433 Установка контейнеров на sm01\n\U0001F527 Роль: CPU\n\U0001F4BE RAM: 11.4GB"
2025-07-26 15:59:58,098 p=105669 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F433 Установка контейнеров на sm02\n\U0001F527 Роль: CPU\n\U0001F4BE RAM: 11.4GB"
2025-07-26 15:59:58,118 p=105669 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F433 Установка контейнеров на cn01\n\U0001F527 Роль: GPU\n\U0001F4BE RAM: 11.4GB"
2025-07-26 15:59:58,134 p=105669 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F433 Установка контейнеров на cn02\n\U0001F527 Роль: GPU\n\U0001F4BE RAM: 11.4GB"
2025-07-26 15:59:58,188 p=105669 u=master n=ansible | RUNNING HANDLER [common : restart nfs-server] *****************************************************************************************************************************************
2025-07-26 15:59:58,188 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:58 +0000 (0:00:00.157)       0:02:01.578 ********* 
2025-07-26 15:59:59,309 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:59,316 p=105669 u=master n=ansible | RUNNING HANDLER [common : reload nfs-exports] *****************************************************************************************************************************************
2025-07-26 15:59:59,316 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:59 +0000 (0:00:01.128)       0:02:02.706 ********* 
2025-07-26 15:59:59,582 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 15:59:59,589 p=105669 u=master n=ansible | RUNNING HANDLER [containers : restart slurmctld] **************************************************************************************************************************************
2025-07-26 15:59:59,590 p=105669 u=master n=ansible | Saturday 26 July 2025  15:59:59 +0000 (0:00:00.273)       0:02:02.980 ********* 
2025-07-26 15:59:59,627 p=105669 u=master n=ansible | skipping: [sm02]
2025-07-26 15:59:59,644 p=105669 u=master n=ansible | skipping: [cn01]
2025-07-26 15:59:59,656 p=105669 u=master n=ansible | skipping: [cn02]
2025-07-26 16:00:00,895 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 16:00:00,906 p=105669 u=master n=ansible | TASK [✅ Результат установки] *********************************************************************************************************************************************************
2025-07-26 16:00:00,907 p=105669 u=master n=ansible | Saturday 26 July 2025  16:00:00 +0000 (0:00:01.316)       0:02:04.297 ********* 
2025-07-26 16:00:00,960 p=105669 u=master n=ansible | ok: [sm01] => 
  msg: "✅ Контейнеры установлены на sm01\n\U0001F433 Enroot: готов\n\U0001F50C Pyxis: не требуется\n\U0001F3AE NVIDIA: не требуется"
2025-07-26 16:00:00,974 p=105669 u=master n=ansible | ok: [sm02] => 
  msg: "✅ Контейнеры установлены на sm02\n\U0001F433 Enroot: готов\n\U0001F50C Pyxis: не требуется\n\U0001F3AE NVIDIA: не требуется"
2025-07-26 16:00:00,992 p=105669 u=master n=ansible | ok: [cn01] => 
  msg: "✅ Контейнеры установлены на cn01\n\U0001F433 Enroot: готов\n\U0001F50C Pyxis: установлен\n\U0001F3AE NVIDIA: настроено"
2025-07-26 16:00:01,003 p=105669 u=master n=ansible | ok: [cn02] => 
  msg: "✅ Контейнеры установлены на cn02\n\U0001F433 Enroot: готов\n\U0001F50C Pyxis: установлен\n\U0001F3AE NVIDIA: настроено"
2025-07-26 16:00:01,054 p=105669 u=master n=ansible | PLAY [🐳 Этап 2/3: Обновление Slurm конфигурации] *************************************************************************************************************************************
2025-07-26 16:00:01,105 p=105669 u=master n=ansible | TASK [📝 Добавление поддержки контейнеров в slurm.conf] *******************************************************************************************************************************
2025-07-26 16:00:01,105 p=105669 u=master n=ansible | Saturday 26 July 2025  16:00:01 +0000 (0:00:00.198)       0:02:04.495 ********* 
2025-07-26 16:00:01,370 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 16:00:01,378 p=105669 u=master n=ansible | TASK [📝 Обновление конфигурации в NFS] ***********************************************************************************************************************************************
2025-07-26 16:00:01,378 p=105669 u=master n=ansible | Saturday 26 July 2025  16:00:01 +0000 (0:00:00.272)       0:02:04.768 ********* 
2025-07-26 16:00:01,686 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 16:00:01,695 p=105669 u=master n=ansible | TASK [🔄 Перезапуск slurmctld для применения изменений] *******************************************************************************************************************************
2025-07-26 16:00:01,695 p=105669 u=master n=ansible | Saturday 26 July 2025  16:00:01 +0000 (0:00:00.316)       0:02:05.085 ********* 
2025-07-26 16:00:03,394 p=105669 u=master n=ansible | changed: [sm01]
2025-07-26 16:00:03,420 p=105669 u=master n=ansible | PLAY [🐳 Этап 3/3: Тестирование контейнерной поддержки] *******************************************************************************************************************************
2025-07-26 16:00:03,440 p=105669 u=master n=ansible | TASK [🧪 Комплексное тестирование контейнеров] ****************************************************************************************************************************************
2025-07-26 16:00:03,440 p=105669 u=master n=ansible | Saturday 26 July 2025  16:00:03 +0000 (0:00:01.745)       0:02:06.830 ********* 
2025-07-26 16:00:03,807 p=105669 u=master n=ansible | ok: [sm01]
2025-07-26 16:00:03,833 p=105669 u=master n=ansible | PLAY [🎉 ФИНАЛЬНЫЙ ОТЧЕТ ПО КОНТЕЙНЕРИЗАЦИИ] ******************************************************************************************************************************************
2025-07-26 16:00:03,838 p=105669 u=master n=ansible | TASK [📊 Результаты контейнеризации] **************************************************************************************************************************************************
2025-07-26 16:00:03,838 p=105669 u=master n=ansible | Saturday 26 July 2025  16:00:03 +0000 (0:00:00.398)       0:02:07.228 ********* 
2025-07-26 16:00:03,898 p=105669 u=master n=ansible | ok: [localhost] => 
  msg: "================================================================================\n\U0001F389 КОНТЕЙНЕРИЗАЦИЯ ЗАВЕРШЕНА!\n================================================================================\n\n\U0001F4CA РЕЗУЛЬТАТЫ ТЕСТИРОВАНИЯ:\n================================================================================\n\U0001F9EA ТЕСТИРОВАНИЕ КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n================================================================================\n\n\U0001F433 Тест базового контейнера:\nБазовый тест не прошел\n\n\U0001F427 Тест Ubuntu контейнера:\nUbuntu тест не прошел\n\n\U0001F3AE Тест GPU контейнера:\nGPU тест не прошел\n\n\U0001F4CA Статус узлов после установки:\nNODELIST   NODES PARTITION STATE\ncn01           1  compute* unk\ncn02           1  compute* unk\n\n\U0001F4CB Доступные образы:\n\n================================================================================\n\n================================================================================\n✅ КЛАСТЕР ГОТОВ ДЛЯ
    КОНТЕЙНЕРОВ!\n================================================================================\n\n\U0001F433 Использование контейнеров:\n\n# Простой контейнер\nsrun --container-image=docker://ubuntu:22.04 hostname\n\n# Python/AI контейнер\nsrun --container-image=nvcr.io/nvidia/pytorch:23.12-py3 python --version\n\n# GPU контейнер\nsrun --gres=gpu:1 --container-image=nvcr.io/nvidia/cuda:12.3-runtime-ubuntu22.04 nvidia-smi\n\n# PyTorch с GPU\nsrun --gres=gpu:1 --container-image=nvcr.io/nvidia/pytorch:23.12-py3 python -c \"import torch; print(torch.cuda.is_available())\"\n\n# Интерактивный контейнер\nsrun --pty --container-image=docker://ubuntu:22.04 /bin/bash\n\n# Batch job с контейнером\nsbatch --container-image=nvcr.io/nvidia/pytorch:23.12-py3 my_script.py\n\n\U0001F527 Административные команды:\n- enroot list                    # Список образов\n- enroot import docker://image   # Импорт образа\n- enroot create image            # Создание контейнера\n\n================================================================================"
2025-07-26 16:00:03,903 p=105669 u=master n=ansible | PLAY RECAP ****************************************************************************************************************************************************************************
2025-07-26 16:00:03,904 p=105669 u=master n=ansible | cn01                       : ok=57   changed=18   unreachable=0    failed=0    skipped=25   rescued=0    ignored=0   
2025-07-26 16:00:03,904 p=105669 u=master n=ansible | cn02                       : ok=57   changed=18   unreachable=0    failed=0    skipped=25   rescued=0    ignored=0   
2025-07-26 16:00:03,904 p=105669 u=master n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-26 16:00:03,904 p=105669 u=master n=ansible | sm01                       : ok=77   changed=28   unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2025-07-26 16:00:03,904 p=105669 u=master n=ansible | sm02                       : ok=55   changed=16   unreachable=0    failed=0    skipped=27   rescued=0    ignored=0   
2025-07-26 16:00:03,904 p=105669 u=master n=ansible | Playbook run took 0 days, 0 hours, 2 minutes, 7 seconds
2025-07-26 16:00:03,904 p=105669 u=master n=ansible | Saturday 26 July 2025  16:00:03 +0000 (0:00:00.066)       0:02:07.294 ********* 
2025-07-26 16:00:03,905 p=105669 u=master n=ansible | =============================================================================== 
2025-07-26 16:00:03,905 p=105669 u=master n=ansible | slurm_build : [SLURM_BUILD] Копирование Slurm на все узлы из NFS -------------------------------------------------------------------------------------------------------------- 18.30s
2025-07-26 16:00:03,905 p=105669 u=master n=ansible | common : [COMMON] Установка базовых пакетов ----------------------------------------------------------------------------------------------------------------------------------- 15.91s
2025-07-26 16:00:03,905 p=105669 u=master n=ansible | slurm_build : [SLURM_BUILD] Установка дополнительных зависимостей для сборки -------------------------------------------------------------------------------------------------- 14.42s
2025-07-26 16:00:03,905 p=105669 u=master n=ansible | containers : [CONTAINERS] Установка Enroot из DEB пакета ---------------------------------------------------------------------------------------------------------------------- 12.86s
2025-07-26 16:00:03,905 p=105669 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание символических ссылок для пользовательских команд Slurm ------------------------------------------------------------------------------------ 4.97s
2025-07-26 16:00:03,905 p=105669 u=master n=ansible | containers : [CONTAINERS] Компиляция Pyxis ------------------------------------------------------------------------------------------------------------------------------------- 3.01s
2025-07-26 16:00:03,906 p=105669 u=master n=ansible | slurm_build : [SLURM_BUILD] Обновление библиотечного кеша ---------------------------------------------------------------------------------------------------------------------- 2.77s
2025-07-26 16:00:03,906 p=105669 u=master n=ansible | containers : [CONTAINERS] Установка системных зависимостей --------------------------------------------------------------------------------------------------------------------- 2.29s
2025-07-26 16:00:03,906 p=105669 u=master n=ansible | containers : [CONTAINERS] Создание базовых директорий -------------------------------------------------------------------------------------------------------------------------- 2.21s
2025-07-26 16:00:03,906 p=105669 u=master n=ansible | common : [COMMON] Запуск и включение MUNGE ------------------------------------------------------------------------------------------------------------------------------------- 2.08s
2025-07-26 16:00:03,906 p=105669 u=master n=ansible | common : [COMMON] Обновление apt cache ----------------------------------------------------------------------------------------------------------------------------------------- 2.01s
2025-07-26 16:00:03,906 p=105669 u=master n=ansible | common : [COMMON] Остановка MUNGE перед настройкой ----------------------------------------------------------------------------------------------------------------------------- 2.01s
2025-07-26 16:00:03,906 p=105669 u=master n=ansible | common : [COMMON] Настройка экспорта NFS (автоопределение IP) ------------------------------------------------------------------------------------------------------------------ 1.81s
2025-07-26 16:00:03,906 p=105669 u=master n=ansible | common : [COMMON] Создание базовых директорий Slurm ---------------------------------------------------------------------------------------------------------------------------- 1.77s
2025-07-26 16:00:03,906 p=105669 u=master n=ansible | 🔄 Перезапуск slurmctld для применения изменений -------------------------------------------------------------------------------------------------------------------------------- 1.75s
2025-07-26 16:00:03,906 p=105669 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание символических ссылок для системных демонов Slurm ------------------------------------------------------------------------------------------ 1.51s
2025-07-26 16:00:03,907 p=105669 u=master n=ansible | slurm_build : [SLURM_BUILD] ПРОСТОЕ копирование через NFS (С ДЕТАЛЬНЫМ ЛОГИРОВАНИЕМ) ------------------------------------------------------------------------------------------- 1.44s
2025-07-26 16:00:03,907 p=105669 u=master n=ansible | common : [COMMON] Настройка прав доступа MUNGE директорий ---------------------------------------------------------------------------------------------------------------------- 1.44s
2025-07-26 16:00:03,907 p=105669 u=master n=ansible | containers : [CONTAINERS] Создание конфигурации Enroot ------------------------------------------------------------------------------------------------------------------------- 1.41s
2025-07-26 16:00:03,907 p=105669 u=master n=ansible | common : [COMMON] Создание MUNGE ключа на остальных узлах ---------------------------------------------------------------------------------------------------------------------- 1.40s
2025-07-26 16:02:52,047 p=107148 u=master n=ansible | cn01 | CHANGED | rc=0 >>
3.5.0
-rw-r--r-- 1 root root 792 Jul 26 18:59 /etc/slurm/plugstack.conf

2025-07-26 16:03:16,138 p=107216 u=master n=ansible | PLAY [🧪 Тестирование Enroot + Pyxis] *************************************************************************************************************************************************
2025-07-26 16:03:16,164 p=107216 u=master n=ansible | TASK [📋 Информация о тестировании] ***************************************************************************************************************************************************
2025-07-26 16:03:16,164 p=107216 u=master n=ansible | Saturday 26 July 2025  16:03:16 +0000 (0:00:00.028)       0:00:00.028 ********* 
2025-07-26 16:03:16,220 p=107216 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F9EA ТЕСТИРОВАНИЕ КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n=============================================\n\U0001F527 Проверяем: Enroot, Pyxis, SPANK плагин\n\U0001F3AE GPU: 4 CPU, 11.4GB RAM\n\U0001F4CD Узел: cn01\n============================================="
2025-07-26 16:03:16,229 p=107216 u=master n=ansible | TASK [[TEST] Проверка версии Enroot] **************************************************************************************************************************************************
2025-07-26 16:03:16,230 p=107216 u=master n=ansible | Saturday 26 July 2025  16:03:16 +0000 (0:00:00.065)       0:00:00.093 ********* 
2025-07-26 16:03:16,687 p=107216 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:16,696 p=107216 u=master n=ansible | TASK [[TEST] Проверка SPANK плагина Pyxis] ********************************************************************************************************************************************
2025-07-26 16:03:16,697 p=107216 u=master n=ansible | Saturday 26 July 2025  16:03:16 +0000 (0:00:00.466)       0:00:00.560 ********* 
2025-07-26 16:03:17,088 p=107216 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:17,097 p=107216 u=master n=ansible | TASK [[TEST] Проверка конфигурации plugstack.conf] ************************************************************************************************************************************
2025-07-26 16:03:17,097 p=107216 u=master n=ansible | Saturday 26 July 2025  16:03:17 +0000 (0:00:00.400)       0:00:00.960 ********* 
2025-07-26 16:03:17,364 p=107216 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:17,372 p=107216 u=master n=ansible | TASK [[TEST] Базовый тест Enroot] *****************************************************************************************************************************************************
2025-07-26 16:03:17,373 p=107216 u=master n=ansible | Saturday 26 July 2025  16:03:17 +0000 (0:00:00.275)       0:00:01.236 ********* 
2025-07-26 16:03:17,749 p=107216 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:17,758 p=107216 u=master n=ansible | TASK [[TEST] Проверка GPU доступности] ************************************************************************************************************************************************
2025-07-26 16:03:17,758 p=107216 u=master n=ansible | Saturday 26 July 2025  16:03:17 +0000 (0:00:00.385)       0:00:01.621 ********* 
2025-07-26 16:03:18,017 p=107216 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:18,028 p=107216 u=master n=ansible | TASK [[TEST] Тест интеграции Pyxis с Slurm] *******************************************************************************************************************************************
2025-07-26 16:03:18,028 p=107216 u=master n=ansible | Saturday 26 July 2025  16:03:18 +0000 (0:00:00.270)       0:00:01.892 ********* 
2025-07-26 16:03:18,305 p=107216 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:18,313 p=107216 u=master n=ansible | TASK [[TEST] Проверка прав доступа к директориям] *************************************************************************************************************************************
2025-07-26 16:03:18,313 p=107216 u=master n=ansible | Saturday 26 July 2025  16:03:18 +0000 (0:00:00.284)       0:00:02.177 ********* 
2025-07-26 16:03:18,590 p=107216 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:18,619 p=107216 u=master n=ansible | PLAY [📊 Отчет о тестировании контейнеров] ********************************************************************************************************************************************
2025-07-26 16:03:18,619 p=107216 u=master n=ansible | skipping: no hosts matched
2025-07-26 16:03:18,619 p=107216 u=master n=ansible | PLAY RECAP ****************************************************************************************************************************************************************************
2025-07-26 16:03:18,619 p=107216 u=master n=ansible | cn01                       : ok=8    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-26 16:03:18,619 p=107216 u=master n=ansible | Playbook run took 0 days, 0 hours, 0 minutes, 2 seconds
2025-07-26 16:03:18,619 p=107216 u=master n=ansible | Saturday 26 July 2025  16:03:18 +0000 (0:00:00.306)       0:00:02.483 ********* 
2025-07-26 16:03:18,619 p=107216 u=master n=ansible | =============================================================================== 
2025-07-26 16:03:18,620 p=107216 u=master n=ansible | [TEST] Проверка версии Enroot -------------------------------------------------------------------------------------------------------------------------------------------------- 0.47s
2025-07-26 16:03:18,620 p=107216 u=master n=ansible | [TEST] Проверка SPANK плагина Pyxis -------------------------------------------------------------------------------------------------------------------------------------------- 0.40s
2025-07-26 16:03:18,620 p=107216 u=master n=ansible | [TEST] Базовый тест Enroot ----------------------------------------------------------------------------------------------------------------------------------------------------- 0.39s
2025-07-26 16:03:18,620 p=107216 u=master n=ansible | [TEST] Проверка прав доступа к директориям ------------------------------------------------------------------------------------------------------------------------------------- 0.31s
2025-07-26 16:03:18,620 p=107216 u=master n=ansible | [TEST] Тест интеграции Pyxis с Slurm ------------------------------------------------------------------------------------------------------------------------------------------- 0.28s
2025-07-26 16:03:18,620 p=107216 u=master n=ansible | [TEST] Проверка конфигурации plugstack.conf ------------------------------------------------------------------------------------------------------------------------------------ 0.28s
2025-07-26 16:03:18,620 p=107216 u=master n=ansible | [TEST] Проверка GPU доступности ------------------------------------------------------------------------------------------------------------------------------------------------ 0.27s
2025-07-26 16:03:18,620 p=107216 u=master n=ansible | 📋 Информация о тестировании ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.07s
2025-07-26 16:03:39,474 p=107280 u=master n=ansible | PLAY [🧪 Тестирование Enroot + Pyxis] *************************************************************************************************************************************************
2025-07-26 16:03:39,532 p=107280 u=master n=ansible | TASK [📋 Информация о тестировании] ***************************************************************************************************************************************************
2025-07-26 16:03:39,532 p=107280 u=master n=ansible | Saturday 26 July 2025  16:03:39 +0000 (0:00:00.060)       0:00:00.060 ********* 
2025-07-26 16:03:39,585 p=107280 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F9EA ТЕСТИРОВАНИЕ КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n=============================================\n\U0001F527 Проверяем: Enroot, Pyxis, SPANK плагин\n\U0001F3AE GPU: 4 CPU, 11.4GB RAM\n\U0001F4CD Узел: sm01\n============================================="
2025-07-26 16:03:39,597 p=107280 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F9EA ТЕСТИРОВАНИЕ КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n=============================================\n\U0001F527 Проверяем: Enroot, Pyxis, SPANK плагин\n\U0001F3AE GPU: 4 CPU, 11.4GB RAM\n\U0001F4CD Узел: sm02\n============================================="
2025-07-26 16:03:39,610 p=107280 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F9EA ТЕСТИРОВАНИЕ КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n=============================================\n\U0001F527 Проверяем: Enroot, Pyxis, SPANK плагин\n\U0001F3AE GPU: 4 CPU, 11.4GB RAM\n\U0001F4CD Узел: cn01\n============================================="
2025-07-26 16:03:39,620 p=107280 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F9EA ТЕСТИРОВАНИЕ КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n=============================================\n\U0001F527 Проверяем: Enroot, Pyxis, SPANK плагин\n\U0001F3AE GPU: 4 CPU, 11.4GB RAM\n\U0001F4CD Узел: cn02\n============================================="
2025-07-26 16:03:39,628 p=107280 u=master n=ansible | TASK [[TEST] Проверка версии Enroot] **************************************************************************************************************************************************
2025-07-26 16:03:39,628 p=107280 u=master n=ansible | Saturday 26 July 2025  16:03:39 +0000 (0:00:00.095)       0:00:00.156 ********* 
2025-07-26 16:03:40,110 p=107280 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:41,027 p=107280 u=master n=ansible | ok: [sm01]
2025-07-26 16:03:41,035 p=107280 u=master n=ansible | ok: [sm02]
2025-07-26 16:03:41,099 p=107280 u=master n=ansible | ok: [cn02]
2025-07-26 16:03:41,107 p=107280 u=master n=ansible | TASK [[TEST] Проверка SPANK плагина Pyxis] ********************************************************************************************************************************************
2025-07-26 16:03:41,107 p=107280 u=master n=ansible | Saturday 26 July 2025  16:03:41 +0000 (0:00:01.479)       0:00:01.635 ********* 
2025-07-26 16:03:41,507 p=107280 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:41,526 p=107280 u=master n=ansible | ok: [cn02]
2025-07-26 16:03:41,530 p=107280 u=master n=ansible | ok: [sm02]
2025-07-26 16:03:41,539 p=107280 u=master n=ansible | ok: [sm01]
2025-07-26 16:03:41,547 p=107280 u=master n=ansible | TASK [[TEST] Проверка конфигурации plugstack.conf] ************************************************************************************************************************************
2025-07-26 16:03:41,547 p=107280 u=master n=ansible | Saturday 26 July 2025  16:03:41 +0000 (0:00:00.440)       0:00:02.075 ********* 
2025-07-26 16:03:41,828 p=107280 u=master n=ansible | ok: [sm01]
2025-07-26 16:03:41,839 p=107280 u=master n=ansible | ok: [sm02]
2025-07-26 16:03:41,865 p=107280 u=master n=ansible | ok: [cn02]
2025-07-26 16:03:42,861 p=107280 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:42,873 p=107280 u=master n=ansible | TASK [[TEST] Базовый тест Enroot] *****************************************************************************************************************************************************
2025-07-26 16:03:42,873 p=107280 u=master n=ansible | Saturday 26 July 2025  16:03:42 +0000 (0:00:01.326)       0:00:03.401 ********* 
2025-07-26 16:03:43,269 p=107280 u=master n=ansible | ok: [sm01]
2025-07-26 16:03:43,281 p=107280 u=master n=ansible | ok: [sm02]
2025-07-26 16:03:43,293 p=107280 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:43,337 p=107280 u=master n=ansible | ok: [cn02]
2025-07-26 16:03:43,344 p=107280 u=master n=ansible | TASK [[TEST] Проверка GPU доступности] ************************************************************************************************************************************************
2025-07-26 16:03:43,345 p=107280 u=master n=ansible | Saturday 26 July 2025  16:03:43 +0000 (0:00:00.471)       0:00:03.872 ********* 
2025-07-26 16:03:43,619 p=107280 u=master n=ansible | ok: [sm01]
2025-07-26 16:03:43,625 p=107280 u=master n=ansible | ok: [sm02]
2025-07-26 16:03:43,701 p=107280 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:43,712 p=107280 u=master n=ansible | ok: [cn02]
2025-07-26 16:03:43,720 p=107280 u=master n=ansible | TASK [[TEST] Тест интеграции Pyxis с Slurm] *******************************************************************************************************************************************
2025-07-26 16:03:43,720 p=107280 u=master n=ansible | Saturday 26 July 2025  16:03:43 +0000 (0:00:00.375)       0:00:04.248 ********* 
2025-07-26 16:03:43,754 p=107280 u=master n=ansible | skipping: [sm01]
2025-07-26 16:03:43,768 p=107280 u=master n=ansible | skipping: [sm02]
2025-07-26 16:03:44,025 p=107280 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:44,052 p=107280 u=master n=ansible | ok: [cn02]
2025-07-26 16:03:44,062 p=107280 u=master n=ansible | TASK [[TEST] Проверка прав доступа к директориям] *************************************************************************************************************************************
2025-07-26 16:03:44,062 p=107280 u=master n=ansible | Saturday 26 July 2025  16:03:44 +0000 (0:00:00.341)       0:00:04.590 ********* 
2025-07-26 16:03:44,344 p=107280 u=master n=ansible | ok: [sm01]
2025-07-26 16:03:44,348 p=107280 u=master n=ansible | ok: [sm02]
2025-07-26 16:03:44,363 p=107280 u=master n=ansible | ok: [cn01]
2025-07-26 16:03:44,389 p=107280 u=master n=ansible | ok: [cn02]
2025-07-26 16:03:44,480 p=107280 u=master n=ansible | PLAY [📊 Отчет о тестировании контейнеров] ********************************************************************************************************************************************
2025-07-26 16:03:44,486 p=107280 u=master n=ansible | TASK [🎯 Результаты тестирования Enroot + Pyxis] **************************************************************************************************************************************
2025-07-26 16:03:44,486 p=107280 u=master n=ansible | Saturday 26 July 2025  16:03:44 +0000 (0:00:00.423)       0:00:05.014 ********* 
2025-07-26 16:03:44,561 p=107280 u=master n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: AttributeError: 'NoneType' object has no attribute 'group'
2025-07-26 16:03:44,561 p=107280 u=master n=ansible | fatal: [localhost]: FAILED! => 
2025-07-26 16:03:44,562 p=107280 u=master n=ansible | NO MORE HOSTS LEFT ********************************************************************************************************************************************************************
2025-07-26 16:03:44,562 p=107280 u=master n=ansible | PLAY RECAP ****************************************************************************************************************************************************************************
2025-07-26 16:03:44,563 p=107280 u=master n=ansible | cn01                       : ok=8    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-26 16:03:44,563 p=107280 u=master n=ansible | cn02                       : ok=8    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-26 16:03:44,563 p=107280 u=master n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-26 16:03:44,563 p=107280 u=master n=ansible | sm01                       : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2025-07-26 16:03:44,563 p=107280 u=master n=ansible | sm02                       : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2025-07-26 16:03:44,563 p=107280 u=master n=ansible | Playbook run took 0 days, 0 hours, 0 minutes, 5 seconds
2025-07-26 16:03:44,563 p=107280 u=master n=ansible | Saturday 26 July 2025  16:03:44 +0000 (0:00:00.077)       0:00:05.091 ********* 
2025-07-26 16:03:44,563 p=107280 u=master n=ansible | =============================================================================== 
2025-07-26 16:03:44,564 p=107280 u=master n=ansible | [TEST] Проверка версии Enroot -------------------------------------------------------------------------------------------------------------------------------------------------- 1.48s
2025-07-26 16:03:44,564 p=107280 u=master n=ansible | [TEST] Проверка конфигурации plugstack.conf ------------------------------------------------------------------------------------------------------------------------------------ 1.33s
2025-07-26 16:03:44,564 p=107280 u=master n=ansible | [TEST] Базовый тест Enroot ----------------------------------------------------------------------------------------------------------------------------------------------------- 0.47s
2025-07-26 16:03:44,564 p=107280 u=master n=ansible | [TEST] Проверка SPANK плагина Pyxis -------------------------------------------------------------------------------------------------------------------------------------------- 0.44s
2025-07-26 16:03:44,564 p=107280 u=master n=ansible | [TEST] Проверка прав доступа к директориям ------------------------------------------------------------------------------------------------------------------------------------- 0.42s
2025-07-26 16:03:44,564 p=107280 u=master n=ansible | [TEST] Проверка GPU доступности ------------------------------------------------------------------------------------------------------------------------------------------------ 0.38s
2025-07-26 16:03:44,564 p=107280 u=master n=ansible | [TEST] Тест интеграции Pyxis с Slurm ------------------------------------------------------------------------------------------------------------------------------------------- 0.34s
2025-07-26 16:03:44,564 p=107280 u=master n=ansible | 📋 Информация о тестировании ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.10s
2025-07-26 16:03:44,565 p=107280 u=master n=ansible | 🎯 Результаты тестирования Enroot + Pyxis --------------------------------------------------------------------------------------------------------------------------------------- 0.08s
2025-07-26 16:08:46,585 p=107446 u=master n=ansible | cn01 | CHANGED | rc=0 >>
/usr/local/share/pyxis/pyxis.conf
/usr/local/lib/slurm/spank_pyxis.so

2025-07-26 16:09:11,904 p=107509 u=master n=ansible | cn01 | CHANGED | rc=0 >>
total 144
drwxr-xr-x  3 root root  4096 Jul 26 18:59 .
drwxrwxrwt 17 root root  4096 Jul 26 19:09 ..
-rw-r--r--  1 root root 97276 Jul 26 18:59 enroot_3.5.0-1_amd64.deb
drwxrwxr-x  6 root root  4096 Jul 26 18:59 pyxis-0.20.0
-rw-r--r--  1 root root 34535 Jul 26 18:59 pyxis-0.20.0.tar.gz

2025-07-26 16:09:53,349 p=107551 u=master n=ansible | cn01 | CHANGED | rc=0 >>
total 12
drwxr-xr-x  3 root root 4096 Jul 26 18:59 .
drwxr-xr-x 11 root root 4096 Jul 26 18:59 ..
drwxr-xr-x  3 root root 4096 Jul 26 18:59 lib

2025-07-26 16:10:11,239 p=107599 u=master n=ansible | cn01 | CHANGED | rc=0 >>
ii  libslurm-dev                         23.11.4-1.2ubuntu5                      amd64        Slurm development files
ii  libslurm40t64                        23.11.4-1.2ubuntu5                      amd64        Runtime library files for Slurm

2025-07-26 16:10:38,614 p=107641 u=master n=ansible | cn01 | CHANGED | rc=0 >>
/usr/local/lib/slurm/spank_pyxis.so
/usr/local/pyxis/lib/slurm/spank_pyxis.so
/tmp/containers-build/pyxis-0.20.0/spank_pyxis.so

2025-07-26 16:12:04,965 p=107756 u=master n=ansible | PLAY [🧪 Тестирование Enroot + Pyxis] *************************************************************************************************************************************************
2025-07-26 16:12:05,025 p=107756 u=master n=ansible | TASK [📋 Информация о тестировании] ***************************************************************************************************************************************************
2025-07-26 16:12:05,025 p=107756 u=master n=ansible | Saturday 26 July 2025  16:12:05 +0000 (0:00:00.061)       0:00:00.061 ********* 
2025-07-26 16:12:05,104 p=107756 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F9EA ТЕСТИРОВАНИЕ КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n=============================================\n\U0001F527 Проверяем: Enroot, Pyxis, SPANK плагин\n\U0001F3AE GPU: 4 CPU, 11.4GB RAM\n\U0001F4CD Узел: sm02\n============================================="
2025-07-26 16:12:05,105 p=107756 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F9EA ТЕСТИРОВАНИЕ КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n=============================================\n\U0001F527 Проверяем: Enroot, Pyxis, SPANK плагин\n\U0001F3AE GPU: 4 CPU, 11.4GB RAM\n\U0001F4CD Узел: sm01\n============================================="
2025-07-26 16:12:05,123 p=107756 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F9EA ТЕСТИРОВАНИЕ КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n=============================================\n\U0001F527 Проверяем: Enroot, Pyxis, SPANK плагин\n\U0001F3AE GPU: 4 CPU, 11.4GB RAM\n\U0001F4CD Узел: cn01\n============================================="
2025-07-26 16:12:05,143 p=107756 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F9EA ТЕСТИРОВАНИЕ КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n=============================================\n\U0001F527 Проверяем: Enroot, Pyxis, SPANK плагин\n\U0001F3AE GPU: 4 CPU, 11.4GB RAM\n\U0001F4CD Узел: cn02\n============================================="
2025-07-26 16:12:05,151 p=107756 u=master n=ansible | TASK [[TEST] Проверка версии Enroot] **************************************************************************************************************************************************
2025-07-26 16:12:05,151 p=107756 u=master n=ansible | Saturday 26 July 2025  16:12:05 +0000 (0:00:00.125)       0:00:00.187 ********* 
2025-07-26 16:12:06,352 p=107756 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:06,552 p=107756 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:06,565 p=107756 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:06,616 p=107756 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:06,626 p=107756 u=master n=ansible | TASK [[TEST] Проверка SPANK плагина Pyxis] ********************************************************************************************************************************************
2025-07-26 16:12:06,627 p=107756 u=master n=ansible | Saturday 26 July 2025  16:12:06 +0000 (0:00:01.475)       0:00:01.663 ********* 
2025-07-26 16:12:07,024 p=107756 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:07,025 p=107756 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:07,028 p=107756 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:07,033 p=107756 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:07,041 p=107756 u=master n=ansible | TASK [[TEST] Проверка конфигурации plugstack.conf] ************************************************************************************************************************************
2025-07-26 16:12:07,041 p=107756 u=master n=ansible | Saturday 26 July 2025  16:12:07 +0000 (0:00:00.414)       0:00:02.077 ********* 
2025-07-26 16:12:07,343 p=107756 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:07,344 p=107756 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:07,344 p=107756 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:07,356 p=107756 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:07,366 p=107756 u=master n=ansible | TASK [[TEST] Базовый тест Enroot] *****************************************************************************************************************************************************
2025-07-26 16:12:07,366 p=107756 u=master n=ansible | Saturday 26 July 2025  16:12:07 +0000 (0:00:00.325)       0:00:02.402 ********* 
2025-07-26 16:12:07,769 p=107756 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:07,770 p=107756 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:07,784 p=107756 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:07,813 p=107756 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:07,822 p=107756 u=master n=ansible | TASK [[TEST] Проверка GPU доступности] ************************************************************************************************************************************************
2025-07-26 16:12:07,822 p=107756 u=master n=ansible | Saturday 26 July 2025  16:12:07 +0000 (0:00:00.455)       0:00:02.858 ********* 
2025-07-26 16:12:08,103 p=107756 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:08,114 p=107756 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:08,168 p=107756 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:08,213 p=107756 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:08,221 p=107756 u=master n=ansible | TASK [[TEST] Тест интеграции Pyxis с Slurm] *******************************************************************************************************************************************
2025-07-26 16:12:08,221 p=107756 u=master n=ansible | Saturday 26 July 2025  16:12:08 +0000 (0:00:00.399)       0:00:03.257 ********* 
2025-07-26 16:12:08,243 p=107756 u=master n=ansible | skipping: [sm01]
2025-07-26 16:12:08,259 p=107756 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:08,527 p=107756 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:08,541 p=107756 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:08,551 p=107756 u=master n=ansible | TASK [[TEST] Проверка прав доступа к директориям] *************************************************************************************************************************************
2025-07-26 16:12:08,551 p=107756 u=master n=ansible | Saturday 26 July 2025  16:12:08 +0000 (0:00:00.329)       0:00:03.587 ********* 
2025-07-26 16:12:08,831 p=107756 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:08,845 p=107756 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:08,855 p=107756 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:08,884 p=107756 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:08,974 p=107756 u=master n=ansible | PLAY [📊 Отчет о тестировании контейнеров] ********************************************************************************************************************************************
2025-07-26 16:12:08,979 p=107756 u=master n=ansible | TASK [🎯 Результаты тестирования Enroot + Pyxis] **************************************************************************************************************************************
2025-07-26 16:12:08,979 p=107756 u=master n=ansible | Saturday 26 July 2025  16:12:08 +0000 (0:00:00.428)       0:00:04.015 ********* 
2025-07-26 16:12:09,051 p=107756 u=master n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: AttributeError: 'NoneType' object has no attribute 'group'
2025-07-26 16:12:09,051 p=107756 u=master n=ansible | fatal: [localhost]: FAILED! => 
2025-07-26 16:12:09,052 p=107756 u=master n=ansible | NO MORE HOSTS LEFT ********************************************************************************************************************************************************************
2025-07-26 16:12:09,053 p=107756 u=master n=ansible | PLAY RECAP ****************************************************************************************************************************************************************************
2025-07-26 16:12:09,053 p=107756 u=master n=ansible | cn01                       : ok=8    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-26 16:12:09,053 p=107756 u=master n=ansible | cn02                       : ok=8    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-26 16:12:09,053 p=107756 u=master n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-26 16:12:09,053 p=107756 u=master n=ansible | sm01                       : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2025-07-26 16:12:09,053 p=107756 u=master n=ansible | sm02                       : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2025-07-26 16:12:09,054 p=107756 u=master n=ansible | Playbook run took 0 days, 0 hours, 0 minutes, 4 seconds
2025-07-26 16:12:09,054 p=107756 u=master n=ansible | Saturday 26 July 2025  16:12:09 +0000 (0:00:00.074)       0:00:04.090 ********* 
2025-07-26 16:12:09,054 p=107756 u=master n=ansible | =============================================================================== 
2025-07-26 16:12:09,054 p=107756 u=master n=ansible | [TEST] Проверка версии Enroot -------------------------------------------------------------------------------------------------------------------------------------------------- 1.48s
2025-07-26 16:12:09,054 p=107756 u=master n=ansible | [TEST] Базовый тест Enroot ----------------------------------------------------------------------------------------------------------------------------------------------------- 0.46s
2025-07-26 16:12:09,054 p=107756 u=master n=ansible | [TEST] Проверка прав доступа к директориям ------------------------------------------------------------------------------------------------------------------------------------- 0.43s
2025-07-26 16:12:09,054 p=107756 u=master n=ansible | [TEST] Проверка SPANK плагина Pyxis -------------------------------------------------------------------------------------------------------------------------------------------- 0.41s
2025-07-26 16:12:09,055 p=107756 u=master n=ansible | [TEST] Проверка GPU доступности ------------------------------------------------------------------------------------------------------------------------------------------------ 0.40s
2025-07-26 16:12:09,055 p=107756 u=master n=ansible | [TEST] Тест интеграции Pyxis с Slurm ------------------------------------------------------------------------------------------------------------------------------------------- 0.33s
2025-07-26 16:12:09,055 p=107756 u=master n=ansible | [TEST] Проверка конфигурации plugstack.conf ------------------------------------------------------------------------------------------------------------------------------------ 0.33s
2025-07-26 16:12:09,055 p=107756 u=master n=ansible | 📋 Информация о тестировании ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.13s
2025-07-26 16:12:09,055 p=107756 u=master n=ansible | 🎯 Результаты тестирования Enroot + Pyxis --------------------------------------------------------------------------------------------------------------------------------------- 0.07s
2025-07-26 16:12:16,046 p=107883 u=master n=ansible | PLAY [🐳 Установка контейнерной поддержки] ********************************************************************************************************************************************
2025-07-26 16:12:16,056 p=107883 u=master n=ansible | TASK [📋 Информация о контейнеризации] ************************************************************************************************************************************************
2025-07-26 16:12:16,056 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:16 +0000 (0:00:00.011)       0:00:00.011 ********* 
2025-07-26 16:12:16,119 p=107883 u=master n=ansible | ok: [localhost] => 
  msg: "================================================================================\n\U0001F433 УСТАНОВКА КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n================================================================================\n\U0001F527 Компоненты: Enroot + Pyxis + NVIDIA Container Toolkit\n\U0001F3AF Целевые узлы: 4\n\U0001F3AE GPU узлы: 2\n\n\U0001F4CA Узлы для установки:\n\U0001F5A5️  Compute: cn01, cn02\n\U0001F511 Login:   sm02\n\U0001F39B️  Master:  sm01\n\n⏱️  Ожидаемое время: ~20-30 минут\n================================================================================"
2025-07-26 16:12:16,128 p=107883 u=master n=ansible | PLAY [🐳 Этап 1/3: Установка Enroot на все узлы] **************************************************************************************************************************************
2025-07-26 16:12:16,210 p=107883 u=master n=ansible | TASK [common : [COMMON] Начало выполнения роли common] ********************************************************************************************************************************
2025-07-26 16:12:16,211 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:16 +0000 (0:00:00.154)       0:00:00.166 ********* 
2025-07-26 16:12:16,248 p=107883 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F527 Настройка базовых компонентов на sm01"
2025-07-26 16:12:16,268 p=107883 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F527 Настройка базовых компонентов на sm02"
2025-07-26 16:12:16,269 p=107883 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F527 Настройка базовых компонентов на cn01"
2025-07-26 16:12:16,283 p=107883 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F527 Настройка базовых компонентов на cn02"
2025-07-26 16:12:16,291 p=107883 u=master n=ansible | TASK [common : [COMMON] Обновление apt cache] *****************************************************************************************************************************************
2025-07-26 16:12:16,291 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:16 +0000 (0:00:00.080)       0:00:00.247 ********* 
2025-07-26 16:12:17,551 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:17,752 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:17,887 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:17,995 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:18,004 p=107883 u=master n=ansible | TASK [common : [COMMON] Установка базовых пакетов] ************************************************************************************************************************************
2025-07-26 16:12:18,004 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:18 +0000 (0:00:01.712)       0:00:01.960 ********* 
2025-07-26 16:12:19,161 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:19,167 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:19,184 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:26,719 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:12:26,728 p=107883 u=master n=ansible | TASK [common : [COMMON] Настройка timezone] *******************************************************************************************************************************************
2025-07-26 16:12:26,728 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:26 +0000 (0:00:08.723)       0:00:10.683 ********* 
2025-07-26 16:12:27,243 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:27,248 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:27,271 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:27,274 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:27,283 p=107883 u=master n=ansible | TASK [common : [COMMON] Создание пользователя slurm] **********************************************************************************************************************************
2025-07-26 16:12:27,283 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:27 +0000 (0:00:00.554)       0:00:11.238 ********* 
2025-07-26 16:12:27,818 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:27,819 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:27,819 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:27,825 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:27,835 p=107883 u=master n=ansible | TASK [common : [COMMON] Установка MUNGE] **********************************************************************************************************************************************
2025-07-26 16:12:27,835 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:27 +0000 (0:00:00.552)       0:00:11.790 ********* 
2025-07-26 16:12:28,869 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:28,953 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:28,972 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:28,976 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:28,984 p=107883 u=master n=ansible | TASK [common : [COMMON] Остановка MUNGE перед настройкой] *****************************************************************************************************************************
2025-07-26 16:12:28,985 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:28 +0000 (0:00:01.149)       0:00:12.940 ********* 
2025-07-26 16:12:30,868 p=107883 u=master n=ansible | changed: [cn02]
2025-07-26 16:12:30,873 p=107883 u=master n=ansible | changed: [sm02]
2025-07-26 16:12:30,889 p=107883 u=master n=ansible | changed: [cn01]
2025-07-26 16:12:30,903 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:12:30,912 p=107883 u=master n=ansible | TASK [common : [COMMON] Создание MUNGE ключа на master узле] **************************************************************************************************************************
2025-07-26 16:12:30,912 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:30 +0000 (0:00:01.927)       0:00:14.867 ********* 
2025-07-26 16:12:30,965 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:30,966 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:30,985 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:31,326 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:31,335 p=107883 u=master n=ansible | TASK [common : [COMMON] Настройка прав доступа MUNGE директорий] **********************************************************************************************************************
2025-07-26 16:12:31,335 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:31 +0000 (0:00:00.423)       0:00:15.291 ********* 
2025-07-26 16:12:31,751 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 16:12:31,753 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 16:12:31,754 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 16:12:31,760 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 16:12:32,011 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 16:12:32,060 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 16:12:32,062 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 16:12:32,078 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 16:12:32,266 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 16:12:32,320 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 16:12:32,322 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 16:12:32,338 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 16:12:32,528 p=107883 u=master n=ansible | changed: [sm01] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 16:12:32,577 p=107883 u=master n=ansible | changed: [cn02] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 16:12:32,578 p=107883 u=master n=ansible | changed: [cn01] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 16:12:32,597 p=107883 u=master n=ansible | changed: [sm02] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 16:12:32,608 p=107883 u=master n=ansible | TASK [common : [COMMON] Получение MUNGE ключа с мастера] ******************************************************************************************************************************
2025-07-26 16:12:32,608 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:32 +0000 (0:00:01.272)       0:00:16.563 ********* 
2025-07-26 16:12:32,647 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:12:33,008 p=107883 u=master n=ansible | ok: [cn02 -> sm01]
2025-07-26 16:12:33,009 p=107883 u=master n=ansible | ok: [cn01 -> sm01]
2025-07-26 16:12:33,010 p=107883 u=master n=ansible | ok: [sm02 -> sm01]
2025-07-26 16:12:33,021 p=107883 u=master n=ansible | TASK [common : [COMMON] Создание MUNGE ключа на остальных узлах] **********************************************************************************************************************
2025-07-26 16:12:33,023 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:33 +0000 (0:00:00.414)       0:00:16.978 ********* 
2025-07-26 16:12:33,044 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:12:33,809 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:33,810 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:33,810 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:33,819 p=107883 u=master n=ansible | TASK [common : [COMMON] Настройка прав доступа на ключ MUNGE (мастер)] ****************************************************************************************************************
2025-07-26 16:12:33,819 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:33 +0000 (0:00:00.796)       0:00:17.775 ********* 
2025-07-26 16:12:33,859 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:33,877 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:33,889 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:34,086 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:34,095 p=107883 u=master n=ansible | TASK [common : [COMMON] Запуск и включение MUNGE] *************************************************************************************************************************************
2025-07-26 16:12:34,095 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:34 +0000 (0:00:00.275)       0:00:18.050 ********* 
2025-07-26 16:12:36,048 p=107883 u=master n=ansible | changed: [cn01]
2025-07-26 16:12:36,056 p=107883 u=master n=ansible | changed: [cn02]
2025-07-26 16:12:36,089 p=107883 u=master n=ansible | changed: [sm02]
2025-07-26 16:12:36,102 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:12:36,113 p=107883 u=master n=ansible | TASK [common : [COMMON] Проверка работы MUNGE] ****************************************************************************************************************************************
2025-07-26 16:12:36,113 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:36 +0000 (0:00:02.017)       0:00:20.068 ********* 
2025-07-26 16:12:36,392 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:36,411 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:36,456 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:36,456 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:36,465 p=107883 u=master n=ansible | TASK [common : [COMMON] Результат проверки MUNGE] *************************************************************************************************************************************
2025-07-26 16:12:36,465 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:36 +0000 (0:00:00.351)       0:00:20.420 ********* 
2025-07-26 16:12:36,504 p=107883 u=master n=ansible | ok: [sm01] => 
  msg: MUNGE работает корректно на sm01
2025-07-26 16:12:36,520 p=107883 u=master n=ansible | ok: [sm02] => 
  msg: MUNGE работает корректно на sm02
2025-07-26 16:12:36,523 p=107883 u=master n=ansible | ok: [cn01] => 
  msg: MUNGE работает корректно на cn01
2025-07-26 16:12:36,538 p=107883 u=master n=ansible | ok: [cn02] => 
  msg: MUNGE работает корректно на cn02
2025-07-26 16:12:36,546 p=107883 u=master n=ansible | TASK [common : [COMMON] Установка HWLOC] **********************************************************************************************************************************************
2025-07-26 16:12:36,546 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:36 +0000 (0:00:00.081)       0:00:20.501 ********* 
2025-07-26 16:12:37,685 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:37,699 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:37,713 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:37,715 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:37,724 p=107883 u=master n=ansible | TASK [common : [COMMON] Проверка HWLOC] ***********************************************************************************************************************************************
2025-07-26 16:12:37,724 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:37 +0000 (0:00:01.177)       0:00:21.679 ********* 
2025-07-26 16:12:38,030 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:38,031 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:38,045 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:38,099 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:38,107 p=107883 u=master n=ansible | TASK [common : [COMMON] Версия HWLOC] *************************************************************************************************************************************************
2025-07-26 16:12:38,107 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:38 +0000 (0:00:00.383)       0:00:22.063 ********* 
2025-07-26 16:12:38,144 p=107883 u=master n=ansible | ok: [sm01] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 16:12:38,160 p=107883 u=master n=ansible | ok: [sm02] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 16:12:38,162 p=107883 u=master n=ansible | ok: [cn01] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 16:12:38,176 p=107883 u=master n=ansible | ok: [cn02] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 16:12:38,184 p=107883 u=master n=ansible | TASK [common : [COMMON] Установка NFS server на master] *******************************************************************************************************************************
2025-07-26 16:12:38,184 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:38 +0000 (0:00:00.076)       0:00:22.139 ********* 
2025-07-26 16:12:38,222 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:38,238 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:38,251 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:39,259 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:39,268 p=107883 u=master n=ansible | TASK [common : [COMMON] Создание директорий для экспорта NFS] *************************************************************************************************************************
2025-07-26 16:12:39,268 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:39 +0000 (0:00:01.084)       0:00:23.224 ********* 
2025-07-26 16:12:39,314 p=107883 u=master n=ansible | skipping: [sm02] => (item=/home) 
2025-07-26 16:12:39,317 p=107883 u=master n=ansible | skipping: [sm02] => (item=/sw) 
2025-07-26 16:12:39,329 p=107883 u=master n=ansible | skipping: [cn01] => (item=/home) 
2025-07-26 16:12:39,331 p=107883 u=master n=ansible | skipping: [cn01] => (item=/sw) 
2025-07-26 16:12:39,331 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:39,333 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:39,339 p=107883 u=master n=ansible | skipping: [cn02] => (item=/home) 
2025-07-26 16:12:39,342 p=107883 u=master n=ansible | skipping: [cn02] => (item=/sw) 
2025-07-26 16:12:39,343 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:39,552 p=107883 u=master n=ansible | ok: [sm01] => (item=/home)
2025-07-26 16:12:39,808 p=107883 u=master n=ansible | ok: [sm01] => (item=/sw)
2025-07-26 16:12:39,817 p=107883 u=master n=ansible | TASK [common : [COMMON] Очистка старых экспортов] *************************************************************************************************************************************
2025-07-26 16:12:39,818 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:39 +0000 (0:00:00.549)       0:00:23.773 ********* 
2025-07-26 16:12:39,856 p=107883 u=master n=ansible | skipping: [sm02] => (item=/home) 
2025-07-26 16:12:39,862 p=107883 u=master n=ansible | skipping: [sm02] => (item=/sw) 
2025-07-26 16:12:39,870 p=107883 u=master n=ansible | skipping: [cn01] => (item=/home) 
2025-07-26 16:12:39,870 p=107883 u=master n=ansible | skipping: [cn01] => (item=/sw) 
2025-07-26 16:12:39,875 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:39,876 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:39,889 p=107883 u=master n=ansible | skipping: [cn02] => (item=/home) 
2025-07-26 16:12:39,891 p=107883 u=master n=ansible | skipping: [cn02] => (item=/sw) 
2025-07-26 16:12:39,891 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:40,215 p=107883 u=master n=ansible | changed: [sm01] => (item=/home)
2025-07-26 16:12:40,459 p=107883 u=master n=ansible | changed: [sm01] => (item=/sw)
2025-07-26 16:12:40,469 p=107883 u=master n=ansible | TASK [common : [COMMON] Настройка экспорта NFS (автоопределение IP)] ******************************************************************************************************************
2025-07-26 16:12:40,469 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:40 +0000 (0:00:00.651)       0:00:24.424 ********* 
2025-07-26 16:12:40,570 p=107883 u=master n=ansible | skipping: [sm02] => (item={'path': '/home', 'client_ip': '10.20.90.212'}) 
2025-07-26 16:12:40,572 p=107883 u=master n=ansible | skipping: [sm02] => (item={'path': '/home', 'client_ip': '10.20.90.204'}) 
2025-07-26 16:12:40,575 p=107883 u=master n=ansible | skipping: [sm02] => (item={'path': '/home', 'client_ip': '10.20.90.215'}) 
2025-07-26 16:12:40,578 p=107883 u=master n=ansible | skipping: [sm02] => (item={'path': '/sw', 'client_ip': '10.20.90.212'}) 
2025-07-26 16:12:40,580 p=107883 u=master n=ansible | skipping: [sm02] => (item={'path': '/sw', 'client_ip': '10.20.90.204'}) 
2025-07-26 16:12:40,583 p=107883 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': '10.20.90.212'}) 
2025-07-26 16:12:40,587 p=107883 u=master n=ansible | skipping: [sm02] => (item={'path': '/sw', 'client_ip': '10.20.90.215'}) 
2025-07-26 16:12:40,588 p=107883 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': '10.20.90.204'}) 
2025-07-26 16:12:40,589 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:40,590 p=107883 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': '10.20.90.215'}) 
2025-07-26 16:12:40,591 p=107883 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': '10.20.90.212'}) 
2025-07-26 16:12:40,594 p=107883 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': '10.20.90.204'}) 
2025-07-26 16:12:40,596 p=107883 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': '10.20.90.215'}) 
2025-07-26 16:12:40,598 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:40,604 p=107883 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': '10.20.90.212'}) 
2025-07-26 16:12:40,606 p=107883 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': '10.20.90.204'}) 
2025-07-26 16:12:40,609 p=107883 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': '10.20.90.215'}) 
2025-07-26 16:12:40,612 p=107883 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': '10.20.90.212'}) 
2025-07-26 16:12:40,614 p=107883 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': '10.20.90.204'}) 
2025-07-26 16:12:40,617 p=107883 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': '10.20.90.215'}) 
2025-07-26 16:12:40,619 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:40,802 p=107883 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': '10.20.90.212'})
2025-07-26 16:12:41,052 p=107883 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': '10.20.90.204'})
2025-07-26 16:12:41,301 p=107883 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': '10.20.90.215'})
2025-07-26 16:12:41,545 p=107883 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': '10.20.90.212'})
2025-07-26 16:12:41,786 p=107883 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': '10.20.90.204'})
2025-07-26 16:12:42,033 p=107883 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': '10.20.90.215'})
2025-07-26 16:12:42,046 p=107883 u=master n=ansible | TASK [common : [COMMON] Запуск и включение NFS server] ********************************************************************************************************************************
2025-07-26 16:12:42,047 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:42 +0000 (0:00:01.577)       0:00:26.002 ********* 
2025-07-26 16:12:42,083 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:42,099 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:42,112 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:42,538 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:42,546 p=107883 u=master n=ansible | TASK [common : [COMMON] Принудительная перезагрузка экспортов NFS] ********************************************************************************************************************
2025-07-26 16:12:42,547 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:42 +0000 (0:00:00.500)       0:00:26.502 ********* 
2025-07-26 16:12:42,584 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:42,601 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:42,613 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:42,818 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:12:42,827 p=107883 u=master n=ansible | TASK [common : [COMMON] Проверка активных экспортов] **********************************************************************************************************************************
2025-07-26 16:12:42,827 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:42 +0000 (0:00:00.280)       0:00:26.782 ********* 
2025-07-26 16:12:42,862 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:42,880 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:42,893 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:43,098 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:12:43,107 p=107883 u=master n=ansible | TASK [common : [COMMON] Показать активные экспорты] ***********************************************************************************************************************************
2025-07-26 16:12:43,107 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:43 +0000 (0:00:00.280)       0:00:27.062 ********* 
2025-07-26 16:12:43,144 p=107883 u=master n=ansible | ok: [sm01] => 
  nfs_exports_check.stdout_lines:
  - "/home         \t10.20.90.212(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/home         \t10.20.90.204(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/home         \t10.20.90.215(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \t10.20.90.212(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \t10.20.90.204(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \t10.20.90.215(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
2025-07-26 16:12:43,159 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:43,160 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:43,171 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:43,179 p=107883 u=master n=ansible | TASK [common : [COMMON] Установка NFS client] *****************************************************************************************************************************************
2025-07-26 16:12:43,180 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:43 +0000 (0:00:00.072)       0:00:27.135 ********* 
2025-07-26 16:12:43,202 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:12:44,207 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:12:44,253 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:12:44,267 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:12:44,275 p=107883 u=master n=ansible | TASK [common : [COMMON] Создание точек монтирования NFS] ******************************************************************************************************************************
2025-07-26 16:12:44,275 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:44 +0000 (0:00:01.095)       0:00:28.231 ********* 
2025-07-26 16:12:44,298 p=107883 u=master n=ansible | skipping: [sm01] => (item=/sw) 
2025-07-26 16:12:44,315 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:12:44,573 p=107883 u=master n=ansible | ok: [sm02] => (item=/sw)
2025-07-26 16:12:44,582 p=107883 u=master n=ansible | ok: [cn01] => (item=/sw)
2025-07-26 16:12:44,601 p=107883 u=master n=ansible | ok: [cn02] => (item=/sw)
2025-07-26 16:12:44,611 p=107883 u=master n=ansible | TASK [common : [COMMON] Монтирование NFS shares (автоопределение сервера)] ************************************************************************************************************
2025-07-26 16:12:44,611 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:44 +0000 (0:00:00.335)       0:00:28.567 ********* 
2025-07-26 16:12:44,633 p=107883 u=master n=ansible | skipping: [sm01] => (item={'path': '/home', 'src': '/home'}) 
2025-07-26 16:12:44,641 p=107883 u=master n=ansible | skipping: [sm01] => (item={'path': '/sw', 'src': '/sw'}) 
2025-07-26 16:12:44,649 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:12:45,035 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/home', 'src': '/home'})
2025-07-26 16:12:45,036 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/home', 'src': '/home'})
2025-07-26 16:12:45,050 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/home', 'src': '/home'})
2025-07-26 16:12:45,287 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 16:12:45,290 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 16:12:45,320 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 16:12:45,330 p=107883 u=master n=ansible | TASK [common : [COMMON] Установка MariaDB] ********************************************************************************************************************************************
2025-07-26 16:12:45,330 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:45 +0000 (0:00:00.718)       0:00:29.286 ********* 
2025-07-26 16:12:45,380 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:45,398 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:45,411 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:46,401 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:46,410 p=107883 u=master n=ansible | TASK [common : [COMMON] Установка python3-pymysql для Ansible mysql модулей] **********************************************************************************************************
2025-07-26 16:12:46,410 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:46 +0000 (0:00:01.079)       0:00:30.366 ********* 
2025-07-26 16:12:46,450 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:46,468 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:46,480 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:47,445 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:47,455 p=107883 u=master n=ansible | TASK [common : [COMMON] Создание базовых директорий Slurm] ****************************************************************************************************************************
2025-07-26 16:12:47,455 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:47 +0000 (0:00:01.044)       0:00:31.410 ********* 
2025-07-26 16:12:47,775 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:47,777 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:47,798 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:47,893 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,043 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,079 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,130 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,154 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,309 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,338 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,393 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,406 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,569 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,603 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,655 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,671 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:48,835 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 16:12:48,872 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 16:12:48,919 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 16:12:48,935 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 16:12:49,097 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:49,124 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:49,173 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:49,191 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 16:12:49,202 p=107883 u=master n=ansible | TASK [common : [COMMON] Роль common выполнена успешно] ********************************************************************************************************************************
2025-07-26 16:12:49,202 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:49 +0000 (0:00:01.747)       0:00:33.157 ********* 
2025-07-26 16:12:49,238 p=107883 u=master n=ansible | ok: [sm01] => 
  msg: ✅ Узел sm01 готов для установки Slurm
2025-07-26 16:12:49,257 p=107883 u=master n=ansible | ok: [sm02] => 
  msg: ✅ Узел sm02 готов для установки Slurm
2025-07-26 16:12:49,258 p=107883 u=master n=ansible | ok: [cn01] => 
  msg: ✅ Узел cn01 готов для установки Slurm
2025-07-26 16:12:49,272 p=107883 u=master n=ansible | ok: [cn02] => 
  msg: ✅ Узел cn02 готов для установки Slurm
2025-07-26 16:12:49,316 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Начало сборки Slurm] ********************************************************************************************************************************
2025-07-26 16:12:49,316 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:49 +0000 (0:00:00.113)       0:00:33.271 ********* 
2025-07-26 16:12:49,355 p=107883 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на sm01"
2025-07-26 16:12:49,371 p=107883 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на sm02"
2025-07-26 16:12:49,373 p=107883 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на cn01"
2025-07-26 16:12:49,387 p=107883 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на cn02"
2025-07-26 16:12:49,395 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка дополнительных зависимостей для сборки] ***************************************************************************************************
2025-07-26 16:12:49,395 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:49 +0000 (0:00:00.079)       0:00:33.351 ********* 
2025-07-26 16:12:49,432 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:49,448 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:49,460 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:58,433 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:12:58,442 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание временной директории для сборки] ***********************************************************************************************************
2025-07-26 16:12:58,443 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:58 +0000 (0:00:09.047)       0:00:42.398 ********* 
2025-07-26 16:12:58,481 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:58,498 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:58,513 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:58,724 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:58,735 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка существования исходников] ******************************************************************************************************************
2025-07-26 16:12:58,735 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:58 +0000 (0:00:00.292)       0:00:42.691 ********* 
2025-07-26 16:12:58,775 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:58,794 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:58,806 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:59,058 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:59,070 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Скачивание исходников Slurm 25.05.1] ****************************************************************************************************************
2025-07-26 16:12:59,070 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:59 +0000 (0:00:00.334)       0:00:43.025 ********* 
2025-07-26 16:12:59,092 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:12:59,108 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:59,124 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:59,135 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:59,144 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Извлечение исходников Slurm] ************************************************************************************************************************
2025-07-26 16:12:59,144 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:59 +0000 (0:00:00.073)       0:00:43.099 ********* 
2025-07-26 16:12:59,178 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:59,196 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:59,210 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:59,237 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:12:59,246 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Конфигурация сборки Slurm с JWT поддержкой] *********************************************************************************************************
2025-07-26 16:12:59,246 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:59 +0000 (0:00:00.101)       0:00:43.201 ********* 
2025-07-26 16:12:59,283 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:59,299 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:59,310 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:59,506 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:59,516 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результат конфигурации] *****************************************************************************************************************************
2025-07-26 16:12:59,517 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:59 +0000 (0:00:00.270)       0:00:43.472 ********* 
2025-07-26 16:12:59,537 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:12:59,553 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:59,568 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:59,579 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:59,587 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Компиляция Slurm (это займет время...)] *************************************************************************************************************
2025-07-26 16:12:59,587 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:59 +0000 (0:00:00.070)       0:00:43.542 ********* 
2025-07-26 16:12:59,624 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:59,641 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:59,653 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:12:59,848 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:12:59,856 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка Slurm на master] **************************************************************************************************************************
2025-07-26 16:12:59,857 p=107883 u=master n=ansible | Saturday 26 July 2025  16:12:59 +0000 (0:00:00.269)       0:00:43.812 ********* 
2025-07-26 16:12:59,891 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:12:59,910 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:12:59,922 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:13:00,121 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:00,130 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание директории Slurm на всех узлах] ************************************************************************************************************
2025-07-26 16:13:00,130 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:00 +0000 (0:00:00.273)       0:00:44.085 ********* 
2025-07-26 16:13:00,410 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:00,428 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:00,436 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:00,455 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:00,463 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Исправление прав доступа к /sw на NFS сервере] ******************************************************************************************************
2025-07-26 16:13:00,463 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:00 +0000 (0:00:00.332)       0:00:44.418 ********* 
2025-07-26 16:13:00,501 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:13:00,518 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:13:00,529 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:13:00,729 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:00,738 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] ПРОСТОЕ копирование через NFS (С ДЕТАЛЬНЫМ ЛОГИРОВАНИЕМ)] *******************************************************************************************
2025-07-26 16:13:00,738 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:00 +0000 (0:00:00.274)       0:00:44.693 ********* 
2025-07-26 16:13:00,777 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:13:00,837 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:13:00,849 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:13:02,037 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:13:02,046 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Копирование Slurm на все узлы из NFS] ***************************************************************************************************************
2025-07-26 16:13:02,046 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:02 +0000 (0:00:01.308)       0:00:46.002 ********* 
2025-07-26 16:13:02,067 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:13:20,306 p=107883 u=master n=ansible | changed: [cn01]
2025-07-26 16:13:20,475 p=107883 u=master n=ansible | changed: [sm02]
2025-07-26 16:13:20,704 p=107883 u=master n=ansible | changed: [cn02]
2025-07-26 16:13:20,716 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание символических ссылок для пользовательских команд Slurm] ************************************************************************************
2025-07-26 16:13:20,716 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:20 +0000 (0:00:18.669)       0:01:04.671 ********* 
2025-07-26 16:13:21,019 p=107883 u=master n=ansible | ok: [sm01] => (item=sinfo)
2025-07-26 16:13:21,033 p=107883 u=master n=ansible | ok: [sm02] => (item=sinfo)
2025-07-26 16:13:21,036 p=107883 u=master n=ansible | ok: [cn01] => (item=sinfo)
2025-07-26 16:13:21,136 p=107883 u=master n=ansible | ok: [cn02] => (item=sinfo)
2025-07-26 16:13:21,285 p=107883 u=master n=ansible | ok: [sm01] => (item=squeue)
2025-07-26 16:13:21,289 p=107883 u=master n=ansible | ok: [sm02] => (item=squeue)
2025-07-26 16:13:21,321 p=107883 u=master n=ansible | ok: [cn01] => (item=squeue)
2025-07-26 16:13:21,443 p=107883 u=master n=ansible | ok: [cn02] => (item=squeue)
2025-07-26 16:13:21,557 p=107883 u=master n=ansible | ok: [sm01] => (item=scancel)
2025-07-26 16:13:21,561 p=107883 u=master n=ansible | ok: [sm02] => (item=scancel)
2025-07-26 16:13:21,576 p=107883 u=master n=ansible | ok: [cn01] => (item=scancel)
2025-07-26 16:13:21,704 p=107883 u=master n=ansible | ok: [cn02] => (item=scancel)
2025-07-26 16:13:21,820 p=107883 u=master n=ansible | ok: [sm02] => (item=sbatch)
2025-07-26 16:13:21,835 p=107883 u=master n=ansible | ok: [sm01] => (item=sbatch)
2025-07-26 16:13:21,865 p=107883 u=master n=ansible | ok: [cn01] => (item=sbatch)
2025-07-26 16:13:21,961 p=107883 u=master n=ansible | ok: [cn02] => (item=sbatch)
2025-07-26 16:13:22,073 p=107883 u=master n=ansible | ok: [sm02] => (item=salloc)
2025-07-26 16:13:22,092 p=107883 u=master n=ansible | ok: [sm01] => (item=salloc)
2025-07-26 16:13:22,121 p=107883 u=master n=ansible | ok: [cn01] => (item=salloc)
2025-07-26 16:13:22,219 p=107883 u=master n=ansible | ok: [cn02] => (item=salloc)
2025-07-26 16:13:22,354 p=107883 u=master n=ansible | ok: [sm02] => (item=srun)
2025-07-26 16:13:22,355 p=107883 u=master n=ansible | ok: [sm01] => (item=srun)
2025-07-26 16:13:22,394 p=107883 u=master n=ansible | ok: [cn01] => (item=srun)
2025-07-26 16:13:22,502 p=107883 u=master n=ansible | ok: [cn02] => (item=srun)
2025-07-26 16:13:22,615 p=107883 u=master n=ansible | ok: [sm01] => (item=sacct)
2025-07-26 16:13:22,654 p=107883 u=master n=ansible | ok: [cn01] => (item=sacct)
2025-07-26 16:13:22,753 p=107883 u=master n=ansible | ok: [cn02] => (item=sacct)
2025-07-26 16:13:22,768 p=107883 u=master n=ansible | ok: [sm02] => (item=sacct)
2025-07-26 16:13:22,871 p=107883 u=master n=ansible | ok: [sm01] => (item=scontrol)
2025-07-26 16:13:22,911 p=107883 u=master n=ansible | ok: [cn01] => (item=scontrol)
2025-07-26 16:13:23,018 p=107883 u=master n=ansible | ok: [sm02] => (item=scontrol)
2025-07-26 16:13:23,025 p=107883 u=master n=ansible | ok: [cn02] => (item=scontrol)
2025-07-26 16:13:23,127 p=107883 u=master n=ansible | ok: [sm01] => (item=sprio)
2025-07-26 16:13:23,167 p=107883 u=master n=ansible | ok: [cn01] => (item=sprio)
2025-07-26 16:13:23,275 p=107883 u=master n=ansible | ok: [sm02] => (item=sprio)
2025-07-26 16:13:23,280 p=107883 u=master n=ansible | ok: [cn02] => (item=sprio)
2025-07-26 16:13:23,387 p=107883 u=master n=ansible | ok: [sm01] => (item=smap)
2025-07-26 16:13:23,472 p=107883 u=master n=ansible | ok: [cn01] => (item=smap)
2025-07-26 16:13:23,530 p=107883 u=master n=ansible | ok: [sm02] => (item=smap)
2025-07-26 16:13:23,540 p=107883 u=master n=ansible | ok: [cn02] => (item=smap)
2025-07-26 16:13:23,646 p=107883 u=master n=ansible | ok: [sm01] => (item=sdiag)
2025-07-26 16:13:23,734 p=107883 u=master n=ansible | ok: [cn01] => (item=sdiag)
2025-07-26 16:13:23,785 p=107883 u=master n=ansible | ok: [sm02] => (item=sdiag)
2025-07-26 16:13:23,796 p=107883 u=master n=ansible | ok: [cn02] => (item=sdiag)
2025-07-26 16:13:23,923 p=107883 u=master n=ansible | ok: [sm01] => (item=sstat)
2025-07-26 16:13:23,985 p=107883 u=master n=ansible | ok: [cn01] => (item=sstat)
2025-07-26 16:13:24,039 p=107883 u=master n=ansible | ok: [sm02] => (item=sstat)
2025-07-26 16:13:24,073 p=107883 u=master n=ansible | ok: [cn02] => (item=sstat)
2025-07-26 16:13:24,200 p=107883 u=master n=ansible | ok: [sm01] => (item=sreport)
2025-07-26 16:13:24,238 p=107883 u=master n=ansible | ok: [cn01] => (item=sreport)
2025-07-26 16:13:24,292 p=107883 u=master n=ansible | ok: [sm02] => (item=sreport)
2025-07-26 16:13:24,349 p=107883 u=master n=ansible | ok: [cn02] => (item=sreport)
2025-07-26 16:13:24,477 p=107883 u=master n=ansible | ok: [sm01] => (item=sacctmgr)
2025-07-26 16:13:24,489 p=107883 u=master n=ansible | ok: [cn01] => (item=sacctmgr)
2025-07-26 16:13:24,566 p=107883 u=master n=ansible | ok: [sm02] => (item=sacctmgr)
2025-07-26 16:13:24,625 p=107883 u=master n=ansible | ok: [cn02] => (item=sacctmgr)
2025-07-26 16:13:24,743 p=107883 u=master n=ansible | ok: [cn01] => (item=sattach)
2025-07-26 16:13:24,801 p=107883 u=master n=ansible | ok: [sm01] => (item=sattach)
2025-07-26 16:13:24,823 p=107883 u=master n=ansible | ok: [sm02] => (item=sattach)
2025-07-26 16:13:24,903 p=107883 u=master n=ansible | ok: [cn02] => (item=sattach)
2025-07-26 16:13:25,004 p=107883 u=master n=ansible | ok: [cn01] => (item=sbcast)
2025-07-26 16:13:25,060 p=107883 u=master n=ansible | ok: [sm01] => (item=sbcast)
2025-07-26 16:13:25,076 p=107883 u=master n=ansible | ok: [sm02] => (item=sbcast)
2025-07-26 16:13:25,164 p=107883 u=master n=ansible | ok: [cn02] => (item=sbcast)
2025-07-26 16:13:25,267 p=107883 u=master n=ansible | ok: [cn01] => (item=sshare)
2025-07-26 16:13:25,317 p=107883 u=master n=ansible | ok: [sm01] => (item=sshare)
2025-07-26 16:13:25,328 p=107883 u=master n=ansible | ok: [sm02] => (item=sshare)
2025-07-26 16:13:25,421 p=107883 u=master n=ansible | ok: [cn02] => (item=sshare)
2025-07-26 16:13:25,521 p=107883 u=master n=ansible | ok: [cn01] => (item=sview)
2025-07-26 16:13:25,526 p=107883 u=master n=ansible | [WARNING]: Cannot set fs attributes on a non-existent symlink target. follow should be set to False to avoid this.

2025-07-26 16:13:25,573 p=107883 u=master n=ansible | ok: [sm01] => (item=sview)
2025-07-26 16:13:25,587 p=107883 u=master n=ansible | ok: [sm02] => (item=sview)
2025-07-26 16:13:25,676 p=107883 u=master n=ansible | ok: [cn02] => (item=sview)
2025-07-26 16:13:25,690 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание символических ссылок для системных демонов Slurm] ******************************************************************************************
2025-07-26 16:13:25,690 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:25 +0000 (0:00:04.974)       0:01:09.645 ********* 
2025-07-26 16:13:25,971 p=107883 u=master n=ansible | ok: [sm01] => (item=slurmctld)
2025-07-26 16:13:25,992 p=107883 u=master n=ansible | ok: [sm02] => (item=slurmctld)
2025-07-26 16:13:26,041 p=107883 u=master n=ansible | ok: [cn01] => (item=slurmctld)
2025-07-26 16:13:26,069 p=107883 u=master n=ansible | ok: [cn02] => (item=slurmctld)
2025-07-26 16:13:26,223 p=107883 u=master n=ansible | ok: [sm01] => (item=slurmd)
2025-07-26 16:13:26,258 p=107883 u=master n=ansible | ok: [sm02] => (item=slurmd)
2025-07-26 16:13:26,307 p=107883 u=master n=ansible | ok: [cn01] => (item=slurmd)
2025-07-26 16:13:26,326 p=107883 u=master n=ansible | ok: [cn02] => (item=slurmd)
2025-07-26 16:13:26,477 p=107883 u=master n=ansible | ok: [sm01] => (item=slurmdbd)
2025-07-26 16:13:26,526 p=107883 u=master n=ansible | ok: [sm02] => (item=slurmdbd)
2025-07-26 16:13:26,559 p=107883 u=master n=ansible | ok: [cn01] => (item=slurmdbd)
2025-07-26 16:13:26,581 p=107883 u=master n=ansible | ok: [cn02] => (item=slurmdbd)
2025-07-26 16:13:26,728 p=107883 u=master n=ansible | ok: [sm01] => (item=slurmrestd)
2025-07-26 16:13:26,778 p=107883 u=master n=ansible | ok: [sm02] => (item=slurmrestd)
2025-07-26 16:13:26,816 p=107883 u=master n=ansible | ok: [cn01] => (item=slurmrestd)
2025-07-26 16:13:26,838 p=107883 u=master n=ansible | ok: [cn02] => (item=slurmrestd)
2025-07-26 16:13:26,980 p=107883 u=master n=ansible | ok: [sm01] => (item=slurmstepd)
2025-07-26 16:13:27,030 p=107883 u=master n=ansible | ok: [sm02] => (item=slurmstepd)
2025-07-26 16:13:27,072 p=107883 u=master n=ansible | ok: [cn01] => (item=slurmstepd)
2025-07-26 16:13:27,091 p=107883 u=master n=ansible | ok: [cn02] => (item=slurmstepd)
2025-07-26 16:13:27,102 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Обновление библиотечного кеша] **********************************************************************************************************************
2025-07-26 16:13:27,103 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:27 +0000 (0:00:01.412)       0:01:11.058 ********* 
2025-07-26 16:13:27,545 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:13:27,584 p=107883 u=master n=ansible | changed: [cn02]
2025-07-26 16:13:27,844 p=107883 u=master n=ansible | changed: [sm02]
2025-07-26 16:13:28,114 p=107883 u=master n=ansible | changed: [cn01]
2025-07-26 16:13:28,123 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка версии Slurm (без подключения к демону)] ***************************************************************************************************
2025-07-26 16:13:28,123 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:28 +0000 (0:00:01.020)       0:01:12.078 ********* 
2025-07-26 16:13:28,419 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:28,429 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:28,436 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:28,447 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:28,456 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки JWT] *****************************************************************************************************************************
2025-07-26 16:13:28,456 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:28 +0000 (0:00:00.332)       0:01:12.411 ********* 
2025-07-26 16:13:28,737 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:28,754 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:28,766 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:28,788 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:28,796 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки GPU/NVIDIA] **********************************************************************************************************************
2025-07-26 16:13:28,796 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:28 +0000 (0:00:00.340)       0:01:12.752 ********* 
2025-07-26 16:13:29,087 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:29,107 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:29,111 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:29,127 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:29,138 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки MySQL] ***************************************************************************************************************************
2025-07-26 16:13:29,138 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:29 +0000 (0:00:00.341)       0:01:13.093 ********* 
2025-07-26 16:13:29,409 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:29,431 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:29,445 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:29,460 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:29,469 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результаты проверки] ********************************************************************************************************************************
2025-07-26 16:13:29,469 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:29 +0000 (0:00:00.331)       0:01:13.424 ********* 
2025-07-26 16:13:29,510 p=107883 u=master n=ansible | ok: [sm01] => 
  msg: "✅ Slurm успешно установлен на sm01\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 16:13:29,528 p=107883 u=master n=ansible | ok: [sm02] => 
  msg: "✅ Slurm успешно установлен на sm02\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 16:13:29,529 p=107883 u=master n=ansible | ok: [cn01] => 
  msg: "✅ Slurm успешно установлен на cn01\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 16:13:29,543 p=107883 u=master n=ansible | ok: [cn02] => 
  msg: "✅ Slurm успешно установлен на cn02\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 16:13:29,551 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Сборка завершена успешно] ***************************************************************************************************************************
2025-07-26 16:13:29,551 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:29 +0000 (0:00:00.082)       0:01:13.506 ********* 
2025-07-26 16:13:29,587 p=107883 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на sm01"
2025-07-26 16:13:29,606 p=107883 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на sm02"
2025-07-26 16:13:29,608 p=107883 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на cn01"
2025-07-26 16:13:29,622 p=107883 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на cn02"
2025-07-26 16:13:29,631 p=107883 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Очистка временных файлов из NFS] ********************************************************************************************************************
2025-07-26 16:13:29,631 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:29 +0000 (0:00:00.079)       0:01:13.586 ********* 
2025-07-26 16:13:29,667 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:13:29,683 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:13:29,694 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:13:30,288 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:13:30,323 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Начало установки Enroot + Pyxis] **********************************************************************************************************************
2025-07-26 16:13:30,323 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:30 +0000 (0:00:00.692)       0:01:14.278 ********* 
2025-07-26 16:13:30,380 p=107883 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F680 Установка контейнерной поддержки на sm01\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 16:13:30,388 p=107883 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F680 Установка контейнерной поддержки на sm02\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 16:13:30,404 p=107883 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F680 Установка контейнерной поддержки на cn01\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 16:13:30,420 p=107883 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F680 Установка контейнерной поддержки на cn02\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 16:13:30,428 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Установка системных зависимостей] *********************************************************************************************************************
2025-07-26 16:13:30,429 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:30 +0000 (0:00:00.105)       0:01:14.384 ********* 
2025-07-26 16:13:33,924 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:34,065 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:35,048 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:36,620 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:36,663 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Создание базовых директорий] **************************************************************************************************************************
2025-07-26 16:13:36,663 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:36 +0000 (0:00:06.234)       0:01:20.618 ********* 
2025-07-26 16:13:36,974 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/enroot'})
2025-07-26 16:13:36,994 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/etc/enroot'})
2025-07-26 16:13:37,027 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/enroot'})
2025-07-26 16:13:37,047 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/enroot'})
2025-07-26 16:13:37,257 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/var/lib/enroot'})
2025-07-26 16:13:37,275 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/var/lib/enroot'})
2025-07-26 16:13:37,307 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/var/lib/enroot'})
2025-07-26 16:13:37,316 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/var/lib/enroot'})
2025-07-26 16:13:37,518 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/var/cache/enroot'})
2025-07-26 16:13:37,536 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/var/cache/enroot'})
2025-07-26 16:13:37,569 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/var/cache/enroot'})
2025-07-26 16:13:37,574 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/var/cache/enroot'})
2025-07-26 16:13:37,781 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/run/enroot', 'mode': '0755'})
2025-07-26 16:13:37,792 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/run/enroot', 'mode': '0755'})
2025-07-26 16:13:37,830 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/run/enroot', 'mode': '0755'})
2025-07-26 16:13:37,831 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/run/enroot', 'mode': '0755'})
2025-07-26 16:13:38,040 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/etc/slurm/prolog.d'})
2025-07-26 16:13:38,050 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/slurm/prolog.d'})
2025-07-26 16:13:38,093 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/slurm/prolog.d'})
2025-07-26 16:13:38,193 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/slurm/prolog.d'})
2025-07-26 16:13:38,347 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/etc/slurm/epilog.d'})
2025-07-26 16:13:38,348 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/slurm/epilog.d'})
2025-07-26 16:13:38,368 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/slurm/epilog.d'})
2025-07-26 16:13:38,543 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/slurm/epilog.d'})
2025-07-26 16:13:38,603 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/tmp/containers-build'})
2025-07-26 16:13:38,610 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/tmp/containers-build'})
2025-07-26 16:13:38,627 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/tmp/containers-build'})
2025-07-26 16:13:38,804 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/tmp/containers-build'})
2025-07-26 16:13:38,859 p=107883 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/enroot/hooks.d'})
2025-07-26 16:13:38,869 p=107883 u=master n=ansible | ok: [sm02] => (item={'path': '/etc/enroot/hooks.d'})
2025-07-26 16:13:38,888 p=107883 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/enroot/hooks.d'})
2025-07-26 16:13:39,062 p=107883 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/enroot/hooks.d'})
2025-07-26 16:13:39,075 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Увеличение размера tmpfs для /run (для больших образов)] **********************************************************************************************
2025-07-26 16:13:39,075 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:39 +0000 (0:00:02.412)       0:01:23.031 ********* 
2025-07-26 16:13:39,372 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:39,393 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:39,405 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:39,451 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:39,460 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Проверка существования Enroot] ************************************************************************************************************************
2025-07-26 16:13:39,460 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:39 +0000 (0:00:00.384)       0:01:23.416 ********* 
2025-07-26 16:13:39,733 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:39,767 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:39,771 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:39,795 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:39,805 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Скачивание Enroot 3.5.0] ******************************************************************************************************************************
2025-07-26 16:13:39,805 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:39 +0000 (0:00:00.344)       0:01:23.760 ********* 
2025-07-26 16:13:39,825 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:13:39,840 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:13:39,858 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:13:39,870 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:13:39,878 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Установка Enroot из DEB пакета] ***********************************************************************************************************************
2025-07-26 16:13:39,878 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:39 +0000 (0:00:00.073)       0:01:23.834 ********* 
2025-07-26 16:13:39,898 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:13:39,914 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:13:39,929 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:13:39,941 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:13:39,950 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Создание конфигурации Enroot] *************************************************************************************************************************
2025-07-26 16:13:39,950 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:39 +0000 (0:00:00.071)       0:01:23.905 ********* 
2025-07-26 16:13:40,574 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:40,867 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:40,940 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:40,940 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:40,949 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Проверка существования Pyxis] *************************************************************************************************************************
2025-07-26 16:13:40,950 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:40 +0000 (0:00:00.999)       0:01:24.905 ********* 
2025-07-26 16:13:41,231 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:41,261 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:41,268 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:41,281 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:41,292 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Скачивание исходников Pyxis 0.20.0] *******************************************************************************************************************
2025-07-26 16:13:41,292 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:41 +0000 (0:00:00.342)       0:01:25.247 ********* 
2025-07-26 16:13:41,328 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:13:41,344 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:13:41,345 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:13:41,356 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:13:41,367 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Извлечение исходников Pyxis] **************************************************************************************************************************
2025-07-26 16:13:41,367 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:41 +0000 (0:00:00.075)       0:01:25.323 ********* 
2025-07-26 16:13:41,389 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:13:41,406 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:13:41,422 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:13:41,434 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:13:41,443 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Компиляция Pyxis] *************************************************************************************************************************************
2025-07-26 16:13:41,443 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:41 +0000 (0:00:00.076)       0:01:25.399 ********* 
2025-07-26 16:13:41,464 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:13:41,483 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:13:41,499 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:13:41,510 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:13:41,519 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Установка Slurm PMI hook] *****************************************************************************************************************************
2025-07-26 16:13:41,519 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:41 +0000 (0:00:00.075)       0:01:25.474 ********* 
2025-07-26 16:13:41,554 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:13:41,573 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:13:41,825 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:41,848 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:41,857 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Установка Slurm PyTorch hook] *************************************************************************************************************************
2025-07-26 16:13:41,858 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:41 +0000 (0:00:00.338)       0:01:25.813 ********* 
2025-07-26 16:13:41,890 p=107883 u=master n=ansible | skipping: [sm01]
2025-07-26 16:13:41,914 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:13:42,197 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:42,214 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:42,224 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Создание plugstack.conf для SPANK плагина] ************************************************************************************************************
2025-07-26 16:13:42,225 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:42 +0000 (0:00:00.367)       0:01:26.180 ********* 
2025-07-26 16:13:43,167 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:13:43,815 p=107883 u=master n=ansible | changed: [cn01]
2025-07-26 16:13:43,930 p=107883 u=master n=ansible | changed: [sm02]
2025-07-26 16:13:43,999 p=107883 u=master n=ansible | changed: [cn02]
2025-07-26 16:13:44,008 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Создание Prolog скрипта] ******************************************************************************************************************************
2025-07-26 16:13:44,008 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:44 +0000 (0:00:01.783)       0:01:27.963 ********* 
2025-07-26 16:13:44,626 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:44,845 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:44,927 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:44,927 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:44,937 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Создание Epilog скрипта] ******************************************************************************************************************************
2025-07-26 16:13:44,937 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:44 +0000 (0:00:00.928)       0:01:28.892 ********* 
2025-07-26 16:13:45,556 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:45,595 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:45,597 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:45,688 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:45,732 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Проверка версии Enroot] *******************************************************************************************************************************
2025-07-26 16:13:45,732 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:45 +0000 (0:00:00.795)       0:01:29.688 ********* 
2025-07-26 16:13:46,048 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:46,072 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:46,098 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:46,103 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:46,112 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Проверка SPANK плагина Pyxis] *************************************************************************************************************************
2025-07-26 16:13:46,113 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:46 +0000 (0:00:00.380)       0:01:30.068 ********* 
2025-07-26 16:13:46,393 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:46,421 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:46,423 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:46,437 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:46,446 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Тест базовой функциональности Enroot] *****************************************************************************************************************
2025-07-26 16:13:46,446 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:46 +0000 (0:00:00.333)       0:01:30.401 ********* 
2025-07-26 16:13:46,778 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:46,792 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:46,806 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:46,829 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:46,838 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Проверка GPU поддержки (если доступны)] ***************************************************************************************************************
2025-07-26 16:13:46,838 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:46 +0000 (0:00:00.391)       0:01:30.793 ********* 
2025-07-26 16:13:47,106 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:47,131 p=107883 u=master n=ansible | ok: [sm02]
2025-07-26 16:13:47,147 p=107883 u=master n=ansible | ok: [cn01]
2025-07-26 16:13:47,158 p=107883 u=master n=ansible | ok: [cn02]
2025-07-26 16:13:47,169 p=107883 u=master n=ansible | TASK [containers : [CONTAINERS] Результат установки контейнерной поддержки] ***********************************************************************************************************
2025-07-26 16:13:47,169 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:47 +0000 (0:00:00.331)       0:01:31.124 ********* 
2025-07-26 16:13:47,228 p=107883 u=master n=ansible | ok: [sm01] => 
  msg: "✅ Контейнерная поддержка установлена на sm01!\n\n\U0001F4E6 Компоненты:\n\U0001F527 Enroot: 3.5.0\n\U0001F50C Pyxis SPANK: установлен\n\n\U0001F3AE GPU поддержка: включена\n\U0001F4CA GPU обнаружено: 0 шт.\n\n\U0001F5C2️ Монтируемые директории:\n\U0001F4C1 /home:/home\n\U0001F4C1 /sw:/sw\n\U0001F4C1 /opt/slurm:/opt/slurm:ro\n\n\U0001F527 Конфигурация:\n\U0001F4DD Enroot: /etc/enroot/enroot.conf\n\U0001F50C SPANK: /etc/slurm/plugstack.conf\n\U0001F4DC Prolog: включен\n\U0001F4DC Epilog: включен\n\n\U0001F680 Готов к запуску контейнерных задач!"
2025-07-26 16:13:47,241 p=107883 u=master n=ansible | ok: [sm02] => 
  msg: "✅ Контейнерная поддержка установлена на sm02!\n\n\U0001F4E6 Компоненты:\n\U0001F527 Enroot: 3.5.0\n\U0001F50C Pyxis SPANK: установлен\n\n\U0001F3AE GPU поддержка: включена\n\U0001F4CA GPU обнаружено: 0 шт.\n\n\U0001F5C2️ Монтируемые директории:\n\U0001F4C1 /home:/home\n\U0001F4C1 /sw:/sw\n\U0001F4C1 /opt/slurm:/opt/slurm:ro\n\n\U0001F527 Конфигурация:\n\U0001F4DD Enroot: /etc/enroot/enroot.conf\n\U0001F50C SPANK: /etc/slurm/plugstack.conf\n\U0001F4DC Prolog: включен\n\U0001F4DC Epilog: включен\n\n\U0001F680 Готов к запуску контейнерных задач!"
2025-07-26 16:13:47,256 p=107883 u=master n=ansible | ok: [cn01] => 
  msg: "✅ Контейнерная поддержка установлена на cn01!\n\n\U0001F4E6 Компоненты:\n\U0001F527 Enroot: 3.5.0\n\U0001F50C Pyxis SPANK: установлен\n\n\U0001F3AE GPU поддержка: включена\n\U0001F4CA GPU обнаружено: 0 шт.\n\n\U0001F5C2️ Монтируемые директории:\n\U0001F4C1 /home:/home\n\U0001F4C1 /sw:/sw\n\U0001F4C1 /opt/slurm:/opt/slurm:ro\n\n\U0001F527 Конфигурация:\n\U0001F4DD Enroot: /etc/enroot/enroot.conf\n\U0001F50C SPANK: /etc/slurm/plugstack.conf\n\U0001F4DC Prolog: включен\n\U0001F4DC Epilog: включен\n\n\U0001F680 Готов к запуску контейнерных задач!"
2025-07-26 16:13:47,276 p=107883 u=master n=ansible | ok: [cn02] => 
  msg: "✅ Контейнерная поддержка установлена на cn02!\n\n\U0001F4E6 Компоненты:\n\U0001F527 Enroot: 3.5.0\n\U0001F50C Pyxis SPANK: установлен\n\n\U0001F3AE GPU поддержка: включена\n\U0001F4CA GPU обнаружено: 0 шт.\n\n\U0001F5C2️ Монтируемые директории:\n\U0001F4C1 /home:/home\n\U0001F4C1 /sw:/sw\n\U0001F4C1 /opt/slurm:/opt/slurm:ro\n\n\U0001F527 Конфигурация:\n\U0001F4DD Enroot: /etc/enroot/enroot.conf\n\U0001F50C SPANK: /etc/slurm/plugstack.conf\n\U0001F4DC Prolog: включен\n\U0001F4DC Epilog: включен\n\n\U0001F680 Готов к запуску контейнерных задач!"
2025-07-26 16:13:47,309 p=107883 u=master n=ansible | TASK [📋 Информация об узле] **********************************************************************************************************************************************************
2025-07-26 16:13:47,309 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:47 +0000 (0:00:00.139)       0:01:31.264 ********* 
2025-07-26 16:13:47,363 p=107883 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F433 Установка контейнеров на sm01\n\U0001F527 Роль: CPU\n\U0001F4BE RAM: 11.4GB"
2025-07-26 16:13:47,384 p=107883 u=master n=ansible | ok: [sm02] => 
  msg: "\U0001F433 Установка контейнеров на sm02\n\U0001F527 Роль: CPU\n\U0001F4BE RAM: 11.4GB"
2025-07-26 16:13:47,396 p=107883 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F433 Установка контейнеров на cn01\n\U0001F527 Роль: GPU\n\U0001F4BE RAM: 11.4GB"
2025-07-26 16:13:47,411 p=107883 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F433 Установка контейнеров на cn02\n\U0001F527 Роль: GPU\n\U0001F4BE RAM: 11.4GB"
2025-07-26 16:13:47,466 p=107883 u=master n=ansible | RUNNING HANDLER [common : restart nfs-server] *****************************************************************************************************************************************
2025-07-26 16:13:47,466 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:47 +0000 (0:00:00.156)       0:01:31.421 ********* 
2025-07-26 16:13:48,659 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:13:48,666 p=107883 u=master n=ansible | RUNNING HANDLER [common : reload nfs-exports] *****************************************************************************************************************************************
2025-07-26 16:13:48,666 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:48 +0000 (0:00:01.200)       0:01:32.622 ********* 
2025-07-26 16:13:48,928 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:13:48,936 p=107883 u=master n=ansible | RUNNING HANDLER [containers : restart slurmctld] **************************************************************************************************************************************
2025-07-26 16:13:48,936 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:48 +0000 (0:00:00.269)       0:01:32.891 ********* 
2025-07-26 16:13:48,973 p=107883 u=master n=ansible | skipping: [sm02]
2025-07-26 16:13:48,990 p=107883 u=master n=ansible | skipping: [cn01]
2025-07-26 16:13:49,001 p=107883 u=master n=ansible | skipping: [cn02]
2025-07-26 16:13:50,650 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:13:50,662 p=107883 u=master n=ansible | TASK [✅ Результат установки] *********************************************************************************************************************************************************
2025-07-26 16:13:50,663 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:50 +0000 (0:00:01.726)       0:01:34.618 ********* 
2025-07-26 16:13:50,722 p=107883 u=master n=ansible | ok: [sm01] => 
  msg: "✅ Контейнеры установлены на sm01\n\U0001F433 Enroot: готов\n\U0001F50C Pyxis: не требуется\n\U0001F3AE NVIDIA: не требуется"
2025-07-26 16:13:50,732 p=107883 u=master n=ansible | ok: [sm02] => 
  msg: "✅ Контейнеры установлены на sm02\n\U0001F433 Enroot: готов\n\U0001F50C Pyxis: не требуется\n\U0001F3AE NVIDIA: не требуется"
2025-07-26 16:13:50,752 p=107883 u=master n=ansible | ok: [cn01] => 
  msg: "✅ Контейнеры установлены на cn01\n\U0001F433 Enroot: готов\n\U0001F50C Pyxis: установлен\n\U0001F3AE NVIDIA: настроено"
2025-07-26 16:13:50,765 p=107883 u=master n=ansible | ok: [cn02] => 
  msg: "✅ Контейнеры установлены на cn02\n\U0001F433 Enroot: готов\n\U0001F50C Pyxis: установлен\n\U0001F3AE NVIDIA: настроено"
2025-07-26 16:13:50,815 p=107883 u=master n=ansible | PLAY [🐳 Этап 2/3: Обновление Slurm конфигурации] *************************************************************************************************************************************
2025-07-26 16:13:50,864 p=107883 u=master n=ansible | TASK [📝 Добавление поддержки контейнеров в slurm.conf] *******************************************************************************************************************************
2025-07-26 16:13:50,864 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:50 +0000 (0:00:00.201)       0:01:34.819 ********* 
2025-07-26 16:13:51,135 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:51,143 p=107883 u=master n=ansible | TASK [📝 Обновление конфигурации в NFS] ***********************************************************************************************************************************************
2025-07-26 16:13:51,144 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:51 +0000 (0:00:00.279)       0:01:35.099 ********* 
2025-07-26 16:13:51,455 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:51,464 p=107883 u=master n=ansible | TASK [🔄 Перезапуск slurmctld для применения изменений] *******************************************************************************************************************************
2025-07-26 16:13:51,464 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:51 +0000 (0:00:00.320)       0:01:35.419 ********* 
2025-07-26 16:13:52,360 p=107883 u=master n=ansible | changed: [sm01]
2025-07-26 16:13:52,386 p=107883 u=master n=ansible | PLAY [🐳 Этап 3/3: Тестирование контейнерной поддержки] *******************************************************************************************************************************
2025-07-26 16:13:52,404 p=107883 u=master n=ansible | TASK [🧪 Комплексное тестирование контейнеров] ****************************************************************************************************************************************
2025-07-26 16:13:52,404 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:52 +0000 (0:00:00.940)       0:01:36.359 ********* 
2025-07-26 16:13:52,774 p=107883 u=master n=ansible | ok: [sm01]
2025-07-26 16:13:52,801 p=107883 u=master n=ansible | PLAY [🎉 ФИНАЛЬНЫЙ ОТЧЕТ ПО КОНТЕЙНЕРИЗАЦИИ] ******************************************************************************************************************************************
2025-07-26 16:13:52,806 p=107883 u=master n=ansible | TASK [📊 Результаты контейнеризации] **************************************************************************************************************************************************
2025-07-26 16:13:52,806 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:52 +0000 (0:00:00.401)       0:01:36.761 ********* 
2025-07-26 16:13:52,866 p=107883 u=master n=ansible | ok: [localhost] => 
  msg: "================================================================================\n\U0001F389 КОНТЕЙНЕРИЗАЦИЯ ЗАВЕРШЕНА!\n================================================================================\n\n\U0001F4CA РЕЗУЛЬТАТЫ ТЕСТИРОВАНИЯ:\n================================================================================\n\U0001F9EA ТЕСТИРОВАНИЕ КОНТЕЙНЕРНОЙ ПОДДЕРЖКИ\n================================================================================\n\n\U0001F433 Тест базового контейнера:\nБазовый тест не прошел\n\n\U0001F427 Тест Ubuntu контейнера:\nUbuntu тест не прошел\n\n\U0001F3AE Тест GPU контейнера:\nGPU тест не прошел\n\n\U0001F4CA Статус узлов после установки:\nNODELIST   NODES PARTITION STATE\ncn01           1  compute* unk\ncn02           1  compute* unk\n\n\U0001F4CB Доступные образы:\n\n================================================================================\n\n================================================================================\n✅ КЛАСТЕР ГОТОВ ДЛЯ
    КОНТЕЙНЕРОВ!\n================================================================================\n\n\U0001F433 Использование контейнеров:\n\n# Простой контейнер\nsrun --container-image=docker://ubuntu:22.04 hostname\n\n# Python/AI контейнер\nsrun --container-image=nvcr.io/nvidia/pytorch:23.12-py3 python --version\n\n# GPU контейнер\nsrun --gres=gpu:1 --container-image=nvcr.io/nvidia/cuda:12.3-runtime-ubuntu22.04 nvidia-smi\n\n# PyTorch с GPU\nsrun --gres=gpu:1 --container-image=nvcr.io/nvidia/pytorch:23.12-py3 python -c \"import torch; print(torch.cuda.is_available())\"\n\n# Интерактивный контейнер\nsrun --pty --container-image=docker://ubuntu:22.04 /bin/bash\n\n# Batch job с контейнером\nsbatch --container-image=nvcr.io/nvidia/pytorch:23.12-py3 my_script.py\n\n\U0001F527 Административные команды:\n- enroot list                    # Список образов\n- enroot import docker://image   # Импорт образа\n- enroot create image            # Создание контейнера\n\n================================================================================"
2025-07-26 16:13:52,872 p=107883 u=master n=ansible | PLAY RECAP ****************************************************************************************************************************************************************************
2025-07-26 16:13:52,872 p=107883 u=master n=ansible | cn01                       : ok=52   changed=6    unreachable=0    failed=0    skipped=30   rescued=0    ignored=0   
2025-07-26 16:13:52,872 p=107883 u=master n=ansible | cn02                       : ok=52   changed=6    unreachable=0    failed=0    skipped=30   rescued=0    ignored=0   
2025-07-26 16:13:52,872 p=107883 u=master n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-26 16:13:52,872 p=107883 u=master n=ansible | sm01                       : ok=72   changed=17   unreachable=0    failed=0    skipped=16   rescued=0    ignored=0   
2025-07-26 16:13:52,872 p=107883 u=master n=ansible | sm02                       : ok=50   changed=6    unreachable=0    failed=0    skipped=32   rescued=0    ignored=0   
2025-07-26 16:13:52,873 p=107883 u=master n=ansible | Playbook run took 0 days, 0 hours, 1 minutes, 36 seconds
2025-07-26 16:13:52,873 p=107883 u=master n=ansible | Saturday 26 July 2025  16:13:52 +0000 (0:00:00.066)       0:01:36.828 ********* 
2025-07-26 16:13:52,873 p=107883 u=master n=ansible | =============================================================================== 
2025-07-26 16:13:52,873 p=107883 u=master n=ansible | slurm_build : [SLURM_BUILD] Копирование Slurm на все узлы из NFS -------------------------------------------------------------------------------------------------------------- 18.67s
2025-07-26 16:13:52,873 p=107883 u=master n=ansible | slurm_build : [SLURM_BUILD] Установка дополнительных зависимостей для сборки --------------------------------------------------------------------------------------------------- 9.05s
2025-07-26 16:13:52,874 p=107883 u=master n=ansible | common : [COMMON] Установка базовых пакетов ------------------------------------------------------------------------------------------------------------------------------------ 8.72s
2025-07-26 16:13:52,874 p=107883 u=master n=ansible | containers : [CONTAINERS] Установка системных зависимостей --------------------------------------------------------------------------------------------------------------------- 6.23s
2025-07-26 16:13:52,874 p=107883 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание символических ссылок для пользовательских команд Slurm ------------------------------------------------------------------------------------ 4.97s
2025-07-26 16:13:52,874 p=107883 u=master n=ansible | containers : [CONTAINERS] Создание базовых директорий -------------------------------------------------------------------------------------------------------------------------- 2.41s
2025-07-26 16:13:52,874 p=107883 u=master n=ansible | common : [COMMON] Запуск и включение MUNGE ------------------------------------------------------------------------------------------------------------------------------------- 2.02s
2025-07-26 16:13:52,874 p=107883 u=master n=ansible | common : [COMMON] Остановка MUNGE перед настройкой ----------------------------------------------------------------------------------------------------------------------------- 1.93s
2025-07-26 16:13:52,874 p=107883 u=master n=ansible | containers : [CONTAINERS] Создание plugstack.conf для SPANK плагина ------------------------------------------------------------------------------------------------------------ 1.78s
2025-07-26 16:13:52,874 p=107883 u=master n=ansible | common : [COMMON] Создание базовых директорий Slurm ---------------------------------------------------------------------------------------------------------------------------- 1.75s
2025-07-26 16:13:52,874 p=107883 u=master n=ansible | containers : restart slurmctld ------------------------------------------------------------------------------------------------------------------------------------------------- 1.73s
2025-07-26 16:13:52,874 p=107883 u=master n=ansible | common : [COMMON] Обновление apt cache ----------------------------------------------------------------------------------------------------------------------------------------- 1.71s
2025-07-26 16:13:52,875 p=107883 u=master n=ansible | common : [COMMON] Настройка экспорта NFS (автоопределение IP) ------------------------------------------------------------------------------------------------------------------ 1.58s
2025-07-26 16:13:52,875 p=107883 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание символических ссылок для системных демонов Slurm ------------------------------------------------------------------------------------------ 1.41s
2025-07-26 16:13:52,875 p=107883 u=master n=ansible | slurm_build : [SLURM_BUILD] ПРОСТОЕ копирование через NFS (С ДЕТАЛЬНЫМ ЛОГИРОВАНИЕМ) ------------------------------------------------------------------------------------------- 1.31s
2025-07-26 16:13:52,875 p=107883 u=master n=ansible | common : [COMMON] Настройка прав доступа MUNGE директорий ---------------------------------------------------------------------------------------------------------------------- 1.27s
2025-07-26 16:13:52,875 p=107883 u=master n=ansible | common : restart nfs-server ---------------------------------------------------------------------------------------------------------------------------------------------------- 1.20s
2025-07-26 16:13:52,875 p=107883 u=master n=ansible | common : [COMMON] Установка HWLOC ---------------------------------------------------------------------------------------------------------------------------------------------- 1.18s
2025-07-26 16:13:52,875 p=107883 u=master n=ansible | common : [COMMON] Установка MUNGE ---------------------------------------------------------------------------------------------------------------------------------------------- 1.15s
2025-07-26 16:13:52,875 p=107883 u=master n=ansible | common : [COMMON] Установка NFS client ----------------------------------------------------------------------------------------------------------------------------------------- 1.10s
2025-07-26 16:19:41,522 p=109229 u=master n=ansible | cn01 | CHANGED => {
    "changed": true,
    "path": "/usr/local/lib/slurm/spank_pyxis.so",
    "state": "absent"
}
2025-07-26 16:19:41,609 p=109229 u=master n=ansible | cn02 | CHANGED => {
    "changed": true,
    "path": "/usr/local/lib/slurm/spank_pyxis.so",
    "state": "absent"
}
2025-07-26 16:19:42,791 p=109270 u=master n=ansible | cn01 | FAILED! => {
    "changed": false,
    "gid": 0,
    "group": "root",
    "mode": "0755",
    "msg": "recurse option requires state to be 'directory'",
    "owner": "root",
    "path": "/usr/local/pyxis",
    "size": 4096,
    "state": "directory",
    "uid": 0
}
2025-07-26 16:19:42,795 p=109270 u=master n=ansible | cn02 | FAILED! => {
    "changed": false,
    "gid": 0,
    "group": "root",
    "mode": "0755",
    "msg": "recurse option requires state to be 'directory'",
    "owner": "root",
    "path": "/usr/local/pyxis",
    "size": 4096,
    "state": "directory",
    "uid": 0
}
2025-07-26 16:20:34,296 p=109312 u=master n=ansible | cn02 | CHANGED => {
    "changed": true,
    "path": "/usr/local/pyxis",
    "state": "absent"
}
2025-07-26 16:20:34,299 p=109312 u=master n=ansible | cn01 | CHANGED => {
    "changed": true,
    "path": "/usr/local/pyxis",
    "state": "absent"
}
2025-07-26 16:22:22,052 p=109383 u=master n=ansible | PLAY [🐳 Установка контейнерной поддержки] ********************************************************************************************************************************************
2025-07-26 16:22:22,053 p=109383 u=master n=ansible | skipping: no hosts matched
2025-07-26 16:22:22,056 p=109383 u=master n=ansible | PLAY [🐳 Этап 1/3: Установка Enroot на все узлы] **************************************************************************************************************************************
2025-07-26 16:22:22,150 p=109383 u=master n=ansible | TASK [containers : [CONTAINERS] Проверка существования Pyxis] *************************************************************************************************************************
2025-07-26 16:22:22,150 p=109383 u=master n=ansible | Saturday 26 July 2025  16:22:22 +0000 (0:00:00.099)       0:00:00.099 ********* 
2025-07-26 16:22:23,247 p=109383 u=master n=ansible | ok: [cn01]
2025-07-26 16:22:23,465 p=109383 u=master n=ansible | ok: [cn02]
2025-07-26 16:22:23,478 p=109383 u=master n=ansible | TASK [containers : [CONTAINERS] Скачивание исходников Pyxis 0.20.0] *******************************************************************************************************************
2025-07-26 16:22:23,478 p=109383 u=master n=ansible | Saturday 26 July 2025  16:22:23 +0000 (0:00:01.328)       0:00:01.427 ********* 
2025-07-26 16:22:24,787 p=109383 u=master n=ansible | ok: [cn01]
2025-07-26 16:22:24,788 p=109383 u=master n=ansible | ok: [cn02]
2025-07-26 16:22:24,798 p=109383 u=master n=ansible | TASK [containers : [CONTAINERS] Извлечение исходников Pyxis] **************************************************************************************************************************
2025-07-26 16:22:24,798 p=109383 u=master n=ansible | Saturday 26 July 2025  16:22:24 +0000 (0:00:01.319)       0:00:02.747 ********* 
2025-07-26 16:22:25,240 p=109383 u=master n=ansible | skipping: [cn01]
2025-07-26 16:22:25,245 p=109383 u=master n=ansible | skipping: [cn02]
2025-07-26 16:22:25,254 p=109383 u=master n=ansible | TASK [containers : [CONTAINERS] Компиляция Pyxis против правильного Slurm] ************************************************************************************************************
2025-07-26 16:22:25,255 p=109383 u=master n=ansible | Saturday 26 July 2025  16:22:25 +0000 (0:00:00.456)       0:00:03.204 ********* 
2025-07-26 16:22:27,083 p=109383 u=master n=ansible | changed: [cn01]
2025-07-26 16:22:27,146 p=109383 u=master n=ansible | changed: [cn02]
2025-07-26 16:22:27,229 p=109383 u=master n=ansible | PLAY [🐳 Этап 2/3: Обновление Slurm конфигурации] *************************************************************************************************************************************
2025-07-26 16:22:27,229 p=109383 u=master n=ansible | skipping: no hosts matched
2025-07-26 16:22:27,230 p=109383 u=master n=ansible | PLAY [🐳 Этап 3/3: Тестирование контейнерной поддержки] *******************************************************************************************************************************
2025-07-26 16:22:27,230 p=109383 u=master n=ansible | skipping: no hosts matched
2025-07-26 16:22:27,230 p=109383 u=master n=ansible | PLAY [🎉 ФИНАЛЬНЫЙ ОТЧЕТ ПО КОНТЕЙНЕРИЗАЦИИ] ******************************************************************************************************************************************
2025-07-26 16:22:27,231 p=109383 u=master n=ansible | skipping: no hosts matched
2025-07-26 16:22:27,231 p=109383 u=master n=ansible | PLAY RECAP ****************************************************************************************************************************************************************************
2025-07-26 16:22:27,231 p=109383 u=master n=ansible | cn01                       : ok=3    changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2025-07-26 16:22:27,231 p=109383 u=master n=ansible | cn02                       : ok=3    changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2025-07-26 16:22:27,231 p=109383 u=master n=ansible | Playbook run took 0 days, 0 hours, 0 minutes, 5 seconds
2025-07-26 16:22:27,231 p=109383 u=master n=ansible | Saturday 26 July 2025  16:22:27 +0000 (0:00:01.976)       0:00:05.180 ********* 
2025-07-26 16:22:27,231 p=109383 u=master n=ansible | =============================================================================== 
2025-07-26 16:22:27,231 p=109383 u=master n=ansible | containers : [CONTAINERS] Компиляция Pyxis против правильного Slurm ------------------------------------------------------------------------------------------------------------ 1.98s
2025-07-26 16:22:27,232 p=109383 u=master n=ansible | containers : [CONTAINERS] Проверка существования Pyxis ------------------------------------------------------------------------------------------------------------------------- 1.33s
2025-07-26 16:22:27,232 p=109383 u=master n=ansible | containers : [CONTAINERS] Скачивание исходников Pyxis 0.20.0 ------------------------------------------------------------------------------------------------------------------- 1.32s
2025-07-26 16:22:27,232 p=109383 u=master n=ansible | containers : [CONTAINERS] Извлечение исходников Pyxis -------------------------------------------------------------------------------------------------------------------------- 0.46s
2025-07-26 16:23:46,799 p=109553 u=master n=ansible | cn01 | CHANGED | rc=0 >>
lrwxrwxrwx 1 root root 35 Jul 26 19:22 /usr/local/lib/slurm/spank_pyxis.so -> /usr/local/pyxis/lib/spank_pyxis.so

2025-07-26 16:23:46,988 p=109553 u=master n=ansible | cn02 | CHANGED | rc=0 >>
lrwxrwxrwx 1 root root 35 Jul 26 19:22 /usr/local/lib/slurm/spank_pyxis.so -> /usr/local/pyxis/lib/spank_pyxis.so

2025-07-26 16:24:27,206 p=109632 u=master n=ansible | cn02 | FAILED | rc=2 >>
ls: cannot access '/usr/local/pyxis/lib/spank_pyxis.so': No such file or directorynon-zero return code

2025-07-26 16:24:27,211 p=109632 u=master n=ansible | cn01 | FAILED | rc=2 >>
ls: cannot access '/usr/local/pyxis/lib/spank_pyxis.so': No such file or directorynon-zero return code

2025-07-26 16:24:28,322 p=109657 u=master n=ansible | cn02 | CHANGED | rc=0 >>
No slurm libs foundldd: /usr/local/pyxis/lib/spank_pyxis.so: No such file or directory

2025-07-26 16:24:28,326 p=109657 u=master n=ansible | cn01 | CHANGED | rc=0 >>
No slurm libs foundldd: /usr/local/pyxis/lib/spank_pyxis.so: No such file or directory

2025-07-26 16:25:19,036 p=109725 u=master n=ansible | cn01 | CHANGED | rc=0 >>
/usr/local/lib/slurm/spank_pyxis.so

2025-07-26 16:25:19,070 p=109725 u=master n=ansible | cn02 | CHANGED | rc=0 >>
/usr/local/lib/slurm/spank_pyxis.so

2025-07-26 16:25:20,236 p=109750 u=master n=ansible | cn02 | CHANGED | rc=0 >>
total 12
drwxr-xr-x  3 root root 4096 Jul 26 19:22 .
drwxr-xr-x 11 root root 4096 Jul 26 19:22 ..
drwxr-xr-x  3 root root 4096 Jul 26 19:22 lib

2025-07-26 16:25:20,237 p=109750 u=master n=ansible | cn01 | CHANGED | rc=0 >>
total 12
drwxr-xr-x  3 root root 4096 Jul 26 19:22 .
drwxr-xr-x 11 root root 4096 Jul 26 19:22 ..
drwxr-xr-x  3 root root 4096 Jul 26 19:22 lib

2025-07-26 16:25:21,401 p=109770 u=master n=ansible | cn02 | CHANGED | rc=0 >>
-rwxr-xr-x 1 root root 60512 Jul 26 19:22 /tmp/containers-build/pyxis-0.20.0/spank_pyxis.so

2025-07-26 16:25:21,407 p=109770 u=master n=ansible | cn01 | CHANGED | rc=0 >>
-rwxr-xr-x 1 root root 60512 Jul 26 19:22 /tmp/containers-build/pyxis-0.20.0/spank_pyxis.so

2025-07-26 16:26:27,264 p=109810 u=master n=ansible | cn01 | CHANGED | rc=0 >>


2025-07-26 16:26:27,322 p=109810 u=master n=ansible | cn02 | CHANGED | rc=0 >>


2025-07-26 16:26:37,204 p=109877 u=master n=ansible | cn02 | CHANGED | rc=0 >>


2025-07-26 16:26:37,214 p=109877 u=master n=ansible | cn01 | CHANGED | rc=0 >>


2025-07-26 16:26:50,672 p=109932 u=master n=ansible | cn01 | CHANGED | rc=0 >>
-rwxr-xr-x 1 root root 60512 Jul 26 19:26 /usr/local/pyxis/lib/spank_pyxis.so

2025-07-26 16:26:50,674 p=109932 u=master n=ansible | cn02 | CHANGED | rc=0 >>
-rwxr-xr-x 1 root root 60512 Jul 26 19:26 /usr/local/pyxis/lib/spank_pyxis.so

2025-07-26 16:37:24,077 p=110416 u=master n=ansible | cn01 | CHANGED | rc=0 >>
No pkgconfig in custom slurm

2025-07-26 16:37:24,377 p=110416 u=master n=ansible | cn02 | CHANGED | rc=0 >>
No pkgconfig in custom slurm

2025-07-26 16:37:25,499 p=110458 u=master n=ansible | cn01 | CHANGED | rc=0 >>
No headers in custom slurm

2025-07-26 16:37:25,499 p=110458 u=master n=ansible | cn02 | CHANGED | rc=0 >>
No headers in custom slurm

2025-07-26 16:37:26,711 p=110470 u=master n=ansible | cn02 | CHANGED | rc=0 >>
pkg-config slurm failed

2025-07-26 16:37:26,756 p=110470 u=master n=ansible | cn01 | CHANGED | rc=0 >>
pkg-config slurm failed

2025-07-26 16:47:34,916 p=110641 u=master n=ansible | cn01 | CHANGED => {
    "changed": true,
    "gid": 0,
    "group": "root",
    "mode": "0755",
    "owner": "root",
    "path": "/usr/local/src/pyxis",
    "size": 4096,
    "state": "directory",
    "uid": 0
}
2025-07-26 16:47:35,139 p=110641 u=master n=ansible | cn02 | CHANGED => {
    "changed": true,
    "gid": 0,
    "group": "root",
    "mode": "0755",
    "owner": "root",
    "path": "/usr/local/src/pyxis",
    "size": 4096,
    "state": "directory",
    "uid": 0
}
2025-07-26 16:47:36,312 p=110684 u=master n=ansible | cn01 | CHANGED | rc=0 >>


2025-07-26 16:47:36,323 p=110684 u=master n=ansible | cn02 | CHANGED | rc=0 >>


2025-07-26 16:47:38,114 p=110696 u=master n=ansible | cn01 | CHANGED => {
    "changed": true,
    "checksum": "b8e2d9d8268765db8c12f8d91bea88a7ce10c512",
    "dest": "/etc/slurm/plugstack.conf",
    "gid": 0,
    "group": "root",
    "md5sum": "9a7199e4fd55e36be6bdb6da3dddfa61",
    "mode": "0644",
    "owner": "root",
    "size": 44,
    "src": "/home/master/.ansible/tmp/ansible-tmp-1753548457.0644586-110700-217835319717254/source",
    "state": "file",
    "uid": 0
}
2025-07-26 16:47:38,185 p=110696 u=master n=ansible | cn02 | CHANGED => {
    "changed": true,
    "checksum": "b8e2d9d8268765db8c12f8d91bea88a7ce10c512",
    "dest": "/etc/slurm/plugstack.conf",
    "gid": 0,
    "group": "root",
    "md5sum": "9a7199e4fd55e36be6bdb6da3dddfa61",
    "mode": "0644",
    "owner": "root",
    "size": 44,
    "src": "/home/master/.ansible/tmp/ansible-tmp-1753548457.0731225-110701-40811918455988/source",
    "state": "file",
    "uid": 0
}
2025-07-26 16:47:39,693 p=110730 u=master n=ansible | cn01 | CHANGED => {
    "changed": true,
    "name": "slurmd",
    "state": "started",
    "status": {
        "ActiveEnterTimestamp": "Sat 2025-07-26 19:47:39 MSK",
        "ActiveEnterTimestampMonotonic": "79767698301",
        "ActiveExitTimestamp": "Sat 2025-07-26 19:47:34 MSK",
        "ActiveExitTimestampMonotonic": "79762664514",
        "ActiveState": "active",
        "After": "system.slice munge.service systemd-journald.socket tmp.mount sysinit.target network-online.target systemd-tmpfiles-setup.service -.mount basic.target",
        "AllowIsolate": "no",
        "AssertResult": "yes",
        "AssertTimestamp": "Sat 2025-07-26 19:30:45 MSK",
        "AssertTimestampMonotonic": "78753942937",
        "Before": "multi-user.target shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "yes",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "955000",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore",
        "CleanResult": "success",
        "CollectMode": "inactive",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Sat 2025-07-26 19:30:45 MSK",
        "ConditionTimestampMonotonic": "78753942925",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlGroup": "/system.slice/slurmd.service",
        "ControlGroupId": "38631",
        "ControlPID": "0",
        "CoredumpFilter": "0x33",
        "CoredumpReceive": "no",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "DefaultStartupMemoryLow": "0",
        "Delegate": "no",
        "Description": "Slurm node daemon",
        "DevicePolicy": "auto",
        "DynamicUser": "no",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "44547",
        "ExecMainStartTimestamp": "Sat 2025-07-26 19:47:39 MSK",
        "ExecMainStartTimestampMonotonic": "79767698082",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecReloadEx": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/slurmd ; argv[]=/usr/sbin/slurmd -D ; ignore_errors=no ; start_time=[Sat 2025-07-26 19:47:39 MSK] ; stop_time=[n/a] ; pid=44547 ; code=(null) ; status=0/0 }",
        "ExecStartEx": "{ path=/usr/sbin/slurmd ; argv[]=/usr/sbin/slurmd -D ; flags= ; start_time=[Sat 2025-07-26 19:47:39 MSK] ; stop_time=[n/a] ; pid=44547 ; code=(null) ; status=0/0 }",
        "ExitType": "main",
        "ExtensionImagePolicy": "root=verity+signed+encrypted+unprotected+absent:usr=verity+signed+encrypted+unprotected+absent:home=encrypted+unprotected+absent:srv=encrypted+unprotected+absent:tmp=encrypted+unprotected+absent:var=encrypted+unprotected+absent",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FileDescriptorStorePreserve": "restart",
        "FinalKillSignal": "9",
        "FragmentPath": "/etc/systemd/system/slurmd.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOReadBytes": "[not set]",
        "IOReadOperations": "[not set]",
        "IOSchedulingClass": "2",
        "IOSchedulingPriority": "4",
        "IOWeight": "[not set]",
        "IOWriteBytes": "[not set]",
        "IOWriteOperations": "[not set]",
        "IPAccounting": "no",
        "IPEgressBytes": "[no data]",
        "IPEgressPackets": "[no data]",
        "IPIngressBytes": "[no data]",
        "IPIngressPackets": "[no data]",
        "Id": "slurmd.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestamp": "Sat 2025-07-26 19:47:34 MSK",
        "InactiveEnterTimestampMonotonic": "79762664514",
        "InactiveExitTimestamp": "Sat 2025-07-26 19:47:34 MSK",
        "InactiveExitTimestampMonotonic": "79762664952",
        "InvocationID": "a6372d1ee77141219989742ba21e11eb",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "control-group",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "8388608",
        "LimitMEMLOCKSoft": "8388608",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "65536",
        "LimitNOFILESoft": "65536",
        "LimitNPROC": "46581",
        "LimitNPROCSoft": "46581",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "46581",
        "LimitSIGPENDINGSoft": "46581",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "44547",
        "ManagedOOMMemoryPressure": "auto",
        "ManagedOOMMemoryPressureLimit": "0",
        "ManagedOOMPreference": "none",
        "ManagedOOMSwap": "auto",
        "MemoryAccounting": "yes",
        "MemoryAvailable": "11682238464",
        "MemoryCurrent": "262144",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryKSM": "no",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemoryPeak": "262144",
        "MemoryPressureThresholdUSec": "200ms",
        "MemoryPressureWatch": "auto",
        "MemorySwapCurrent": "0",
        "MemorySwapMax": "infinity",
        "MemorySwapPeak": "0",
        "MemoryZSwapCurrent": "0",
        "MemoryZSwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountImagePolicy": "root=verity+signed+encrypted+unprotected+absent:usr=verity+signed+encrypted+unprotected+absent:home=encrypted+unprotected+absent:srv=encrypted+unprotected+absent:tmp=encrypted+unprotected+absent:var=encrypted+unprotected+absent",
        "NFileDescriptorStore": "0",
        "NRestarts": "197",
        "NUMAPolicy": "n/a",
        "Names": "slurmd.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "yes",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMPolicy": "stop",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "OnSuccessJobMode": "fail",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateIPC": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "yes",
        "PrivateUsers": "no",
        "ProcSubset": "all",
        "ProtectClock": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectHostname": "no",
        "ProtectKernelLogs": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectProc": "default",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "ReloadResult": "success",
        "ReloadSignal": "1",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "-.mount sysinit.target system.slice",
        "RequiresMountsFor": "/var/tmp",
        "Restart": "on-failure",
        "RestartKillSignal": "15",
        "RestartMaxDelayUSec": "infinity",
        "RestartMode": "normal",
        "RestartSteps": "0",
        "RestartUSec": "5s",
        "RestartUSecNext": "5s",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RootEphemeral": "no",
        "RootImagePolicy": "root=verity+signed+encrypted+unprotected+absent:usr=verity+signed+encrypted+unprotected+absent:home=encrypted+unprotected+absent:srv=encrypted+unprotected+absent:tmp=encrypted+unprotected+absent:var=encrypted+unprotected+absent",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "RuntimeRandomizedExtraUSec": "0",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "SetLoginEnvironment": "no",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "0",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StartupMemoryHigh": "infinity",
        "StartupMemoryLow": "0",
        "StartupMemoryMax": "infinity",
        "StartupMemorySwapMax": "infinity",
        "StartupMemoryZSwapMax": "infinity",
        "StateChangeTimestamp": "Sat 2025-07-26 19:47:39 MSK",
        "StateChangeTimestampMonotonic": "79767698301",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "running",
        "SuccessAction": "none",
        "SurviveFinalKillSignal": "no",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "2147483646",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "1",
        "TasksMax": "infinity",
        "TimeoutAbortUSec": "1min 30s",
        "TimeoutCleanUSec": "infinity",
        "TimeoutStartFailureMode": "terminate",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopFailureMode": "terminate",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "simple",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "enabled",
        "UtmpMode": "init",
        "WantedBy": "multi-user.target",
        "Wants": "munge.service tmp.mount network-online.target",
        "WatchdogSignal": "6",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}
2025-07-26 16:47:39,738 p=110730 u=master n=ansible | cn02 | CHANGED => {
    "changed": true,
    "name": "slurmd",
    "state": "started",
    "status": {
        "ActiveEnterTimestamp": "Sat 2025-07-26 19:47:37 MSK",
        "ActiveEnterTimestampMonotonic": "79721112292",
        "ActiveExitTimestamp": "Sat 2025-07-26 19:47:37 MSK",
        "ActiveExitTimestampMonotonic": "79721135199",
        "ActiveState": "activating",
        "After": "-.mount system.slice tmp.mount basic.target munge.service sysinit.target systemd-journald.socket network-online.target systemd-tmpfiles-setup.service",
        "AllowIsolate": "no",
        "AssertResult": "yes",
        "AssertTimestamp": "Sat 2025-07-26 00:37:52 MSK",
        "AssertTimestampMonotonic": "10736117295",
        "Before": "shutdown.target multi-user.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "yes",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "18859000",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore",
        "CleanResult": "success",
        "CollectMode": "inactive",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Sat 2025-07-26 00:37:52 MSK",
        "ConditionTimestampMonotonic": "10736117276",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlGroupId": "38845",
        "ControlPID": "0",
        "CoredumpFilter": "0x33",
        "CoredumpReceive": "no",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "DefaultStartupMemoryLow": "0",
        "Delegate": "no",
        "Description": "Slurm node daemon",
        "DevicePolicy": "auto",
        "DynamicUser": "no",
        "ExecMainCode": "1",
        "ExecMainExitTimestamp": "Sat 2025-07-26 19:47:37 MSK",
        "ExecMainExitTimestampMonotonic": "79721134870",
        "ExecMainPID": "44010",
        "ExecMainStartTimestamp": "Sat 2025-07-26 19:47:37 MSK",
        "ExecMainStartTimestampMonotonic": "79721112098",
        "ExecMainStatus": "1",
        "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecReloadEx": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/slurmd ; argv[]=/usr/sbin/slurmd -D ; ignore_errors=no ; start_time=[Sat 2025-07-26 19:47:37 MSK] ; stop_time=[Sat 2025-07-26 19:47:37 MSK] ; pid=44010 ; code=exited ; status=1 }",
        "ExecStartEx": "{ path=/usr/sbin/slurmd ; argv[]=/usr/sbin/slurmd -D ; flags= ; start_time=[Sat 2025-07-26 19:47:37 MSK] ; stop_time=[Sat 2025-07-26 19:47:37 MSK] ; pid=44010 ; code=exited ; status=1 }",
        "ExitType": "main",
        "ExtensionImagePolicy": "root=verity+signed+encrypted+unprotected+absent:usr=verity+signed+encrypted+unprotected+absent:home=encrypted+unprotected+absent:srv=encrypted+unprotected+absent:tmp=encrypted+unprotected+absent:var=encrypted+unprotected+absent",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FileDescriptorStorePreserve": "restart",
        "FinalKillSignal": "9",
        "FragmentPath": "/etc/systemd/system/slurmd.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOReadBytes": "[not set]",
        "IOReadOperations": "[not set]",
        "IOSchedulingClass": "2",
        "IOSchedulingPriority": "4",
        "IOWeight": "[not set]",
        "IOWriteBytes": "[not set]",
        "IOWriteOperations": "[not set]",
        "IPAccounting": "no",
        "IPEgressBytes": "[no data]",
        "IPEgressPackets": "[no data]",
        "IPIngressBytes": "[no data]",
        "IPIngressPackets": "[no data]",
        "Id": "slurmd.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestamp": "Sat 2025-07-26 19:47:37 MSK",
        "InactiveEnterTimestampMonotonic": "79721135199",
        "InactiveExitTimestamp": "Sat 2025-07-26 19:47:37 MSK",
        "InactiveExitTimestampMonotonic": "79721135659",
        "InvocationID": "cff1acd874a44d68b04611e74d006d15",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "control-group",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "8388608",
        "LimitMEMLOCKSoft": "8388608",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "65536",
        "LimitNOFILESoft": "65536",
        "LimitNPROC": "46581",
        "LimitNPROCSoft": "46581",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "46581",
        "LimitSIGPENDINGSoft": "46581",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "0",
        "ManagedOOMMemoryPressure": "auto",
        "ManagedOOMMemoryPressureLimit": "0",
        "ManagedOOMPreference": "none",
        "ManagedOOMSwap": "auto",
        "MemoryAccounting": "yes",
        "MemoryAvailable": "11731529728",
        "MemoryCurrent": "[not set]",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryKSM": "no",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemoryPeak": "[not set]",
        "MemoryPressureThresholdUSec": "200ms",
        "MemoryPressureWatch": "auto",
        "MemorySwapCurrent": "[not set]",
        "MemorySwapMax": "infinity",
        "MemorySwapPeak": "[not set]",
        "MemoryZSwapCurrent": "[not set]",
        "MemoryZSwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountImagePolicy": "root=verity+signed+encrypted+unprotected+absent:usr=verity+signed+encrypted+unprotected+absent:home=encrypted+unprotected+absent:srv=encrypted+unprotected+absent:tmp=encrypted+unprotected+absent:var=encrypted+unprotected+absent",
        "NFileDescriptorStore": "0",
        "NRestarts": "400",
        "NUMAPolicy": "n/a",
        "Names": "slurmd.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "yes",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMPolicy": "stop",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "OnSuccessJobMode": "fail",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateIPC": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "yes",
        "PrivateUsers": "no",
        "ProcSubset": "all",
        "ProtectClock": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectHostname": "no",
        "ProtectKernelLogs": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectProc": "default",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "ReloadResult": "success",
        "ReloadSignal": "1",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "-.mount sysinit.target system.slice",
        "RequiresMountsFor": "/var/tmp",
        "Restart": "on-failure",
        "RestartKillSignal": "15",
        "RestartMaxDelayUSec": "infinity",
        "RestartMode": "normal",
        "RestartSteps": "0",
        "RestartUSec": "5s",
        "RestartUSecNext": "5s",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "exit-code",
        "RootDirectoryStartOnly": "no",
        "RootEphemeral": "no",
        "RootImagePolicy": "root=verity+signed+encrypted+unprotected+absent:usr=verity+signed+encrypted+unprotected+absent:home=encrypted+unprotected+absent:srv=encrypted+unprotected+absent:tmp=encrypted+unprotected+absent:var=encrypted+unprotected+absent",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "RuntimeRandomizedExtraUSec": "0",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "SetLoginEnvironment": "no",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "0",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StartupMemoryHigh": "infinity",
        "StartupMemoryLow": "0",
        "StartupMemoryMax": "infinity",
        "StartupMemorySwapMax": "infinity",
        "StartupMemoryZSwapMax": "infinity",
        "StateChangeTimestamp": "Sat 2025-07-26 19:47:37 MSK",
        "StateChangeTimestampMonotonic": "79721135659",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "auto-restart",
        "SuccessAction": "none",
        "SurviveFinalKillSignal": "no",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "2147483646",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "[not set]",
        "TasksMax": "infinity",
        "TimeoutAbortUSec": "1min 30s",
        "TimeoutCleanUSec": "infinity",
        "TimeoutStartFailureMode": "terminate",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopFailureMode": "terminate",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "simple",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "enabled",
        "UtmpMode": "init",
        "WantedBy": "multi-user.target",
        "Wants": "munge.service network-online.target tmp.mount",
        "WatchdogSignal": "6",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}
2025-07-26 16:50:20,084 p=110781 u=master n=ansible | cn02 | CHANGED => {
    "changed": true,
    "stderr": "\nRunning kernel seems to be up-to-date.\n\nRestarting services...\n\nService restarts being deferred:\n /etc/needrestart/restart.d/dbus.service\n systemctl restart getty@tty1.service\n systemctl restart systemd-logind.service\n systemctl restart unattended-upgrades.service\n\nNo containers need to be restarted.\n\nNo user sessions are running outdated binaries.\n\nNo VM guests are running outdated hypervisor (qemu) binaries on this host.\n",
    "stderr_lines": [
        "",
        "Running kernel seems to be up-to-date.",
        "",
        "Restarting services...",
        "",
        "Service restarts being deferred:",
        " /etc/needrestart/restart.d/dbus.service",
        " systemctl restart getty@tty1.service",
        " systemctl restart systemd-logind.service",
        " systemctl restart unattended-upgrades.service",
        "",
        "No containers need to be restarted.",
        "",
        "No user sessions are running outdated binaries.",
        "",
        "No VM guests are running outdated hypervisor (qemu) binaries on this host."
    ],
    "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following package was automatically installed and is no longer required:\n  libslurm40t64\nUse 'sudo apt autoremove' to remove it.\nThe following packages will be REMOVED:\n  libslurm-dev\n0 upgraded, 0 newly installed, 1 to remove and 1 not upgraded.\nAfter this operation, 4956 kB disk space will be freed.\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 94181 files and directories currently installed.)\r\nRemoving libslurm-dev (23.11.4-1.2ubuntu5) ...\r\n",
    "stdout_lines": [
        "Reading package lists...",
        "Building dependency tree...",
        "Reading state information...",
        "The following package was automatically installed and is no longer required:",
        "  libslurm40t64",
        "Use 'sudo apt autoremove' to remove it.",
        "The following packages will be REMOVED:",
        "  libslurm-dev",
        "0 upgraded, 0 newly installed, 1 to remove and 1 not upgraded.",
        "After this operation, 4956 kB disk space will be freed.",
        "(Reading database ... ",
        "(Reading database ... 5%",
        "(Reading database ... 10%",
        "(Reading database ... 15%",
        "(Reading database ... 20%",
        "(Reading database ... 25%",
        "(Reading database ... 30%",
        "(Reading database ... 35%",
        "(Reading database ... 40%",
        "(Reading database ... 45%",
        "(Reading database ... 50%",
        "(Reading database ... 55%",
        "(Reading database ... 60%",
        "(Reading database ... 65%",
        "(Reading database ... 70%",
        "(Reading database ... 75%",
        "(Reading database ... 80%",
        "(Reading database ... 85%",
        "(Reading database ... 90%",
        "(Reading database ... 95%",
        "(Reading database ... 100%",
        "(Reading database ... 94181 files and directories currently installed.)",
        "Removing libslurm-dev (23.11.4-1.2ubuntu5) ..."
    ]
}
2025-07-26 16:50:20,240 p=110781 u=master n=ansible | cn01 | CHANGED => {
    "changed": true,
    "stderr": "\nRunning kernel seems to be up-to-date.\n\nRestarting services...\n\nService restarts being deferred:\n /etc/needrestart/restart.d/dbus.service\n systemctl restart getty@tty1.service\n systemctl restart systemd-logind.service\n systemctl restart unattended-upgrades.service\n\nNo containers need to be restarted.\n\nNo user sessions are running outdated binaries.\n\nNo VM guests are running outdated hypervisor (qemu) binaries on this host.\n",
    "stderr_lines": [
        "",
        "Running kernel seems to be up-to-date.",
        "",
        "Restarting services...",
        "",
        "Service restarts being deferred:",
        " /etc/needrestart/restart.d/dbus.service",
        " systemctl restart getty@tty1.service",
        " systemctl restart systemd-logind.service",
        " systemctl restart unattended-upgrades.service",
        "",
        "No containers need to be restarted.",
        "",
        "No user sessions are running outdated binaries.",
        "",
        "No VM guests are running outdated hypervisor (qemu) binaries on this host."
    ],
    "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following package was automatically installed and is no longer required:\n  libslurm40t64\nUse 'sudo apt autoremove' to remove it.\nThe following packages will be REMOVED:\n  libslurm-dev\n0 upgraded, 0 newly installed, 1 to remove and 1 not upgraded.\nAfter this operation, 4956 kB disk space will be freed.\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 94181 files and directories currently installed.)\r\nRemoving libslurm-dev (23.11.4-1.2ubuntu5) ...\r\n",
    "stdout_lines": [
        "Reading package lists...",
        "Building dependency tree...",
        "Reading state information...",
        "The following package was automatically installed and is no longer required:",
        "  libslurm40t64",
        "Use 'sudo apt autoremove' to remove it.",
        "The following packages will be REMOVED:",
        "  libslurm-dev",
        "0 upgraded, 0 newly installed, 1 to remove and 1 not upgraded.",
        "After this operation, 4956 kB disk space will be freed.",
        "(Reading database ... ",
        "(Reading database ... 5%",
        "(Reading database ... 10%",
        "(Reading database ... 15%",
        "(Reading database ... 20%",
        "(Reading database ... 25%",
        "(Reading database ... 30%",
        "(Reading database ... 35%",
        "(Reading database ... 40%",
        "(Reading database ... 45%",
        "(Reading database ... 50%",
        "(Reading database ... 55%",
        "(Reading database ... 60%",
        "(Reading database ... 65%",
        "(Reading database ... 70%",
        "(Reading database ... 75%",
        "(Reading database ... 80%",
        "(Reading database ... 85%",
        "(Reading database ... 90%",
        "(Reading database ... 95%",
        "(Reading database ... 100%",
        "(Reading database ... 94181 files and directories currently installed.)",
        "Removing libslurm-dev (23.11.4-1.2ubuntu5) ..."
    ]
}
2025-07-26 16:50:21,392 p=110870 u=master n=ansible | cn01 | CHANGED => {
    "changed": true,
    "path": "/usr/local/src/pyxis/spank_pyxis.so",
    "state": "absent"
}
2025-07-26 16:50:21,404 p=110870 u=master n=ansible | cn02 | CHANGED => {
    "changed": true,
    "path": "/usr/local/src/pyxis/spank_pyxis.so",
    "state": "absent"
}
2025-07-26 16:50:22,687 p=110878 u=master n=ansible | cn02 | FAILED | rc=2 >>
rm -rf common.o args.o pyxis_slurmstepd.o pyxis_slurmd.o pyxis_srun.o pyxis_alloc.o pyxis_dispatch.o config.o enroot.o common.d args.d pyxis_slurmstepd.d pyxis_slurmd.d pyxis_srun.d pyxis_alloc.d pyxis_dispatch.d config.d enroot.d spank_pyxis.so
cc -std=gnu11 -O2 -g -Wall -Wunused-variable -fstack-protector-strong -fpic  -D_GNU_SOURCE -D_FORTIFY_SOURCE=2 -DPYXIS_VERSION=\"0.20.0\"  -MMD -MF common.d -c common.c
cc -std=gnu11 -O2 -g -Wall -Wunused-variable -fstack-protector-strong -fpic  -D_GNU_SOURCE -D_FORTIFY_SOURCE=2 -DPYXIS_VERSION=\"0.20.0\"  -MMD -MF args.d -c args.cIn file included from args.c:9:
args.h:11:10: fatal error: slurm/spank.h: No such file or directory
   11 | #include <slurm/spank.h>
      |          ^~~~~~~~~~~~~~~
compilation terminated.
make: *** [Makefile:29: args.o] Error 1non-zero return code

2025-07-26 16:50:22,839 p=110878 u=master n=ansible | cn01 | FAILED | rc=2 >>
rm -rf common.o args.o pyxis_slurmstepd.o pyxis_slurmd.o pyxis_srun.o pyxis_alloc.o pyxis_dispatch.o config.o enroot.o common.d args.d pyxis_slurmstepd.d pyxis_slurmd.d pyxis_srun.d pyxis_alloc.d pyxis_dispatch.d config.d enroot.d spank_pyxis.so
cc -std=gnu11 -O2 -g -Wall -Wunused-variable -fstack-protector-strong -fpic  -D_GNU_SOURCE -D_FORTIFY_SOURCE=2 -DPYXIS_VERSION=\"0.20.0\"  -MMD -MF common.d -c common.c
cc -std=gnu11 -O2 -g -Wall -Wunused-variable -fstack-protector-strong -fpic  -D_GNU_SOURCE -D_FORTIFY_SOURCE=2 -DPYXIS_VERSION=\"0.20.0\"  -MMD -MF args.d -c args.cIn file included from args.c:9:
args.h:11:10: fatal error: slurm/spank.h: No such file or directory
   11 | #include <slurm/spank.h>
      |          ^~~~~~~~~~~~~~~
compilation terminated.
make: *** [Makefile:29: args.o] Error 1non-zero return code

2025-07-26 16:50:23,987 p=110900 u=master n=ansible | cn01 | FAILED | rc=1 >>
cp: cannot stat '/tmp/containers-build/pyxis-0.20.0/spank_pyxis.so': No such file or directorynon-zero return code

2025-07-26 16:50:24,000 p=110900 u=master n=ansible | cn02 | FAILED | rc=1 >>
cp: cannot stat '/tmp/containers-build/pyxis-0.20.0/spank_pyxis.so': No such file or directorynon-zero return code

2025-07-26 16:50:25,130 p=110916 u=master n=ansible | cn01 | CHANGED | rc=0 >>
SUCCESS: No slurm depsldd: /usr/local/src/pyxis/spank_pyxis.so: No such file or directory

2025-07-26 16:50:25,140 p=110916 u=master n=ansible | cn02 | CHANGED | rc=0 >>
SUCCESS: No slurm depsldd: /usr/local/src/pyxis/spank_pyxis.so: No such file or directory

2025-07-26 17:11:58,424 p=111068 u=master n=ansible | sm01 | FAILED! => {
    "changed": false,
    "gid": 0,
    "group": "root",
    "mode": "0755",
    "msg": "recurse option requires state to be 'directory'",
    "owner": "root",
    "path": "/opt/slurm/include",
    "size": 4096,
    "state": "directory",
    "uid": 0
}
2025-07-26 17:12:54,077 p=111125 u=master n=ansible | sm01 | CHANGED => {
    "changed": true,
    "path": "/opt/slurm/include",
    "state": "absent"
}
2025-07-26 17:13:14,638 p=111180 u=master n=ansible | PLAY [Build Slurm] ********************************************************************************************************************************************************************
2025-07-26 17:13:14,660 p=111180 u=master n=ansible | TASK [Gathering Facts] ****************************************************************************************************************************************************************
2025-07-26 17:13:14,660 p=111180 u=master n=ansible | Saturday 26 July 2025  17:13:14 +0000 (0:00:00.024)       0:00:00.024 ********* 
2025-07-26 17:13:15,969 p=111180 u=master n=ansible | ok: [sm01]
2025-07-26 17:13:15,991 p=111180 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание временной директории для сборки] ***********************************************************************************************************
2025-07-26 17:13:15,991 p=111180 u=master n=ansible | Saturday 26 July 2025  17:13:15 +0000 (0:00:01.331)       0:00:01.355 ********* 
2025-07-26 17:13:16,402 p=111180 u=master n=ansible | ok: [sm01]
2025-07-26 17:13:16,410 p=111180 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Извлечение исходников Slurm] ************************************************************************************************************************
2025-07-26 17:13:16,410 p=111180 u=master n=ansible | Saturday 26 July 2025  17:13:16 +0000 (0:00:00.419)       0:00:01.775 ********* 
2025-07-26 17:13:16,502 p=111180 u=master n=ansible | skipping: [sm01]
2025-07-26 17:13:16,509 p=111180 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Конфигурация сборки Slurm с JWT поддержкой] *********************************************************************************************************
2025-07-26 17:13:16,510 p=111180 u=master n=ansible | Saturday 26 July 2025  17:13:16 +0000 (0:00:00.099)       0:00:01.874 ********* 
2025-07-26 17:13:16,890 p=111180 u=master n=ansible | ok: [sm01]
2025-07-26 17:13:16,898 p=111180 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результат конфигурации] *****************************************************************************************************************************
2025-07-26 17:13:16,898 p=111180 u=master n=ansible | Saturday 26 July 2025  17:13:16 +0000 (0:00:00.388)       0:00:02.263 ********* 
2025-07-26 17:13:16,918 p=111180 u=master n=ansible | skipping: [sm01]
2025-07-26 17:13:16,924 p=111180 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Компиляция Slurm (это займет время...)] *************************************************************************************************************
2025-07-26 17:13:16,925 p=111180 u=master n=ansible | Saturday 26 July 2025  17:13:16 +0000 (0:00:00.026)       0:00:02.289 ********* 
2025-07-26 17:13:17,187 p=111180 u=master n=ansible | ok: [sm01]
2025-07-26 17:13:17,197 p=111180 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка Slurm на master] **************************************************************************************************************************
2025-07-26 17:13:17,197 p=111180 u=master n=ansible | Saturday 26 July 2025  17:13:17 +0000 (0:00:00.272)       0:00:02.562 ********* 
2025-07-26 17:13:17,458 p=111180 u=master n=ansible | ok: [sm01]
2025-07-26 17:13:17,466 p=111180 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка development файлов (headers для Pyxis)] ***************************************************************************************************
2025-07-26 17:13:17,466 p=111180 u=master n=ansible | Saturday 26 July 2025  17:13:17 +0000 (0:00:00.268)       0:00:02.830 ********* 
2025-07-26 17:13:17,749 p=111180 u=master n=ansible | changed: [sm01]
2025-07-26 17:13:17,776 p=111180 u=master n=ansible | PLAY [Setup Slurm Master] *************************************************************************************************************************************************************
2025-07-26 17:13:17,809 p=111180 u=master n=ansible | PLAY [Setup Slurm Login] **************************************************************************************************************************************************************
2025-07-26 17:13:17,810 p=111180 u=master n=ansible | skipping: no hosts matched
2025-07-26 17:13:17,811 p=111180 u=master n=ansible | PLAY [Setup Slurm Compute] ************************************************************************************************************************************************************
2025-07-26 17:13:17,811 p=111180 u=master n=ansible | skipping: no hosts matched
2025-07-26 17:13:17,811 p=111180 u=master n=ansible | PLAY RECAP ****************************************************************************************************************************************************************************
2025-07-26 17:13:17,811 p=111180 u=master n=ansible | sm01                       : ok=6    changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2025-07-26 17:13:17,811 p=111180 u=master n=ansible | Playbook run took 0 days, 0 hours, 0 minutes, 3 seconds
2025-07-26 17:13:17,812 p=111180 u=master n=ansible | Saturday 26 July 2025  17:13:17 +0000 (0:00:00.345)       0:00:03.176 ********* 
2025-07-26 17:13:17,812 p=111180 u=master n=ansible | =============================================================================== 
2025-07-26 17:13:17,812 p=111180 u=master n=ansible | Gathering Facts ---------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.33s
2025-07-26 17:13:17,812 p=111180 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание временной директории для сборки ----------------------------------------------------------------------------------------------------------- 0.42s
2025-07-26 17:13:17,812 p=111180 u=master n=ansible | slurm_build : [SLURM_BUILD] Конфигурация сборки Slurm с JWT поддержкой --------------------------------------------------------------------------------------------------------- 0.39s
2025-07-26 17:13:17,812 p=111180 u=master n=ansible | slurm_build : [SLURM_BUILD] Установка development файлов (headers для Pyxis) --------------------------------------------------------------------------------------------------- 0.35s
2025-07-26 17:13:17,812 p=111180 u=master n=ansible | slurm_build : [SLURM_BUILD] Компиляция Slurm (это займет время...) ------------------------------------------------------------------------------------------------------------- 0.27s
2025-07-26 17:13:17,812 p=111180 u=master n=ansible | slurm_build : [SLURM_BUILD] Установка Slurm на master -------------------------------------------------------------------------------------------------------------------------- 0.27s
2025-07-26 17:13:17,812 p=111180 u=master n=ansible | slurm_build : [SLURM_BUILD] Извлечение исходников Slurm ------------------------------------------------------------------------------------------------------------------------ 0.10s
2025-07-26 17:13:17,812 p=111180 u=master n=ansible | slurm_build : [SLURM_BUILD] Результат конфигурации ----------------------------------------------------------------------------------------------------------------------------- 0.03s
2025-07-26 17:16:11,999 p=111347 u=master n=ansible | ERROR! Empty playbook, nothing to do: /home/master/22Jul/slurm-hpc-cluster/playbooks/rebuild_containers.yml
2025-07-26 17:16:36,728 p=111387 u=master n=ansible | [WARNING]: While constructing a mapping from /home/master/22Jul/slurm-hpc-cluster/roles/containers/defaults/main.yml, line 8, column 1, found a duplicate dict key
(pyxis_build_packages). Using last defined value only.

2025-07-26 17:16:36,832 p=111387 u=master n=ansible | PLAY [🔄 ПОЛНАЯ ПЕРЕСБОРКА: Slurm + Контейнеры] ***************************************************************************************************************************************
2025-07-26 17:16:36,842 p=111387 u=master n=ansible | TASK [📋 Информация о пересборке] *****************************************************************************************************************************************************
2025-07-26 17:16:36,842 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:36 +0000 (0:00:00.011)       0:00:00.011 ********* 
2025-07-26 17:16:36,862 p=111387 u=master n=ansible | ok: [localhost] => 
  msg: "\U0001F504 ПОЛНАЯ ПЕРЕСБОРКА SLURM + КОНТЕЙНЕРЫ\n==========================================\n\U0001F3AF Этап 1: Очистка старых файлов\n\U0001F527 Этап 2: Пересборка Slurm с headers\n\U0001F433 Этап 3: Пересборка Pyxis\n✅ Этап 4: Тестирование\n=========================================="
2025-07-26 17:16:36,869 p=111387 u=master n=ansible | PLAY [🧹 ЭТАП 1: Очистка старых файлов] ***********************************************************************************************************************************************
2025-07-26 17:16:36,896 p=111387 u=master n=ansible | TASK [[CLEANUP] Удаление старых headers Slurm] ****************************************************************************************************************************************
2025-07-26 17:16:36,896 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:36 +0000 (0:00:00.054)       0:00:00.066 ********* 
2025-07-26 17:16:36,926 p=111387 u=master n=ansible | skipping: [sm02]
2025-07-26 17:16:36,933 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:16:36,936 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:16:38,017 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:16:38,025 p=111387 u=master n=ansible | TASK [[CLEANUP] Удаление старого Pyxis] ***********************************************************************************************************************************************
2025-07-26 17:16:38,025 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:38 +0000 (0:00:01.128)       0:00:01.195 ********* 
2025-07-26 17:16:38,047 p=111387 u=master n=ansible | skipping: [sm01] => (item=/usr/local/src/pyxis/spank_pyxis.so) 
2025-07-26 17:16:38,051 p=111387 u=master n=ansible | skipping: [sm01] => (item=/etc/slurm/plugstack.conf) 
2025-07-26 17:16:38,052 p=111387 u=master n=ansible | skipping: [sm02] => (item=/usr/local/src/pyxis/spank_pyxis.so) 
2025-07-26 17:16:38,054 p=111387 u=master n=ansible | skipping: [sm02] => (item=/etc/slurm/plugstack.conf) 
2025-07-26 17:16:38,058 p=111387 u=master n=ansible | skipping: [sm01]
2025-07-26 17:16:38,059 p=111387 u=master n=ansible | skipping: [sm02]
2025-07-26 17:16:39,121 p=111387 u=master n=ansible | ok: [cn01] => (item=/usr/local/src/pyxis/spank_pyxis.so)
2025-07-26 17:16:39,381 p=111387 u=master n=ansible | changed: [cn01] => (item=/etc/slurm/plugstack.conf)
2025-07-26 17:16:39,418 p=111387 u=master n=ansible | ok: [cn02] => (item=/usr/local/src/pyxis/spank_pyxis.so)
2025-07-26 17:16:39,686 p=111387 u=master n=ansible | changed: [cn02] => (item=/etc/slurm/plugstack.conf)
2025-07-26 17:16:39,696 p=111387 u=master n=ansible | TASK [[CLEANUP] Очистка NFS от старых файлов] *****************************************************************************************************************************************
2025-07-26 17:16:39,696 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:39 +0000 (0:00:01.671)       0:00:02.866 ********* 
2025-07-26 17:16:39,725 p=111387 u=master n=ansible | skipping: [sm02]
2025-07-26 17:16:39,728 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:16:39,737 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:16:39,972 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:16:40,009 p=111387 u=master n=ansible | PLAY [🔧 ЭТАП 2: Пересборка Slurm с headers] ******************************************************************************************************************************************
2025-07-26 17:16:40,041 p=111387 u=master n=ansible | TASK [common : [COMMON] Начало выполнения роли common] ********************************************************************************************************************************
2025-07-26 17:16:40,042 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:40 +0000 (0:00:00.345)       0:00:03.211 ********* 
2025-07-26 17:16:40,065 p=111387 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F527 Настройка базовых компонентов на sm01"
2025-07-26 17:16:40,073 p=111387 u=master n=ansible | TASK [common : [COMMON] Обновление apt cache] *****************************************************************************************************************************************
2025-07-26 17:16:40,073 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:40 +0000 (0:00:00.031)       0:00:03.243 ********* 
2025-07-26 17:16:41,941 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:16:41,950 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка базовых пакетов] ************************************************************************************************************************************
2025-07-26 17:16:41,950 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:41 +0000 (0:00:01.876)       0:00:05.120 ********* 
2025-07-26 17:16:54,112 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:16:54,121 p=111387 u=master n=ansible | TASK [common : [COMMON] Настройка timezone] *******************************************************************************************************************************************
2025-07-26 17:16:54,121 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:54 +0000 (0:00:12.171)       0:00:17.291 ********* 
2025-07-26 17:16:54,665 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:16:54,703 p=111387 u=master n=ansible | TASK [common : [COMMON] Создание пользователя slurm] **********************************************************************************************************************************
2025-07-26 17:16:54,703 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:54 +0000 (0:00:00.581)       0:00:17.873 ********* 
2025-07-26 17:16:55,209 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:16:55,218 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка MUNGE] **********************************************************************************************************************************************
2025-07-26 17:16:55,218 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:55 +0000 (0:00:00.515)       0:00:18.388 ********* 
2025-07-26 17:16:56,190 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:16:56,199 p=111387 u=master n=ansible | TASK [common : [COMMON] Остановка MUNGE перед настройкой] *****************************************************************************************************************************
2025-07-26 17:16:56,199 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:56 +0000 (0:00:00.981)       0:00:19.369 ********* 
2025-07-26 17:16:58,133 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:16:58,143 p=111387 u=master n=ansible | TASK [common : [COMMON] Создание MUNGE ключа на master узле] **************************************************************************************************************************
2025-07-26 17:16:58,143 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:58 +0000 (0:00:01.943)       0:00:21.313 ********* 
2025-07-26 17:16:58,525 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:16:58,535 p=111387 u=master n=ansible | TASK [common : [COMMON] Настройка прав доступа MUNGE директорий] **********************************************************************************************************************
2025-07-26 17:16:58,535 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:58 +0000 (0:00:00.391)       0:00:21.705 ********* 
2025-07-26 17:16:58,815 p=111387 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 17:16:59,065 p=111387 u=master n=ansible | ok: [sm01] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 17:16:59,316 p=111387 u=master n=ansible | ok: [sm01] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 17:16:59,567 p=111387 u=master n=ansible | changed: [sm01] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 17:16:59,579 p=111387 u=master n=ansible | TASK [common : [COMMON] Получение MUNGE ключа с мастера] ******************************************************************************************************************************
2025-07-26 17:16:59,580 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:59 +0000 (0:00:01.044)       0:00:22.749 ********* 
2025-07-26 17:16:59,606 p=111387 u=master n=ansible | skipping: [sm01]
2025-07-26 17:16:59,616 p=111387 u=master n=ansible | TASK [common : [COMMON] Создание MUNGE ключа на остальных узлах] **********************************************************************************************************************
2025-07-26 17:16:59,616 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:59 +0000 (0:00:00.035)       0:00:22.785 ********* 
2025-07-26 17:16:59,633 p=111387 u=master n=ansible | skipping: [sm01]
2025-07-26 17:16:59,641 p=111387 u=master n=ansible | TASK [common : [COMMON] Настройка прав доступа на ключ MUNGE (мастер)] ****************************************************************************************************************
2025-07-26 17:16:59,641 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:59 +0000 (0:00:00.025)       0:00:22.811 ********* 
2025-07-26 17:16:59,916 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:16:59,925 p=111387 u=master n=ansible | TASK [common : [COMMON] Запуск и включение MUNGE] *************************************************************************************************************************************
2025-07-26 17:16:59,925 p=111387 u=master n=ansible | Saturday 26 July 2025  17:16:59 +0000 (0:00:00.283)       0:00:23.095 ********* 
2025-07-26 17:17:01,905 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:17:01,917 p=111387 u=master n=ansible | TASK [common : [COMMON] Проверка работы MUNGE] ****************************************************************************************************************************************
2025-07-26 17:17:01,917 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:01 +0000 (0:00:01.992)       0:00:25.087 ********* 
2025-07-26 17:17:02,184 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:02,193 p=111387 u=master n=ansible | TASK [common : [COMMON] Результат проверки MUNGE] *************************************************************************************************************************************
2025-07-26 17:17:02,194 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:02 +0000 (0:00:00.276)       0:00:25.363 ********* 
2025-07-26 17:17:02,221 p=111387 u=master n=ansible | ok: [sm01] => 
  msg: MUNGE работает корректно на sm01
2025-07-26 17:17:02,230 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка HWLOC] **********************************************************************************************************************************************
2025-07-26 17:17:02,230 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:02 +0000 (0:00:00.036)       0:00:25.400 ********* 
2025-07-26 17:17:03,197 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:03,205 p=111387 u=master n=ansible | TASK [common : [COMMON] Проверка HWLOC] ***********************************************************************************************************************************************
2025-07-26 17:17:03,206 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:03 +0000 (0:00:00.975)       0:00:26.375 ********* 
2025-07-26 17:17:03,470 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:03,480 p=111387 u=master n=ansible | TASK [common : [COMMON] Версия HWLOC] *************************************************************************************************************************************************
2025-07-26 17:17:03,480 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:03 +0000 (0:00:00.274)       0:00:26.650 ********* 
2025-07-26 17:17:03,509 p=111387 u=master n=ansible | ok: [sm01] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 17:17:03,518 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка NFS server на master] *******************************************************************************************************************************
2025-07-26 17:17:03,518 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:03 +0000 (0:00:00.037)       0:00:26.688 ********* 
2025-07-26 17:17:04,486 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:04,497 p=111387 u=master n=ansible | TASK [common : [COMMON] Создание директорий для экспорта NFS] *************************************************************************************************************************
2025-07-26 17:17:04,497 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:04 +0000 (0:00:00.979)       0:00:27.667 ********* 
2025-07-26 17:17:04,775 p=111387 u=master n=ansible | ok: [sm01] => (item=/home)
2025-07-26 17:17:05,025 p=111387 u=master n=ansible | ok: [sm01] => (item=/sw)
2025-07-26 17:17:05,036 p=111387 u=master n=ansible | TASK [common : [COMMON] Очистка старых экспортов] *************************************************************************************************************************************
2025-07-26 17:17:05,036 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:05 +0000 (0:00:00.538)       0:00:28.206 ********* 
2025-07-26 17:17:05,433 p=111387 u=master n=ansible | changed: [sm01] => (item=/home)
2025-07-26 17:17:05,674 p=111387 u=master n=ansible | changed: [sm01] => (item=/sw)
2025-07-26 17:17:05,685 p=111387 u=master n=ansible | TASK [common : [COMMON] Настройка экспорта NFS (автоопределение IP)] ******************************************************************************************************************
2025-07-26 17:17:05,686 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:05 +0000 (0:00:00.649)       0:00:28.855 ********* 
2025-07-26 17:17:06,089 p=111387 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': 'cn01'})
2025-07-26 17:17:06,332 p=111387 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': 'cn02'})
2025-07-26 17:17:06,576 p=111387 u=master n=ansible | changed: [sm01] => (item={'path': '/home', 'client_ip': 'sm02'})
2025-07-26 17:17:06,818 p=111387 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': 'cn01'})
2025-07-26 17:17:07,063 p=111387 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': 'cn02'})
2025-07-26 17:17:07,307 p=111387 u=master n=ansible | changed: [sm01] => (item={'path': '/sw', 'client_ip': 'sm02'})
2025-07-26 17:17:07,320 p=111387 u=master n=ansible | TASK [common : [COMMON] Запуск и включение NFS server] ********************************************************************************************************************************
2025-07-26 17:17:07,320 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:07 +0000 (0:00:01.634)       0:00:30.490 ********* 
2025-07-26 17:17:07,807 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:07,819 p=111387 u=master n=ansible | TASK [common : [COMMON] Принудительная перезагрузка экспортов NFS] ********************************************************************************************************************
2025-07-26 17:17:07,819 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:07 +0000 (0:00:00.498)       0:00:30.989 ********* 
2025-07-26 17:17:08,091 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:17:08,100 p=111387 u=master n=ansible | TASK [common : [COMMON] Проверка активных экспортов] **********************************************************************************************************************************
2025-07-26 17:17:08,100 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:08 +0000 (0:00:00.281)       0:00:31.270 ********* 
2025-07-26 17:17:08,530 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:17:08,539 p=111387 u=master n=ansible | TASK [common : [COMMON] Показать активные экспорты] ***********************************************************************************************************************************
2025-07-26 17:17:08,539 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:08 +0000 (0:00:00.438)       0:00:31.709 ********* 
2025-07-26 17:17:08,565 p=111387 u=master n=ansible | ok: [sm01] => 
  nfs_exports_check.stdout_lines:
  - "/home         \tcn01(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/home         \tcn02(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/home         \tsm02(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \tcn01(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \tcn02(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
  - "/sw           \tsm02(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,no_root_squash,no_all_squash)"
2025-07-26 17:17:08,574 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка NFS client] *****************************************************************************************************************************************
2025-07-26 17:17:08,574 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:08 +0000 (0:00:00.034)       0:00:31.744 ********* 
2025-07-26 17:17:08,593 p=111387 u=master n=ansible | skipping: [sm01]
2025-07-26 17:17:08,602 p=111387 u=master n=ansible | TASK [common : [COMMON] Создание точек монтирования NFS] ******************************************************************************************************************************
2025-07-26 17:17:08,602 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:08 +0000 (0:00:00.028)       0:00:31.772 ********* 
2025-07-26 17:17:08,622 p=111387 u=master n=ansible | skipping: [sm01] => (item=/sw) 
2025-07-26 17:17:08,624 p=111387 u=master n=ansible | skipping: [sm01]
2025-07-26 17:17:08,632 p=111387 u=master n=ansible | TASK [common : [COMMON] Монтирование NFS shares (автоопределение сервера)] ************************************************************************************************************
2025-07-26 17:17:08,633 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:08 +0000 (0:00:00.030)       0:00:31.802 ********* 
2025-07-26 17:17:08,653 p=111387 u=master n=ansible | skipping: [sm01] => (item={'path': '/home', 'src': '/home'}) 
2025-07-26 17:17:08,655 p=111387 u=master n=ansible | skipping: [sm01] => (item={'path': '/sw', 'src': '/sw'}) 
2025-07-26 17:17:08,656 p=111387 u=master n=ansible | skipping: [sm01]
2025-07-26 17:17:08,667 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка MariaDB] ********************************************************************************************************************************************
2025-07-26 17:17:08,667 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:08 +0000 (0:00:00.034)       0:00:31.837 ********* 
2025-07-26 17:17:09,641 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:09,651 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка python3-pymysql для Ansible mysql модулей] **********************************************************************************************************
2025-07-26 17:17:09,651 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:09 +0000 (0:00:00.983)       0:00:32.821 ********* 
2025-07-26 17:17:10,687 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:10,697 p=111387 u=master n=ansible | TASK [common : [COMMON] Создание базовых директорий Slurm] ****************************************************************************************************************************
2025-07-26 17:17:10,697 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:10 +0000 (0:00:01.046)       0:00:33.867 ********* 
2025-07-26 17:17:10,978 p=111387 u=master n=ansible | ok: [sm01] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:17:11,230 p=111387 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:17:11,487 p=111387 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:17:11,741 p=111387 u=master n=ansible | ok: [sm01] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:17:12,000 p=111387 u=master n=ansible | ok: [sm01] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 17:17:12,253 p=111387 u=master n=ansible | ok: [sm01] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:17:12,265 p=111387 u=master n=ansible | TASK [common : [COMMON] Роль common выполнена успешно] ********************************************************************************************************************************
2025-07-26 17:17:12,265 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:12 +0000 (0:00:01.567)       0:00:35.435 ********* 
2025-07-26 17:17:12,289 p=111387 u=master n=ansible | ok: [sm01] => 
  msg: ✅ Узел sm01 готов для установки Slurm
2025-07-26 17:17:12,305 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Начало сборки Slurm] ********************************************************************************************************************************
2025-07-26 17:17:12,306 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:12 +0000 (0:00:00.040)       0:00:35.475 ********* 
2025-07-26 17:17:12,330 p=111387 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на sm01"
2025-07-26 17:17:12,339 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка дополнительных зависимостей для сборки] ***************************************************************************************************
2025-07-26 17:17:12,339 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:12 +0000 (0:00:00.033)       0:00:35.509 ********* 
2025-07-26 17:17:30,656 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:17:30,665 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание временной директории для сборки] ***********************************************************************************************************
2025-07-26 17:17:30,665 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:30 +0000 (0:00:18.326)       0:00:53.835 ********* 
2025-07-26 17:17:30,940 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:30,949 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка существования исходников] ******************************************************************************************************************
2025-07-26 17:17:30,950 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:30 +0000 (0:00:00.284)       0:00:54.119 ********* 
2025-07-26 17:17:31,377 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:31,390 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Скачивание исходников Slurm 25.05.1] ****************************************************************************************************************
2025-07-26 17:17:31,391 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:31 +0000 (0:00:00.440)       0:00:54.560 ********* 
2025-07-26 17:17:31,410 p=111387 u=master n=ansible | skipping: [sm01]
2025-07-26 17:17:31,421 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Извлечение исходников Slurm] ************************************************************************************************************************
2025-07-26 17:17:31,422 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:31 +0000 (0:00:00.031)       0:00:54.591 ********* 
2025-07-26 17:17:31,518 p=111387 u=master n=ansible | skipping: [sm01]
2025-07-26 17:17:31,528 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Конфигурация сборки Slurm с JWT поддержкой] *********************************************************************************************************
2025-07-26 17:17:31,528 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:31 +0000 (0:00:00.106)       0:00:54.698 ********* 
2025-07-26 17:17:31,797 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:31,807 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результат конфигурации] *****************************************************************************************************************************
2025-07-26 17:17:31,807 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:31 +0000 (0:00:00.278)       0:00:54.977 ********* 
2025-07-26 17:17:31,828 p=111387 u=master n=ansible | skipping: [sm01]
2025-07-26 17:17:31,837 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Компиляция Slurm (это займет время...)] *************************************************************************************************************
2025-07-26 17:17:31,837 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:31 +0000 (0:00:00.029)       0:00:55.006 ********* 
2025-07-26 17:17:32,108 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:32,117 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка Slurm на master] **************************************************************************************************************************
2025-07-26 17:17:32,117 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:32 +0000 (0:00:00.280)       0:00:55.287 ********* 
2025-07-26 17:17:32,385 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:32,397 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка development файлов (headers для Pyxis)] ***************************************************************************************************
2025-07-26 17:17:32,397 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:32 +0000 (0:00:00.280)       0:00:55.567 ********* 
2025-07-26 17:17:32,681 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:17:32,691 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание директории Slurm на всех узлах] ************************************************************************************************************
2025-07-26 17:17:32,691 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:32 +0000 (0:00:00.293)       0:00:55.861 ********* 
2025-07-26 17:17:32,969 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:32,979 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Исправление прав доступа к /sw на NFS сервере] ******************************************************************************************************
2025-07-26 17:17:32,979 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:32 +0000 (0:00:00.287)       0:00:56.149 ********* 
2025-07-26 17:17:33,253 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:33,262 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] ПРОСТОЕ копирование через NFS (С ДЕТАЛЬНЫМ ЛОГИРОВАНИЕМ)] *******************************************************************************************
2025-07-26 17:17:33,263 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:33 +0000 (0:00:00.283)       0:00:56.432 ********* 
2025-07-26 17:17:34,543 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:17:34,552 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Копирование Slurm на все узлы из NFS] ***************************************************************************************************************
2025-07-26 17:17:34,552 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:34 +0000 (0:00:01.289)       0:00:57.722 ********* 
2025-07-26 17:17:34,570 p=111387 u=master n=ansible | skipping: [sm01]
2025-07-26 17:17:34,578 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание символических ссылок для пользовательских команд Slurm] ************************************************************************************
2025-07-26 17:17:34,578 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:34 +0000 (0:00:00.026)       0:00:57.748 ********* 
2025-07-26 17:17:34,853 p=111387 u=master n=ansible | ok: [sm01] => (item=sinfo)
2025-07-26 17:17:35,120 p=111387 u=master n=ansible | ok: [sm01] => (item=squeue)
2025-07-26 17:17:35,369 p=111387 u=master n=ansible | ok: [sm01] => (item=scancel)
2025-07-26 17:17:35,618 p=111387 u=master n=ansible | ok: [sm01] => (item=sbatch)
2025-07-26 17:17:35,866 p=111387 u=master n=ansible | ok: [sm01] => (item=salloc)
2025-07-26 17:17:36,126 p=111387 u=master n=ansible | ok: [sm01] => (item=srun)
2025-07-26 17:17:36,373 p=111387 u=master n=ansible | ok: [sm01] => (item=sacct)
2025-07-26 17:17:36,624 p=111387 u=master n=ansible | ok: [sm01] => (item=scontrol)
2025-07-26 17:17:36,884 p=111387 u=master n=ansible | ok: [sm01] => (item=sprio)
2025-07-26 17:17:37,142 p=111387 u=master n=ansible | ok: [sm01] => (item=smap)
2025-07-26 17:17:37,403 p=111387 u=master n=ansible | ok: [sm01] => (item=sdiag)
2025-07-26 17:17:37,653 p=111387 u=master n=ansible | ok: [sm01] => (item=sstat)
2025-07-26 17:17:37,911 p=111387 u=master n=ansible | ok: [sm01] => (item=sreport)
2025-07-26 17:17:38,164 p=111387 u=master n=ansible | ok: [sm01] => (item=sacctmgr)
2025-07-26 17:17:38,418 p=111387 u=master n=ansible | ok: [sm01] => (item=sattach)
2025-07-26 17:17:38,677 p=111387 u=master n=ansible | ok: [sm01] => (item=sbcast)
2025-07-26 17:17:38,931 p=111387 u=master n=ansible | ok: [sm01] => (item=sshare)
2025-07-26 17:17:39,274 p=111387 u=master n=ansible | ok: [sm01] => (item=sview)
2025-07-26 17:17:39,283 p=111387 u=master n=ansible | [WARNING]: Cannot set fs attributes on a non-existent symlink target. follow should be set to False to avoid this.

2025-07-26 17:17:39,292 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание символических ссылок для системных демонов Slurm] ******************************************************************************************
2025-07-26 17:17:39,292 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:39 +0000 (0:00:04.713)       0:01:02.462 ********* 
2025-07-26 17:17:39,561 p=111387 u=master n=ansible | ok: [sm01] => (item=slurmctld)
2025-07-26 17:17:39,822 p=111387 u=master n=ansible | ok: [sm01] => (item=slurmd)
2025-07-26 17:17:40,074 p=111387 u=master n=ansible | ok: [sm01] => (item=slurmdbd)
2025-07-26 17:17:40,335 p=111387 u=master n=ansible | ok: [sm01] => (item=slurmrestd)
2025-07-26 17:17:40,595 p=111387 u=master n=ansible | ok: [sm01] => (item=slurmstepd)
2025-07-26 17:17:40,606 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Обновление библиотечного кеша] **********************************************************************************************************************
2025-07-26 17:17:40,606 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:40 +0000 (0:00:01.313)       0:01:03.776 ********* 
2025-07-26 17:17:40,903 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:17:40,912 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка версии Slurm (без подключения к демону)] ***************************************************************************************************
2025-07-26 17:17:40,912 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:40 +0000 (0:00:00.305)       0:01:04.082 ********* 
2025-07-26 17:17:41,182 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:41,192 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки JWT] *****************************************************************************************************************************
2025-07-26 17:17:41,192 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:41 +0000 (0:00:00.280)       0:01:04.362 ********* 
2025-07-26 17:17:41,463 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:41,474 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки GPU/NVIDIA] **********************************************************************************************************************
2025-07-26 17:17:41,474 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:41 +0000 (0:00:00.282)       0:01:04.644 ********* 
2025-07-26 17:17:41,756 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:41,765 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки MySQL] ***************************************************************************************************************************
2025-07-26 17:17:41,766 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:41 +0000 (0:00:00.291)       0:01:04.935 ********* 
2025-07-26 17:17:42,035 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:42,044 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результаты проверки] ********************************************************************************************************************************
2025-07-26 17:17:42,044 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:42 +0000 (0:00:00.278)       0:01:05.214 ********* 
2025-07-26 17:17:42,069 p=111387 u=master n=ansible | ok: [sm01] => 
  msg: "✅ Slurm успешно установлен на sm01\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 17:17:42,077 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Сборка завершена успешно] ***************************************************************************************************************************
2025-07-26 17:17:42,077 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:42 +0000 (0:00:00.032)       0:01:05.247 ********* 
2025-07-26 17:17:42,099 p=111387 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на sm01"
2025-07-26 17:17:42,107 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Очистка временных файлов из NFS] ********************************************************************************************************************
2025-07-26 17:17:42,107 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:42 +0000 (0:00:00.030)       0:01:05.277 ********* 
2025-07-26 17:17:42,489 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:17:42,537 p=111387 u=master n=ansible | TASK [[REBUILD] Информация о пересборке Slurm] ****************************************************************************************************************************************
2025-07-26 17:17:42,538 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:42 +0000 (0:00:00.430)       0:01:05.707 ********* 
2025-07-26 17:17:42,561 p=111387 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F527 Пересборка Slurm на sm01\n\U0001F4C1 Будут установлены headers в /opt/slurm/include/\n\U0001F4E6 Распространение через NFS на все узлы"
2025-07-26 17:17:42,580 p=111387 u=master n=ansible | RUNNING HANDLER [common : restart nfs-server] *****************************************************************************************************************************************
2025-07-26 17:17:42,580 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:42 +0000 (0:00:00.042)       0:01:05.750 ********* 
2025-07-26 17:17:43,769 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:17:43,779 p=111387 u=master n=ansible | RUNNING HANDLER [common : reload nfs-exports] *****************************************************************************************************************************************
2025-07-26 17:17:43,779 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:43 +0000 (0:00:01.198)       0:01:06.949 ********* 
2025-07-26 17:17:44,048 p=111387 u=master n=ansible | changed: [sm01]
2025-07-26 17:17:44,057 p=111387 u=master n=ansible | TASK [[REBUILD] Проверка установки headers] *******************************************************************************************************************************************
2025-07-26 17:17:44,057 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:44 +0000 (0:00:00.277)       0:01:07.227 ********* 
2025-07-26 17:17:44,333 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:44,342 p=111387 u=master n=ansible | TASK [[REBUILD] Результат установки headers] ******************************************************************************************************************************************
2025-07-26 17:17:44,342 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:44 +0000 (0:00:00.285)       0:01:07.512 ********* 
2025-07-26 17:17:44,393 p=111387 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F4C1 Headers в /opt/slurm/include: ✅ установлены\n\U0001F4CA Количество header файлов: 0"
2025-07-26 17:17:44,401 p=111387 u=master n=ansible | TASK [[REBUILD] Подсчет header файлов] ************************************************************************************************************************************************
2025-07-26 17:17:44,402 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:44 +0000 (0:00:00.059)       0:01:07.571 ********* 
2025-07-26 17:17:44,796 p=111387 u=master n=ansible | ok: [sm01]
2025-07-26 17:17:44,805 p=111387 u=master n=ansible | TASK [[REBUILD] Статистика headers] ***************************************************************************************************************************************************
2025-07-26 17:17:44,805 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:44 +0000 (0:00:00.403)       0:01:07.975 ********* 
2025-07-26 17:17:44,828 p=111387 u=master n=ansible | ok: [sm01] => 
  msg: "\U0001F4CA Найдено 6 header файлов\n\U0001F4C1 Готово к компиляции Pyxis"
2025-07-26 17:17:44,845 p=111387 u=master n=ansible | PLAY [📦 ЭТАП 3: Распространение Slurm на все узлы] ***********************************************************************************************************************************
2025-07-26 17:17:44,868 p=111387 u=master n=ansible | TASK [[DISTRIBUTE] Копирование Slurm из NFS] ******************************************************************************************************************************************
2025-07-26 17:17:44,868 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:44 +0000 (0:00:00.062)       0:01:08.038 ********* 
2025-07-26 17:17:44,887 p=111387 u=master n=ansible | skipping: [sm01]
2025-07-26 17:17:48,731 p=111387 u=master n=ansible | changed: [sm02]
2025-07-26 17:17:49,298 p=111387 u=master n=ansible | changed: [cn01]
2025-07-26 17:17:49,499 p=111387 u=master n=ansible | changed: [cn02]
2025-07-26 17:17:49,508 p=111387 u=master n=ansible | TASK [[DISTRIBUTE] Результат распространения] *****************************************************************************************************************************************
2025-07-26 17:17:49,508 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:49 +0000 (0:00:04.640)       0:01:12.678 ********* 
2025-07-26 17:17:49,529 p=111387 u=master n=ansible | skipping: [sm01]
2025-07-26 17:17:49,540 p=111387 u=master n=ansible | ok: [sm02] => 
  distribute_result.stdout_lines: []
2025-07-26 17:17:49,546 p=111387 u=master n=ansible | ok: [cn01] => 
  distribute_result.stdout_lines: []
2025-07-26 17:17:49,554 p=111387 u=master n=ansible | ok: [cn02] => 
  distribute_result.stdout_lines: []
2025-07-26 17:17:49,593 p=111387 u=master n=ansible | PLAY [🐳 ЭТАП 4: Пересборка Pyxis с правильными headers] ******************************************************************************************************************************
2025-07-26 17:17:49,626 p=111387 u=master n=ansible | TASK [common : [COMMON] Начало выполнения роли common] ********************************************************************************************************************************
2025-07-26 17:17:49,626 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:49 +0000 (0:00:00.118)       0:01:12.796 ********* 
2025-07-26 17:17:49,649 p=111387 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F527 Настройка базовых компонентов на cn01"
2025-07-26 17:17:49,657 p=111387 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F527 Настройка базовых компонентов на cn02"
2025-07-26 17:17:49,661 p=111387 u=master n=ansible | TASK [common : [COMMON] Обновление apt cache] *****************************************************************************************************************************************
2025-07-26 17:17:49,661 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:49 +0000 (0:00:00.035)       0:01:12.831 ********* 
2025-07-26 17:17:51,310 p=111387 u=master n=ansible | changed: [cn01]
2025-07-26 17:17:55,423 p=111387 u=master n=ansible | changed: [cn02]
2025-07-26 17:17:55,427 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка базовых пакетов] ************************************************************************************************************************************
2025-07-26 17:17:55,427 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:55 +0000 (0:00:05.765)       0:01:18.597 ********* 
2025-07-26 17:17:56,451 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:17:56,479 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:17:56,483 p=111387 u=master n=ansible | TASK [common : [COMMON] Настройка timezone] *******************************************************************************************************************************************
2025-07-26 17:17:56,484 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:56 +0000 (0:00:01.056)       0:01:19.653 ********* 
2025-07-26 17:17:56,859 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:17:56,878 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:17:56,882 p=111387 u=master n=ansible | TASK [common : [COMMON] Создание пользователя slurm] **********************************************************************************************************************************
2025-07-26 17:17:56,882 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:56 +0000 (0:00:00.398)       0:01:20.052 ********* 
2025-07-26 17:17:57,232 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:17:57,233 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:17:57,236 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка MUNGE] **********************************************************************************************************************************************
2025-07-26 17:17:57,236 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:57 +0000 (0:00:00.353)       0:01:20.406 ********* 
2025-07-26 17:17:58,319 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:17:58,320 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:17:58,323 p=111387 u=master n=ansible | TASK [common : [COMMON] Остановка MUNGE перед настройкой] *****************************************************************************************************************************
2025-07-26 17:17:58,323 p=111387 u=master n=ansible | Saturday 26 July 2025  17:17:58 +0000 (0:00:01.087)       0:01:21.493 ********* 
2025-07-26 17:18:00,002 p=111387 u=master n=ansible | changed: [cn01]
2025-07-26 17:18:00,004 p=111387 u=master n=ansible | changed: [cn02]
2025-07-26 17:18:00,008 p=111387 u=master n=ansible | TASK [common : [COMMON] Создание MUNGE ключа на master узле] **************************************************************************************************************************
2025-07-26 17:18:00,008 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:00 +0000 (0:00:01.684)       0:01:23.178 ********* 
2025-07-26 17:18:00,026 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:00,033 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:00,037 p=111387 u=master n=ansible | TASK [common : [COMMON] Настройка прав доступа MUNGE директорий] **********************************************************************************************************************
2025-07-26 17:18:00,037 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:00 +0000 (0:00:00.028)       0:01:23.207 ********* 
2025-07-26 17:18:00,326 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 17:18:00,327 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 17:18:00,588 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 17:18:00,637 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/var/log/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 17:18:00,848 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 17:18:00,896 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/var/lib/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0700'})
2025-07-26 17:18:01,101 p=111387 u=master n=ansible | changed: [cn02] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 17:18:01,152 p=111387 u=master n=ansible | changed: [cn01] => (item={'path': '/run/munge', 'owner': 'munge', 'group': 'munge', 'mode': '0755'})
2025-07-26 17:18:01,157 p=111387 u=master n=ansible | TASK [common : [COMMON] Получение MUNGE ключа с мастера] ******************************************************************************************************************************
2025-07-26 17:18:01,158 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:01 +0000 (0:00:01.120)       0:01:24.327 ********* 
2025-07-26 17:18:01,561 p=111387 u=master n=ansible | ok: [cn01 -> sm01]
2025-07-26 17:18:01,562 p=111387 u=master n=ansible | ok: [cn02 -> sm01]
2025-07-26 17:18:01,565 p=111387 u=master n=ansible | TASK [common : [COMMON] Создание MUNGE ключа на остальных узлах] **********************************************************************************************************************
2025-07-26 17:18:01,566 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:01 +0000 (0:00:00.407)       0:01:24.735 ********* 
2025-07-26 17:18:02,923 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:02,970 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:02,974 p=111387 u=master n=ansible | TASK [common : [COMMON] Настройка прав доступа на ключ MUNGE (мастер)] ****************************************************************************************************************
2025-07-26 17:18:02,974 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:02 +0000 (0:00:01.408)       0:01:26.144 ********* 
2025-07-26 17:18:02,991 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:02,998 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:03,001 p=111387 u=master n=ansible | TASK [common : [COMMON] Запуск и включение MUNGE] *************************************************************************************************************************************
2025-07-26 17:18:03,001 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:03 +0000 (0:00:00.027)       0:01:26.171 ********* 
2025-07-26 17:18:04,983 p=111387 u=master n=ansible | changed: [cn02]
2025-07-26 17:18:04,985 p=111387 u=master n=ansible | changed: [cn01]
2025-07-26 17:18:04,988 p=111387 u=master n=ansible | TASK [common : [COMMON] Проверка работы MUNGE] ****************************************************************************************************************************************
2025-07-26 17:18:04,989 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:04 +0000 (0:00:01.987)       0:01:28.158 ********* 
2025-07-26 17:18:05,272 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:05,280 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:05,284 p=111387 u=master n=ansible | TASK [common : [COMMON] Результат проверки MUNGE] *************************************************************************************************************************************
2025-07-26 17:18:05,284 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:05 +0000 (0:00:00.295)       0:01:28.453 ********* 
2025-07-26 17:18:05,313 p=111387 u=master n=ansible | ok: [cn01] => 
  msg: MUNGE работает корректно на cn01
2025-07-26 17:18:05,321 p=111387 u=master n=ansible | ok: [cn02] => 
  msg: MUNGE работает корректно на cn02
2025-07-26 17:18:05,324 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка HWLOC] **********************************************************************************************************************************************
2025-07-26 17:18:05,324 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:05 +0000 (0:00:00.040)       0:01:28.494 ********* 
2025-07-26 17:18:06,331 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:06,391 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:06,394 p=111387 u=master n=ansible | TASK [common : [COMMON] Проверка HWLOC] ***********************************************************************************************************************************************
2025-07-26 17:18:06,395 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:06 +0000 (0:00:01.070)       0:01:29.564 ********* 
2025-07-26 17:18:06,671 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:06,679 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:06,682 p=111387 u=master n=ansible | TASK [common : [COMMON] Версия HWLOC] *************************************************************************************************************************************************
2025-07-26 17:18:06,683 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:06 +0000 (0:00:00.287)       0:01:29.852 ********* 
2025-07-26 17:18:06,706 p=111387 u=master n=ansible | ok: [cn01] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 17:18:06,714 p=111387 u=master n=ansible | ok: [cn02] => 
  msg: 'Установлена версия HWLOC: lstopo 2.10.0'
2025-07-26 17:18:06,717 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка NFS server на master] *******************************************************************************************************************************
2025-07-26 17:18:06,717 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:06 +0000 (0:00:00.034)       0:01:29.887 ********* 
2025-07-26 17:18:06,734 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:06,741 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:06,745 p=111387 u=master n=ansible | TASK [common : [COMMON] Создание директорий для экспорта NFS] *************************************************************************************************************************
2025-07-26 17:18:06,745 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:06 +0000 (0:00:00.027)       0:01:29.915 ********* 
2025-07-26 17:18:06,763 p=111387 u=master n=ansible | skipping: [cn01] => (item=/home) 
2025-07-26 17:18:06,764 p=111387 u=master n=ansible | skipping: [cn01] => (item=/sw) 
2025-07-26 17:18:06,765 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:06,770 p=111387 u=master n=ansible | skipping: [cn02] => (item=/home) 
2025-07-26 17:18:06,774 p=111387 u=master n=ansible | skipping: [cn02] => (item=/sw) 
2025-07-26 17:18:06,776 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:06,779 p=111387 u=master n=ansible | TASK [common : [COMMON] Очистка старых экспортов] *************************************************************************************************************************************
2025-07-26 17:18:06,779 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:06 +0000 (0:00:00.033)       0:01:29.949 ********* 
2025-07-26 17:18:06,796 p=111387 u=master n=ansible | skipping: [cn01] => (item=/home) 
2025-07-26 17:18:06,799 p=111387 u=master n=ansible | skipping: [cn01] => (item=/sw) 
2025-07-26 17:18:06,800 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:06,805 p=111387 u=master n=ansible | skipping: [cn02] => (item=/home) 
2025-07-26 17:18:06,808 p=111387 u=master n=ansible | skipping: [cn02] => (item=/sw) 
2025-07-26 17:18:06,809 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:06,812 p=111387 u=master n=ansible | TASK [common : [COMMON] Настройка экспорта NFS (автоопределение IP)] ******************************************************************************************************************
2025-07-26 17:18:06,813 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:06 +0000 (0:00:00.033)       0:01:29.982 ********* 
2025-07-26 17:18:06,869 p=111387 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': 'cn01'}) 
2025-07-26 17:18:06,870 p=111387 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': 'cn02'}) 
2025-07-26 17:18:06,873 p=111387 u=master n=ansible | skipping: [cn01] => (item={'path': '/home', 'client_ip': 'sm02'}) 
2025-07-26 17:18:06,876 p=111387 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': 'cn01'}) 
2025-07-26 17:18:06,877 p=111387 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': 'cn01'}) 
2025-07-26 17:18:06,878 p=111387 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': 'cn02'}) 
2025-07-26 17:18:06,880 p=111387 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': 'cn02'}) 
2025-07-26 17:18:06,881 p=111387 u=master n=ansible | skipping: [cn01] => (item={'path': '/sw', 'client_ip': 'sm02'}) 
2025-07-26 17:18:06,884 p=111387 u=master n=ansible | skipping: [cn02] => (item={'path': '/home', 'client_ip': 'sm02'}) 
2025-07-26 17:18:06,884 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:06,886 p=111387 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': 'cn01'}) 
2025-07-26 17:18:06,888 p=111387 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': 'cn02'}) 
2025-07-26 17:18:06,890 p=111387 u=master n=ansible | skipping: [cn02] => (item={'path': '/sw', 'client_ip': 'sm02'}) 
2025-07-26 17:18:06,892 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:06,895 p=111387 u=master n=ansible | TASK [common : [COMMON] Запуск и включение NFS server] ********************************************************************************************************************************
2025-07-26 17:18:06,895 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:06 +0000 (0:00:00.082)       0:01:30.065 ********* 
2025-07-26 17:18:06,912 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:06,919 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:06,922 p=111387 u=master n=ansible | TASK [common : [COMMON] Принудительная перезагрузка экспортов NFS] ********************************************************************************************************************
2025-07-26 17:18:06,922 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:06 +0000 (0:00:00.027)       0:01:30.092 ********* 
2025-07-26 17:18:06,938 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:06,946 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:06,949 p=111387 u=master n=ansible | TASK [common : [COMMON] Проверка активных экспортов] **********************************************************************************************************************************
2025-07-26 17:18:06,949 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:06 +0000 (0:00:00.026)       0:01:30.119 ********* 
2025-07-26 17:18:06,965 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:06,972 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:06,975 p=111387 u=master n=ansible | TASK [common : [COMMON] Показать активные экспорты] ***********************************************************************************************************************************
2025-07-26 17:18:06,975 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:06 +0000 (0:00:00.026)       0:01:30.145 ********* 
2025-07-26 17:18:06,992 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:06,999 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:07,003 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка NFS client] *****************************************************************************************************************************************
2025-07-26 17:18:07,003 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:07 +0000 (0:00:00.028)       0:01:30.173 ********* 
2025-07-26 17:18:08,107 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:08,108 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:08,111 p=111387 u=master n=ansible | TASK [common : [COMMON] Создание точек монтирования NFS] ******************************************************************************************************************************
2025-07-26 17:18:08,112 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:08 +0000 (0:00:01.108)       0:01:31.281 ********* 
2025-07-26 17:18:08,395 p=111387 u=master n=ansible | ok: [cn01] => (item=/sw)
2025-07-26 17:18:08,399 p=111387 u=master n=ansible | ok: [cn02] => (item=/sw)
2025-07-26 17:18:08,403 p=111387 u=master n=ansible | TASK [common : [COMMON] Монтирование NFS shares (автоопределение сервера)] ************************************************************************************************************
2025-07-26 17:18:08,403 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:08 +0000 (0:00:00.291)       0:01:31.573 ********* 
2025-07-26 17:18:08,821 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/home', 'src': '/home'})
2025-07-26 17:18:08,823 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/home', 'src': '/home'})
2025-07-26 17:18:09,088 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 17:18:09,091 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/sw', 'src': '/sw'})
2025-07-26 17:18:09,095 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка MariaDB] ********************************************************************************************************************************************
2025-07-26 17:18:09,096 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:09 +0000 (0:00:00.692)       0:01:32.265 ********* 
2025-07-26 17:18:09,113 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:09,120 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:09,124 p=111387 u=master n=ansible | TASK [common : [COMMON] Установка python3-pymysql для Ansible mysql модулей] **********************************************************************************************************
2025-07-26 17:18:09,124 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:09 +0000 (0:00:00.028)       0:01:32.293 ********* 
2025-07-26 17:18:09,140 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:09,147 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:09,150 p=111387 u=master n=ansible | TASK [common : [COMMON] Создание базовых директорий Slurm] ****************************************************************************************************************************
2025-07-26 17:18:09,151 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:09 +0000 (0:00:00.026)       0:01:32.320 ********* 
2025-07-26 17:18:09,444 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:18:09,447 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/var/log/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:18:09,707 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:18:09,708 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:18:09,974 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:18:09,975 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm/ctld', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:18:10,234 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:18:10,235 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/var/spool/slurm/d', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:18:10,486 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 17:18:10,494 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/slurm', 'owner': 'root', 'group': 'root', 'mode': '0755'})
2025-07-26 17:18:10,746 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:18:10,768 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/var/lib/slurm', 'owner': 'slurm', 'group': 'slurm', 'mode': '0755'})
2025-07-26 17:18:10,774 p=111387 u=master n=ansible | TASK [common : [COMMON] Роль common выполнена успешно] ********************************************************************************************************************************
2025-07-26 17:18:10,774 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:10 +0000 (0:00:01.623)       0:01:33.944 ********* 
2025-07-26 17:18:10,797 p=111387 u=master n=ansible | ok: [cn01] => 
  msg: ✅ Узел cn01 готов для установки Slurm
2025-07-26 17:18:10,803 p=111387 u=master n=ansible | ok: [cn02] => 
  msg: ✅ Узел cn02 готов для установки Slurm
2025-07-26 17:18:10,816 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Начало сборки Slurm] ********************************************************************************************************************************
2025-07-26 17:18:10,816 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:10 +0000 (0:00:00.042)       0:01:33.986 ********* 
2025-07-26 17:18:10,837 p=111387 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на cn01"
2025-07-26 17:18:10,846 p=111387 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F527 Сборка Slurm 25.05.1 с JWT поддержкой на cn02"
2025-07-26 17:18:10,849 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка дополнительных зависимостей для сборки] ***************************************************************************************************
2025-07-26 17:18:10,849 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:10 +0000 (0:00:00.032)       0:01:34.019 ********* 
2025-07-26 17:18:10,865 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:10,872 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:10,875 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание временной директории для сборки] ***********************************************************************************************************
2025-07-26 17:18:10,875 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:10 +0000 (0:00:00.026)       0:01:34.045 ********* 
2025-07-26 17:18:10,896 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:10,906 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:10,909 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка существования исходников] ******************************************************************************************************************
2025-07-26 17:18:10,909 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:10 +0000 (0:00:00.033)       0:01:34.079 ********* 
2025-07-26 17:18:10,927 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:10,934 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:10,940 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Скачивание исходников Slurm 25.05.1] ****************************************************************************************************************
2025-07-26 17:18:10,940 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:10 +0000 (0:00:00.030)       0:01:34.110 ********* 
2025-07-26 17:18:10,957 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:10,965 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:10,968 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Извлечение исходников Slurm] ************************************************************************************************************************
2025-07-26 17:18:10,968 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:10 +0000 (0:00:00.028)       0:01:34.138 ********* 
2025-07-26 17:18:10,985 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:10,993 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:10,997 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Конфигурация сборки Slurm с JWT поддержкой] *********************************************************************************************************
2025-07-26 17:18:10,997 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:10 +0000 (0:00:00.028)       0:01:34.167 ********* 
2025-07-26 17:18:11,015 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:11,024 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:11,027 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результат конфигурации] *****************************************************************************************************************************
2025-07-26 17:18:11,028 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:11 +0000 (0:00:00.030)       0:01:34.197 ********* 
2025-07-26 17:18:11,044 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:11,052 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:11,055 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Компиляция Slurm (это займет время...)] *************************************************************************************************************
2025-07-26 17:18:11,055 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:11 +0000 (0:00:00.027)       0:01:34.225 ********* 
2025-07-26 17:18:11,072 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:11,080 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:11,084 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка Slurm на master] **************************************************************************************************************************
2025-07-26 17:18:11,084 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:11 +0000 (0:00:00.028)       0:01:34.253 ********* 
2025-07-26 17:18:11,100 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:11,109 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:11,112 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Установка development файлов (headers для Pyxis)] ***************************************************************************************************
2025-07-26 17:18:11,112 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:11 +0000 (0:00:00.028)       0:01:34.282 ********* 
2025-07-26 17:18:11,130 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:11,139 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:11,142 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание директории Slurm на всех узлах] ************************************************************************************************************
2025-07-26 17:18:11,142 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:11 +0000 (0:00:00.030)       0:01:34.312 ********* 
2025-07-26 17:18:11,430 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:11,431 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:11,434 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Исправление прав доступа к /sw на NFS сервере] ******************************************************************************************************
2025-07-26 17:18:11,435 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:11 +0000 (0:00:00.292)       0:01:34.604 ********* 
2025-07-26 17:18:11,452 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:11,459 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:11,462 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] ПРОСТОЕ копирование через NFS (С ДЕТАЛЬНЫМ ЛОГИРОВАНИЕМ)] *******************************************************************************************
2025-07-26 17:18:11,462 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:11 +0000 (0:00:00.027)       0:01:34.632 ********* 
2025-07-26 17:18:11,478 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:11,487 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:11,490 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Копирование Slurm на все узлы из NFS] ***************************************************************************************************************
2025-07-26 17:18:11,491 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:11 +0000 (0:00:00.028)       0:01:34.660 ********* 
2025-07-26 17:18:11,787 p=111387 u=master n=ansible | changed: [cn01]
2025-07-26 17:18:11,788 p=111387 u=master n=ansible | changed: [cn02]
2025-07-26 17:18:11,791 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание символических ссылок для пользовательских команд Slurm] ************************************************************************************
2025-07-26 17:18:11,792 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:11 +0000 (0:00:00.301)       0:01:34.961 ********* 
2025-07-26 17:18:12,074 p=111387 u=master n=ansible | ok: [cn01] => (item=sinfo)
2025-07-26 17:18:12,086 p=111387 u=master n=ansible | ok: [cn02] => (item=sinfo)
2025-07-26 17:18:12,332 p=111387 u=master n=ansible | ok: [cn01] => (item=squeue)
2025-07-26 17:18:12,350 p=111387 u=master n=ansible | ok: [cn02] => (item=squeue)
2025-07-26 17:18:12,600 p=111387 u=master n=ansible | ok: [cn01] => (item=scancel)
2025-07-26 17:18:12,616 p=111387 u=master n=ansible | ok: [cn02] => (item=scancel)
2025-07-26 17:18:12,858 p=111387 u=master n=ansible | ok: [cn01] => (item=sbatch)
2025-07-26 17:18:12,984 p=111387 u=master n=ansible | ok: [cn02] => (item=sbatch)
2025-07-26 17:18:13,114 p=111387 u=master n=ansible | ok: [cn01] => (item=salloc)
2025-07-26 17:18:13,128 p=111387 u=master n=ansible | ok: [cn02] => (item=salloc)
2025-07-26 17:18:13,369 p=111387 u=master n=ansible | ok: [cn01] => (item=srun)
2025-07-26 17:18:13,384 p=111387 u=master n=ansible | ok: [cn02] => (item=srun)
2025-07-26 17:18:13,625 p=111387 u=master n=ansible | ok: [cn01] => (item=sacct)
2025-07-26 17:18:13,644 p=111387 u=master n=ansible | ok: [cn02] => (item=sacct)
2025-07-26 17:18:13,882 p=111387 u=master n=ansible | ok: [cn01] => (item=scontrol)
2025-07-26 17:18:13,903 p=111387 u=master n=ansible | ok: [cn02] => (item=scontrol)
2025-07-26 17:18:14,137 p=111387 u=master n=ansible | ok: [cn01] => (item=sprio)
2025-07-26 17:18:14,160 p=111387 u=master n=ansible | ok: [cn02] => (item=sprio)
2025-07-26 17:18:14,391 p=111387 u=master n=ansible | ok: [cn01] => (item=smap)
2025-07-26 17:18:14,568 p=111387 u=master n=ansible | ok: [cn02] => (item=smap)
2025-07-26 17:18:14,648 p=111387 u=master n=ansible | ok: [cn01] => (item=sdiag)
2025-07-26 17:18:14,827 p=111387 u=master n=ansible | ok: [cn02] => (item=sdiag)
2025-07-26 17:18:14,919 p=111387 u=master n=ansible | ok: [cn01] => (item=sstat)
2025-07-26 17:18:15,093 p=111387 u=master n=ansible | ok: [cn02] => (item=sstat)
2025-07-26 17:18:15,183 p=111387 u=master n=ansible | ok: [cn01] => (item=sreport)
2025-07-26 17:18:15,355 p=111387 u=master n=ansible | ok: [cn02] => (item=sreport)
2025-07-26 17:18:15,443 p=111387 u=master n=ansible | ok: [cn01] => (item=sacctmgr)
2025-07-26 17:18:15,613 p=111387 u=master n=ansible | ok: [cn02] => (item=sacctmgr)
2025-07-26 17:18:15,700 p=111387 u=master n=ansible | ok: [cn01] => (item=sattach)
2025-07-26 17:18:15,870 p=111387 u=master n=ansible | ok: [cn02] => (item=sattach)
2025-07-26 17:18:15,954 p=111387 u=master n=ansible | ok: [cn01] => (item=sbcast)
2025-07-26 17:18:16,128 p=111387 u=master n=ansible | ok: [cn02] => (item=sbcast)
2025-07-26 17:18:16,288 p=111387 u=master n=ansible | ok: [cn01] => (item=sshare)
2025-07-26 17:18:16,385 p=111387 u=master n=ansible | ok: [cn02] => (item=sshare)
2025-07-26 17:18:16,546 p=111387 u=master n=ansible | ok: [cn01] => (item=sview)
2025-07-26 17:18:16,641 p=111387 u=master n=ansible | ok: [cn02] => (item=sview)
2025-07-26 17:18:16,653 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Создание символических ссылок для системных демонов Slurm] ******************************************************************************************
2025-07-26 17:18:16,653 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:16 +0000 (0:00:04.861)       0:01:39.823 ********* 
2025-07-26 17:18:16,929 p=111387 u=master n=ansible | ok: [cn01] => (item=slurmctld)
2025-07-26 17:18:16,937 p=111387 u=master n=ansible | ok: [cn02] => (item=slurmctld)
2025-07-26 17:18:17,181 p=111387 u=master n=ansible | ok: [cn01] => (item=slurmd)
2025-07-26 17:18:17,195 p=111387 u=master n=ansible | ok: [cn02] => (item=slurmd)
2025-07-26 17:18:17,434 p=111387 u=master n=ansible | ok: [cn01] => (item=slurmdbd)
2025-07-26 17:18:17,455 p=111387 u=master n=ansible | ok: [cn02] => (item=slurmdbd)
2025-07-26 17:18:17,688 p=111387 u=master n=ansible | ok: [cn01] => (item=slurmrestd)
2025-07-26 17:18:17,709 p=111387 u=master n=ansible | ok: [cn02] => (item=slurmrestd)
2025-07-26 17:18:17,940 p=111387 u=master n=ansible | ok: [cn01] => (item=slurmstepd)
2025-07-26 17:18:17,970 p=111387 u=master n=ansible | ok: [cn02] => (item=slurmstepd)
2025-07-26 17:18:17,976 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Обновление библиотечного кеша] **********************************************************************************************************************
2025-07-26 17:18:17,977 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:17 +0000 (0:00:01.323)       0:01:41.146 ********* 
2025-07-26 17:18:18,624 p=111387 u=master n=ansible | changed: [cn01]
2025-07-26 17:18:18,686 p=111387 u=master n=ansible | changed: [cn02]
2025-07-26 17:18:18,689 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка версии Slurm (без подключения к демону)] ***************************************************************************************************
2025-07-26 17:18:18,690 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:18 +0000 (0:00:00.712)       0:01:41.859 ********* 
2025-07-26 17:18:18,969 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:18,977 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:18,980 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки JWT] *****************************************************************************************************************************
2025-07-26 17:18:18,981 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:18 +0000 (0:00:00.291)       0:01:42.150 ********* 
2025-07-26 17:18:19,249 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:19,261 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:19,264 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки GPU/NVIDIA] **********************************************************************************************************************
2025-07-26 17:18:19,264 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:19 +0000 (0:00:00.283)       0:01:42.434 ********* 
2025-07-26 17:18:19,544 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:19,557 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:19,560 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Проверка поддержки MySQL] ***************************************************************************************************************************
2025-07-26 17:18:19,560 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:19 +0000 (0:00:00.295)       0:01:42.730 ********* 
2025-07-26 17:18:19,830 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:19,837 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:19,841 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Результаты проверки] ********************************************************************************************************************************
2025-07-26 17:18:19,841 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:19 +0000 (0:00:00.280)       0:01:43.011 ********* 
2025-07-26 17:18:19,865 p=111387 u=master n=ansible | ok: [cn01] => 
  msg: "✅ Slurm успешно установлен на cn01\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 17:18:19,871 p=111387 u=master n=ansible | ok: [cn02] => 
  msg: "✅ Slurm успешно установлен на cn02\n\U0001F4CB Версия: slurm 25.05.1\n\U0001F510 JWT поддержка: JWT support check\n\U0001F3AE GPU поддержка: GresTypes               = gpu\n\U0001F4BE MySQL поддержка: MySQL support check\n\U0001F4CD Путь установки: /opt/slurm\n\U0001F517 Команды доступны в /usr/bin/, демоны в /usr/sbin/"
2025-07-26 17:18:19,875 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Сборка завершена успешно] ***************************************************************************************************************************
2025-07-26 17:18:19,875 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:19 +0000 (0:00:00.033)       0:01:43.045 ********* 
2025-07-26 17:18:19,898 p=111387 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на cn01"
2025-07-26 17:18:19,905 p=111387 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F389 Slurm 25.05.1 с JWT готов к настройке на cn02"
2025-07-26 17:18:19,908 p=111387 u=master n=ansible | TASK [slurm_build : [SLURM_BUILD] Очистка временных файлов из NFS] ********************************************************************************************************************
2025-07-26 17:18:19,908 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:19 +0000 (0:00:00.033)       0:01:43.078 ********* 
2025-07-26 17:18:19,926 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:19,933 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:19,939 p=111387 u=master n=ansible | TASK [containers : [CONTAINERS] Начало установки Enroot + Pyxis] **********************************************************************************************************************
2025-07-26 17:18:19,939 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:19 +0000 (0:00:00.030)       0:01:43.109 ********* 
2025-07-26 17:18:19,987 p=111387 u=master n=ansible | ok: [cn01] => 
  msg: "\U0001F680 Установка контейнерной поддержки на cn01\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 17:18:19,993 p=111387 u=master n=ansible | ok: [cn02] => 
  msg: "\U0001F680 Установка контейнерной поддержки на cn02\n\U0001F4E6 Enroot 3.5.0 + Pyxis 0.20.0\n\U0001F3AE GPU: включено"
2025-07-26 17:18:19,997 p=111387 u=master n=ansible | TASK [containers : [CONTAINERS] Установка системных зависимостей] *********************************************************************************************************************
2025-07-26 17:18:19,997 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:19 +0000 (0:00:00.057)       0:01:43.167 ********* 
2025-07-26 17:18:21,907 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:21,967 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:21,971 p=111387 u=master n=ansible | TASK [containers : [CONTAINERS] Создание базовых директорий] **************************************************************************************************************************
2025-07-26 17:18:21,971 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:21 +0000 (0:00:01.973)       0:01:45.141 ********* 
2025-07-26 17:18:22,309 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/enroot'})
2025-07-26 17:18:22,317 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/enroot'})
2025-07-26 17:18:22,567 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/var/lib/enroot'})
2025-07-26 17:18:22,580 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/var/lib/enroot'})
2025-07-26 17:18:22,825 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/var/cache/enroot'})
2025-07-26 17:18:22,839 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/var/cache/enroot'})
2025-07-26 17:18:23,084 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/run/enroot', 'mode': '0755'})
2025-07-26 17:18:23,102 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/run/enroot', 'mode': '0755'})
2025-07-26 17:18:23,345 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/slurm/prolog.d'})
2025-07-26 17:18:23,360 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/slurm/prolog.d'})
2025-07-26 17:18:23,605 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/slurm/epilog.d'})
2025-07-26 17:18:23,616 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/slurm/epilog.d'})
2025-07-26 17:18:23,868 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/tmp/containers-build'})
2025-07-26 17:18:24,124 p=111387 u=master n=ansible | ok: [cn01] => (item={'path': '/etc/enroot/hooks.d'})
2025-07-26 17:18:24,185 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/tmp/containers-build'})
2025-07-26 17:18:24,443 p=111387 u=master n=ansible | ok: [cn02] => (item={'path': '/etc/enroot/hooks.d'})
2025-07-26 17:18:24,449 p=111387 u=master n=ansible | TASK [containers : [CONTAINERS] Увеличение размера tmpfs для /run (для больших образов)] **********************************************************************************************
2025-07-26 17:18:24,449 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:24 +0000 (0:00:02.478)       0:01:47.619 ********* 
2025-07-26 17:18:24,747 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:24,761 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:24,765 p=111387 u=master n=ansible | TASK [containers : [CONTAINERS] Проверка существования Enroot] ************************************************************************************************************************
2025-07-26 17:18:24,765 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:24 +0000 (0:00:00.315)       0:01:47.935 ********* 
2025-07-26 17:18:25,042 p=111387 u=master n=ansible | ok: [cn01]
2025-07-26 17:18:25,055 p=111387 u=master n=ansible | ok: [cn02]
2025-07-26 17:18:25,060 p=111387 u=master n=ansible | TASK [containers : [CONTAINERS] Скачивание Enroot 3.5.0] ******************************************************************************************************************************
2025-07-26 17:18:25,060 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:25 +0000 (0:00:00.295)       0:01:48.230 ********* 
2025-07-26 17:18:25,077 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:25,084 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:25,087 p=111387 u=master n=ansible | TASK [containers : [CONTAINERS] Установка Enroot из DEB пакета] ***********************************************************************************************************************
2025-07-26 17:18:25,087 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:25 +0000 (0:00:00.026)       0:01:48.257 ********* 
2025-07-26 17:18:25,103 p=111387 u=master n=ansible | skipping: [cn01]
2025-07-26 17:18:25,112 p=111387 u=master n=ansible | skipping: [cn02]
2025-07-26 17:18:25,116 p=111387 u=master n=ansible | TASK [containers : [CONTAINERS] Создание конфигурации Enroot] *************************************************************************************************************************
2025-07-26 17:18:25,117 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:25 +0000 (0:00:00.030)       0:01:48.287 ********* 
2025-07-26 17:18:25,396 p=111387 u=master n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleUndefinedVariable: 'ansible_date_time' is undefined. 'ansible_date_time' is undefined
2025-07-26 17:18:25,397 p=111387 u=master n=ansible | fatal: [cn01]: FAILED! => changed=false 
  msg: 'AnsibleUndefinedVariable: ''ansible_date_time'' is undefined. ''ansible_date_time'' is undefined'
2025-07-26 17:18:25,400 p=111387 u=master n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleUndefinedVariable: 'ansible_date_time' is undefined. 'ansible_date_time' is undefined
2025-07-26 17:18:25,400 p=111387 u=master n=ansible | fatal: [cn02]: FAILED! => changed=false 
  msg: 'AnsibleUndefinedVariable: ''ansible_date_time'' is undefined. ''ansible_date_time'' is undefined'
2025-07-26 17:18:25,402 p=111387 u=master n=ansible | PLAY RECAP ****************************************************************************************************************************************************************************
2025-07-26 17:18:25,402 p=111387 u=master n=ansible | cn01                       : ok=41   changed=8    unreachable=0    failed=1    skipped=29   rescued=0    ignored=0   
2025-07-26 17:18:25,402 p=111387 u=master n=ansible | cn02                       : ok=41   changed=8    unreachable=0    failed=1    skipped=29   rescued=0    ignored=0   
2025-07-26 17:18:25,402 p=111387 u=master n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-26 17:18:25,402 p=111387 u=master n=ansible | sm01                       : ok=58   changed=17   unreachable=0    failed=0    skipped=12   rescued=0    ignored=0   
2025-07-26 17:18:25,402 p=111387 u=master n=ansible | sm02                       : ok=2    changed=1    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2025-07-26 17:18:25,403 p=111387 u=master n=ansible | Playbook run took 0 days, 0 hours, 1 minutes, 48 seconds
2025-07-26 17:18:25,403 p=111387 u=master n=ansible | Saturday 26 July 2025  17:18:25 +0000 (0:00:00.285)       0:01:48.572 ********* 
2025-07-26 17:18:25,403 p=111387 u=master n=ansible | =============================================================================== 
2025-07-26 17:18:25,403 p=111387 u=master n=ansible | slurm_build : [SLURM_BUILD] Установка дополнительных зависимостей для сборки -------------------------------------------------------------------------------------------------- 18.33s
2025-07-26 17:18:25,403 p=111387 u=master n=ansible | common : [COMMON] Установка базовых пакетов ----------------------------------------------------------------------------------------------------------------------------------- 12.17s
2025-07-26 17:18:25,404 p=111387 u=master n=ansible | common : [COMMON] Обновление apt cache ----------------------------------------------------------------------------------------------------------------------------------------- 5.77s
2025-07-26 17:18:25,404 p=111387 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание символических ссылок для пользовательских команд Slurm ------------------------------------------------------------------------------------ 4.86s
2025-07-26 17:18:25,404 p=111387 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание символических ссылок для пользовательских команд Slurm ------------------------------------------------------------------------------------ 4.71s
2025-07-26 17:18:25,404 p=111387 u=master n=ansible | [DISTRIBUTE] Копирование Slurm из NFS ------------------------------------------------------------------------------------------------------------------------------------------ 4.64s
2025-07-26 17:18:25,404 p=111387 u=master n=ansible | containers : [CONTAINERS] Создание базовых директорий -------------------------------------------------------------------------------------------------------------------------- 2.48s
2025-07-26 17:18:25,404 p=111387 u=master n=ansible | common : [COMMON] Запуск и включение MUNGE ------------------------------------------------------------------------------------------------------------------------------------- 1.99s
2025-07-26 17:18:25,404 p=111387 u=master n=ansible | common : [COMMON] Запуск и включение MUNGE ------------------------------------------------------------------------------------------------------------------------------------- 1.99s
2025-07-26 17:18:25,404 p=111387 u=master n=ansible | containers : [CONTAINERS] Установка системных зависимостей --------------------------------------------------------------------------------------------------------------------- 1.97s
2025-07-26 17:18:25,404 p=111387 u=master n=ansible | common : [COMMON] Остановка MUNGE перед настройкой ----------------------------------------------------------------------------------------------------------------------------- 1.94s
2025-07-26 17:18:25,404 p=111387 u=master n=ansible | common : [COMMON] Обновление apt cache ----------------------------------------------------------------------------------------------------------------------------------------- 1.88s
2025-07-26 17:18:25,404 p=111387 u=master n=ansible | common : [COMMON] Остановка MUNGE перед настройкой ----------------------------------------------------------------------------------------------------------------------------- 1.68s
2025-07-26 17:18:25,405 p=111387 u=master n=ansible | [CLEANUP] Удаление старого Pyxis ----------------------------------------------------------------------------------------------------------------------------------------------- 1.67s
2025-07-26 17:18:25,405 p=111387 u=master n=ansible | common : [COMMON] Настройка экспорта NFS (автоопределение IP) ------------------------------------------------------------------------------------------------------------------ 1.63s
2025-07-26 17:18:25,405 p=111387 u=master n=ansible | common : [COMMON] Создание базовых директорий Slurm ---------------------------------------------------------------------------------------------------------------------------- 1.62s
2025-07-26 17:18:25,405 p=111387 u=master n=ansible | common : [COMMON] Создание базовых директорий Slurm ---------------------------------------------------------------------------------------------------------------------------- 1.57s
2025-07-26 17:18:25,405 p=111387 u=master n=ansible | common : [COMMON] Создание MUNGE ключа на остальных узлах ---------------------------------------------------------------------------------------------------------------------- 1.41s
2025-07-26 17:18:25,405 p=111387 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание символических ссылок для системных демонов Slurm ------------------------------------------------------------------------------------------ 1.32s
2025-07-26 17:18:25,405 p=111387 u=master n=ansible | slurm_build : [SLURM_BUILD] Создание символических ссылок для системных демонов Slurm ------------------------------------------------------------------------------------------ 1.31s
